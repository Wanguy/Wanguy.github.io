<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰]]></title>
    <url>%2F2019%2F04%2F21%2FSVM%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹ æ”¯æŒå‘é‡æœºä¸Žä¸Šä¸–çºª90å¹´ä»£æ­£å¼ç”±Vapnikå’ŒCortesæ­£å¼å‘è¡¨ï¼Œåœ¨æ–‡æœ¬åˆ†ç±»ä»»åŠ¡ä¸­æ˜¾ç¤º å‡ºå“è¶Šæ€§èƒ½ï¼Œå¾ˆå¿«æˆä¸ºæœºå™¨å­¦ä¹ ä¸»æµæŠ€æœ¯ï¼Œç›´æŽ¥æŽ€èµ·äº†2000å¹´å‰åŽç»Ÿè®¡å­¦ä¹ çš„é«˜æ½®ã€‚ æ”¯æŒå‘é‡æœºæ€æƒ³ç›´è§‚ï¼Œä½†ç»†èŠ‚å¤æ‚ï¼Œæ¶µç›–å‡¸ä¼˜åŒ–ï¼Œæ ¸å‡½æ•°ï¼Œæ‹‰æ ¼æœ—æ—¥ç®—å­ç­‰ç†è®º æ”¯æŒå‘é‡æœº ï¼ˆsupport vector machineï¼‰ï¼š äºŒåˆ†ç±»æ¨¡åž‹ï¼Œä¹Ÿå¯ç”¨äºŽå›žå½’åˆ†æž å­¦ä¹ ç­–ç•¥ï¼š æœ€å¤§é—´éš”åŒ– å‡¸ä¼˜åŒ–ï¼Œå¯¹å¶ï¼ŒKKTæ¡ä»¶ æœºå™¨å­¦ä¹ ç®—æ³•åˆ†ç±» å›žå½’ï¼ˆç›‘ç£å­¦ä¹ ï¼‰ï¼š çº¿æ€§å›žå½’ ï¼ˆlinear regressionï¼‰ å†³ç­–æ ‘å›žå½’ ï¼ˆdecision tree regressionï¼‰ æ”¯æŒå‘é‡å›žå½’ ï¼ˆsupport vector regressionï¼‰ ç¥žç»ç½‘ç»œ ï¼ˆneural networkï¼‰ åˆ†ç±» ï¼ˆç›‘ç£å­¦ä¹ ï¼‰ï¼š é€»è¾‘å›žå½’ ï¼ˆlogistic regressionï¼‰ å†³ç­–æ ‘åˆ†ç±»ï¼ˆdecision tree classificationï¼‰ æ”¯æŒå‘é‡æœº ï¼ˆsupport vector machineï¼‰ æœ´ç´ è´å¶æ–¯ ï¼ˆnaive Bayesï¼‰ èšç±»ï¼ˆåŠç›‘ç£å­¦ä¹ ï¼‰ï¼š K å‡å€¼ ï¼ˆK-meansï¼‰ çº¿æ€§åˆ†ç±»åˆ†ç±»ç®—æ³•çš„èµ·æºï¼š é€»è¾‘å›žå½’ h_{\theta}(x)=\frac{1}{1+e^{-f(x)}} P(y=1 | x ; \theta)=h_{\theta}(x) P(y=0 | x ; \theta)=1-h_{\theta}(x) f(x)=w^{T} x+b$ð‘¤$: æƒé‡ $ð‘$: æˆªè·ï¼ˆä½ç§»ï¼‰ å¦‚ä½•å†³å®šæœ€å¥½çš„å‚æ•°ï¼š$ð‘¤$ &amp; $ð‘$ æ”¯æŒå‘é‡æœºçš„æ ¸å¿ƒæ€æƒ³ï¼š æœ€å¤§é—´éš”åŒ–ï¼Œ æœ€ä¸å—åˆ°å™ªå£°çš„å¹²æ‰° SVMåˆ’åˆ†çš„è¶…å¹³é¢ï¼š w^{T} x+b=0$\boldsymbol{w}=\left(w_{1}, w_{2}, \dots, w_{d}\right)$ä¸ºæ³•å‘é‡ï¼Œå†³å®šè¶…å¹³é¢æ–¹å‘ å‡è®¾è¶…å¹³é¢å°†æ ·æœ¬æ­£ç¡®åˆ’åˆ† \left\{\begin{array}{l}{w^{T} x+b \geq 1, y=+1} \\ {w^{T} x+b \leq-1, y=-1}\end{array}\right. è·ç¦»è¶…å¹³é¢æœ€è¿‘çš„å‡ ä¸ªç‚¹å«åšæ”¯æŒå‘é‡ é—´éš”ï¼ˆmarginï¼‰ï¼š$r=\frac{2}{| | w| |}$ æ”¯æŒå‘é‡æœºï¼š æœ€å¤§é—´éš”åŒ– çº¦æŸæ¡ä»¶: \begin{array}{c}{\max _{w, b} \frac{2}{\|w\|}} \\ {\text { s.t. } y_{i}\left(w^{T} x_{i}+b\right) \geq 1}\end{array}\\ \left(x_{i}, y_{i}\right) \in D å±žäºŽæ ·æœ¬ç©ºé—´â€‹ ç­‰ä»·äºŽ \begin{array}{c}{\min _{w, b} \frac{1}{2}\|w\|^{2}} \\ {\text { s.t. } y_{i}\left(w^{T} x_{i}+b\right) \geq 1}\end{array}\\ \left(x_{i}, y_{i}\right) \in D å±žäºŽæ ·æœ¬ç©ºé—´æ”¯æŒå‘é‡æœºçš„æœ€åŸºæœ¬è¡¨è¾¾å½¢å¼ï¼Œ æ˜¯ä¸€ä¸ªçº¿æ€§çº¦æŸçš„å‡¸äºŒæ¬¡è§„åˆ’é—®é¢˜ï¼Œ æœ‰æœ€ä¼˜è§£ D=\left\{\left(x_{1}, y_{1}\right),\left(x_{2}, y_{2}\right), \ldots,\left(x_{n}, y_{n}\right)\right\}, y_{i} \in\{-1,+1\}å‡¸å‡½æ•°å‡¸å‡½æ•°ï¼šè®¾$ f(x)$ ä¸ºå®šä¹‰åœ¨$n$ç»´æ¬§å¼ç©ºé—´ä¸­æŸä¸ªå‡¸é›† $S$ ä¸Šçš„å‡½æ•°ï¼Œè‹¥å¯¹äºŽä»» ä½•å®žæ•°$ð›¼ 0 &lt; ð›¼ &lt; 1 $ä»¥åŠ $S$ ä¸­çš„ä¸åŒä¸¤ç‚¹ $x$ , $y$ , å‡æœ‰ï¼š f\left((1-\alpha) x_{0}+\alpha x_{1}\right) \leq(1-\alpha) f\left(x_{0}\right)+\alpha f\left(x_{1}\right)é‚£ä¹ˆï¼Œ $ð‘“(ð‘¥)$ ä¸ºå®šä¹‰åœ¨å‡¸é›† $S$ ä¸Šçš„å‡¸å‡½æ•° å·¦è¾¹ä¸ºå‡¸å‡½æ•°ï¼Œå³è¾¹ä¸ºéžå‡¸å‡½æ•° å‡¸ä¼˜åŒ–å¸¸è§çš„å‡¸å‡½æ•°ï¼š ä»¿å°„å‡½æ•°ï¼ˆaffine functionï¼‰ï¼š$w^{T} x+b$ äºŒæ¬¡å‡½æ•°ï¼ˆquadratic functionï¼‰ï¼š$x^{T} A x+b x+c$ï¼ˆ$A$ ä¸ºåŠæ­£å®šçŸ©é˜µï¼‰ æœ€å°å¹³æ–¹å·®å‡½æ•°ï¼ˆleast squareï¼‰ï¼š$| | y-A x| |_{2}^{2}$ï¼ˆ$A ^T A$ æ€»æ˜¯åŠæ­£å®šçŸ©é˜µï¼‰ max å‡½æ•°ï¼š$\max \left(x_{1}, x_{2}, \ldots, x_{n}\right)$ æœ‰çº¦æŸæ¡ä»¶çš„å‡¸ä¼˜åŒ–é—®é¢˜ï¼š \begin{array}{c}{\min _{x} f(x)} \\ {\text { s.t. } g_{i}(x) \leq 0, i=1,2, \ldots, m} \\ {h_{j}(x)=0, j=1,2, \dots, n}\end{array}å¦‚æžœ $f(x)$, $g(x)$ ä¸ºå‡¸å‡½æ•°ï¼Œ$h(x)$ ä¸ºä»¿å°„å‡½æ•°æ—¶ï¼Œ è¿™æ˜¯ä¸€ä¸ªå‡¸ä¼˜åŒ–çš„é—®é¢˜ã€‚ å¯¹äºŽæ”¯æŒå‘é‡æœºï¼š \begin{array}{c}{\min _{w, b} \frac{1}{2}| | w| |^{2}} \\ {\text {s.t.} y_{i}\left(w^{T} x_{i}+b\right) \geq 1}\end{array}SVM æ˜¯ä¸€ä¸ªå‡¸äºŒæ¬¡è§„åˆ’é—®é¢˜ï¼Œ æœ‰æœ€ä¼˜è§£ æ‹‰æ ¼æœ—æ—¥å¯¹å¶æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ï¼ˆLagrange multipliersï¼‰ ä¸€ç§å¯»æ‰¾å¤šå…ƒå‡½æ•°åœ¨ä¸€ç»„çº¦æŸæ¡ä»¶ä¸‹çš„æžå€¼çš„æ–¹æ³•ã€‚é€šè¿‡å¼•å…¥æ‹‰æ ¼æœ—æ—¥ä¹˜å­ï¼Œå¯å°†æœ‰ $d$ ä¸ªå˜é‡å’Œ $k$ ä¸ªçº¦æŸæ¡ä»¶çš„æœ€ä¼˜åŒ–é—®é¢˜è½¬åŒ–ä¸º $d+k$ ä¸ªå˜é‡çš„æ— çº¦æŸä¼˜åŒ–é—®é¢˜æ±‚è§£ã€‚ å°†åŽŸé—®é¢˜çš„çº¦æŸè§„åˆ’é—®é¢˜è½¬åŒ–ä¸ºå¯¹å¶é—®é¢˜ï¼Œæ˜“äºŽæ±‚è§£ æ‹‰æ ¼æœ—æ—¥ä¹˜å­ï¼šç­‰å¼çº¦æŸ å¯¹äºŽç­‰å¼çº¦æŸé—®é¢˜ï¼š \begin{array}{c}{\min f(x)} \\ {\text {s.t.} g_{i}(x)=0}\end{array}é‚£ä¹ˆå¿…ç„¶æœ‰ï¼š çº¦æŸæ›²é¢ä¸Šçš„ä»»ä¸€ç‚¹ $x$, è¯¥ç‚¹çš„æ¢¯åº¦$\nablað‘”( ð‘¥)$ æ­£äº¤äºŽçº¦æŸæ›²é¢ åœ¨æœ€ä¼˜ç‚¹$ð‘¥ ^âˆ—$ ,$\nablað‘“ (ð‘¥)^ âˆ—$ ä¹Ÿæ­£äº¤äºŽæ›²é¢ åˆ™å­˜åœ¨$\lambda \neq 0$ : \nabla f\left(x^{*}\right)+\lambda \nabla g\left(x^{*}\right)=0å¯å®šä¹‰æ‹‰æ ¼æœ—æ—¥å‡½æ•°, ðœ† ä¸ºæ‹‰æ ¼æœ—æ—¥ä¹˜å­ï¼š L(x, \lambda)=f(x)+\lambda g(x)åŒæ—¶ï¼š \nabla_{x} L(x, \lambda)=0 ; \quad \nabla_{\lambda} L(x, \lambda)=0æ‹‰æ ¼æœ—æ—¥ä¹˜å­ï¼šä¸ç­‰å¼çº¦æŸ å¯¹äºŽä¸ç­‰å¼çº¦æŸé—®é¢˜ï¼š \begin{array}{c}{\min f(x)} \\ {\text { s.t. } g_{i}(x) \leq 0}\end{array} $g(x)&lt;0$ï¼Œçº¦æŸä¸èµ·ä½œç”¨ï¼Œç›´æŽ¥æ±‚è§£ $\nabla f(x)=0, \lambda=0$ $g(x)=0, \nabla f\left(x^{}\right)+\lambda \nabla g\left(x^{}\right)=0, \lambda&gt;0$é‚£ä¹ˆæ‹‰æ ¼æœ—æ—¥å‡½æ•°ä¸ºï¼š L(x, \lambda)=f(x)+\lambda g(x)åŒæ—¶éœ€è¦æ»¡è¶³çš„æ¡ä»¶ä¸ºï¼š \begin{array}{c}{\nabla_{x} L(x, \lambda)=0} \\ {\nabla_{\lambda} L(x, \lambda)=0} \\ {\lambda g(x)=0} \\ {\lambda \geq 0}\end{array}\\ g(x) \leq 0 å³Karush-Kuhn-Tucker (KKT) æ¡ä»¶ æ‹‰æ ¼æœ—æ—¥å¯¹å¶å¹¿ä¹‰æ‹‰æ ¼æœ—æ—¥å‡½æ•°ï¼š \begin{array}{c}{\min _{x} f(x)} \\ {\text { s.t. } g_{i}(x) \leq 0, i=1,2, \ldots, n} \\ {h_{j}(x)=0, j=1,2, \ldots, m}\end{array} L(x, u, \lambda)=f(x)+\sum_{i=1}^{n} \mu_{i} g_{i}(x)+\sum_{i=1}^{m} \lambda_{j} h_{j}(x)æ»¡è¶³ KKT æ¡ä»¶ï¼š \left\{\begin{array}{c}{\nabla_{x, \mu, \lambda} L(x, \mu, \lambda)=0} \\ {g_{i}(x) \leq 0} \\ {\mu_{i} \geq 0} \\ {\mu_{i} g_{i}(x)=0}\end{array}\right.æž„é€ æ‹‰æ ¼æœ—æ—¥ä¹˜å­ï¼š \begin{array}{c}{\min _{x} f(x)} \\ {\text { s.t. } g_{i}(x) \leq 0, i=1,2, \ldots, n} \\ {h_{j}(x)=0, j=1,2, \ldots, m}\end{array} L(x, u, \lambda)=f(x)+\sum_{i=1}^{n} \mu_{i} g_{i}(x)+\sum_{i=1}^{m} \lambda_{j} h_{j}(x)\left(\mu_{i} \geq 0\right)ä¸»é—®é¢˜ï¼ˆprimal problemï¼‰ï¼š$p^{*}=\min _{x} \max _{\mu, \lambda} L(x, \mu, \lambda)$ å…¶å¯¹å¶é—®é¢˜ï¼ˆdual problemï¼‰ï¼š$d^{*}=\max _{\mu, \lambda} \min _{x} L(x, \mu, \lambda)$ é€šå¸¸ï¼š$d^{} \leq p^{}$ å³å¯¹å¶é—®é¢˜çš„æœ€ä¼˜è§£æ˜¯åŽŸå§‹ä¸»é—®é¢˜æœ€ä¼˜è§£çš„ä¸‹é™ï¼ˆå¼±å¯¹å¶æ€§ï¼‰ ä½†è‹¥æ»¡è¶³KKT æ¡ä»¶çš„æ–¹ç¨‹ç»„çš„è§£ï¼š \begin{array}{l}{\nabla_{x, \mu, \lambda} L(x, \mu, \lambda)=0} \\ {g_{i}(x) \leq 0} \\ {\mu_{i} \geq 0} \\ {\mu_{i} g_{i}(x)=0}\end{array}æ­¤æ—¶ $ð‘‘ ^âˆ— = ð‘ ^âˆ—$ å¼ºå¯¹å¶æ€§ï¼ŒåŽŸå§‹é—®é¢˜å’Œå¯¹å¶é—®é¢˜æœ€ä¼˜è§£ä¸¥æ ¼ç›¸ç­‰ æ”¯æŒå‘é‡æœºï¼šåˆ©ç”¨æ‹‰æ ¼æœ—æ—¥å¯¹å¶å’ŒKKTæ¡ä»¶æ±‚è§£çš„ç»å…¸å¯¹å¶é—®é¢˜ æ”¯æŒå‘é‡æœºçš„å¯¹å¶é—®é¢˜æ”¯æŒå‘é‡æœºæœ€å¤§é—´éš”åŒ–ä¸‹çš„æŸå¤±å‡½æ•°ï¼š \begin{array}{c}{\min _{w, b} \frac{1}{2}| | w| |^{2}} \\ {\text { s.t. } y_{i}\left(\boldsymbol{w}^{T} \boldsymbol{x}_{i}+b\right) \geq 1, i=1,2,3, \ldots, m}\end{array}é‚£ä¹ˆçº¦æŸå¯ä»¥å†™ä¸ºï¼š g_{i}(\boldsymbol{w})=1-y_{i}\left(\boldsymbol{w}^{T} x_{i}+b\right) \leq 0æž„é€ æ‹‰æ ¼æœ—æ—¥å‡½æ•°ï¼š L(\boldsymbol{w}, b, \boldsymbol{\lambda})=\frac{1}{2}| | \boldsymbol{w}| |^{2}+\sum_{i=1}^{m} \lambda_{i}\left(1-y_{i}\left(\boldsymbol{w}^{T} \boldsymbol{x}_{\boldsymbol{i}}+b\right)\right)æ‰¾åˆ°å¯¹å¶é—®é¢˜çš„å½¢å¼ï¼š \nabla_{w} L(\boldsymbol{w}, b, \boldsymbol{\lambda})=0 \Rightarrow \boldsymbol{w}=\sum_{i=1}^{m} \lambda_{i} y_{i} \boldsymbol{x}_{i} \nabla_{b} L(\boldsymbol{w}, b, \lambda)=0 \Rightarrow 0=\sum_{i=1}^{m} \lambda_{i} y_{i} é‚£ä¹ˆä»£å…¥æ‹‰æ ¼æœ—æ—¥å‡½æ•°å¯ä»¥å¾—åˆ°å…¶å¯¹å¶é—®é¢˜ï¼š \max _{\lambda} W(\lambda)=\max _{\lambda} \min _{w, b} L(w, b, \lambda)=\sum_{i=1}^{m} \lambda_{i}-\frac{1}{2} \sum_{i=1}^{m} y_{i} y_{j} \lambda_{i} \lambda_{j} x_{i}^{T} x_{j}\\ \begin{array}{c}{\text { s.t. } \sum_{i=1}^{m} \lambda_{i} y_{i}=0} \\ {\lambda_{i} \geq 0, i=1,2, \ldots, m}\end{array}ä¸Šè¿°è¿‡ç¨‹æ»¡è¶³KKTæ¡ä»¶ï¼š \begin{array}{c}{\lambda_{i} \geq 0} \\ {1-y_{i} f\left(x_{i}\right) \leq 0} \\ {\lambda_{i}\left(1-y_{i} f\left(x_{i}\right)\right)=0}\end{array} f(\boldsymbol{x})=\boldsymbol{w}^{T} \boldsymbol{x}+b=\sum_{i=1}^{m} \lambda_{i} y_{i} \boldsymbol{x}_{\boldsymbol{i}}^{T} \boldsymbol{x}+b \begin{array}{c}{\lambda_{i} \geq 0} \\ {1-y_{i} f\left(x_{i}\right) \leq 0} \\ {\lambda_{i}\left(1-y_{i} f\left(x_{i}\right)\right)=0}\end{array}å¦‚æžœ$ y_{i} f\left(x_{i}\right)&gt;1$, é‚£ä¹ˆ$ðœ† _i = 0$, å¯¹äºŽ$ð‘“(ð‘¥)$ æ²¡æœ‰è´¡çŒ® æ ¸å‡½æ•°ï¼ˆKernelï¼‰å‡è®¾æœ‰ä¸ªæ˜ å°„å‡½æ•°ä»ŽäºŒç»´ç©ºé—´æ˜ å°„åˆ°ä¸‰ç»´ç©ºé—´ï¼š \Phi : \left( \begin{array}{l}{x_{1}} \\ {x_{2}}\end{array}\right) \rightarrow \left( \begin{array}{c}{x_{1}^{2}} \\ {x_{2}^{2}} \\ {\sqrt{2} x_{1} x_{2}}\end{array}\right) \quad \mathbb{R}^{2} \rightarrow \mathbb{R}^{3} ä¼˜åŒ–é—®é¢˜å˜ä¸ºï¼š \begin{array}{c}{\min _{w, b} \frac{1}{2}\|w\|^{2}} \\ {\text {s.t.} y_{i}\left(w^{T} \phi\left(x_{i}\right)+b\right) \geq 1}\end{array}å¯¹å¶é—®é¢˜ä¸ºï¼š \max _{\lambda} W(\lambda)=\sum_{i=1}^{m} \lambda_{i}-\frac{1}{2} \sum_{i=1}^{m} y_{i} y_{j} \lambda_{i} \lambda_{j} \phi\left(x_{i}\right)^{T} \phi\left(x_{j}\right)\\ \begin{array}{c}{\text { s.t. } \sum_{i=1}^{m} \lambda_{i} y_{i}=0} \\ {\lambda_{i} \geq 0, i=1,2, \dots, m}\end{array} å•ç‹¬è®¡ç®—æ˜ å°„å‡½æ•°$\phi(x)$ä»¥åŠ$\phi\left(x_{i}\right)^{T} \phi\left(x_{j}\right)$ååˆ†å›°éš¾ï¼ŒçŽ°è®¾æƒ³æž„é€ æ ¸å‡½æ•° æ¯”å¦‚ï¼š \Phi : \left( \begin{array}{l}{x_{1}} \\ {x_{2}}\end{array}\right) \rightarrow \left( \begin{array}{c}{x_{1}^{2}} \\ {x_{2}^{2}} \\ {\sqrt{2} x_{1} x_{2}}\end{array}\right) \mathbb{R}^{2} \rightarrow \mathbb{R}^{3} \begin{align} \Phi(x)^{T} \Phi(z)&=\left(x_{1}^{2}, x_{2}^{2}, \sqrt{2} x_{1} x_{2}\right) \left( \begin{array}{c}{z_{1}^{2}} \\ {z_{2}^{2}} \\ {\sqrt{2} z_{1} z_{2}}\end{array}\right)\\ &=x_{1}^{2} z_{1}^{2}+x_{1}^{2} z_{1}^{2}+2 x_{1} z_{1} x_{1} z_{1}\\ &=\left(x_{1} z_{1}+x_{2} z_{2}\right)^{2}\\ &=\left(\boldsymbol{x}^{T} \boldsymbol{z}\right)^{2} \end{align} k\left(x_{i}, x_{j}\right)=\phi\left(x_{i}\right)^{T} \phi\left(x_{j}\right) è®­ç»ƒå™¨ä¸ç”¨å­¦ä¹ å’Œè®¡ç®—æ˜ å°„å‡½æ•°çš„æ˜¾æ€§è¡¨è¾¾å¼ å¯»æ‰¾åˆ°æ ¸å‡½æ•°ï¼Œç„¶åŽåœ¨åŽŸå§‹æ ·æœ¬ç©ºé—´åšå†…ç§¯ï¼Œæ¯”å¦‚ $k(x, z)=\left(x^{T} z\right)^{2}$ æ ¸å‡½æ•°çº¿æ€§æ ¸å‡½æ•°ï¼š$k\left(x_{i}, x_{j}\right)=x_{i}^{T} x_{j}$ å¤šé¡¹å¼æ ¸å‡½æ•°ï¼š$k\left(x_{i}, x_{j}\right)=\left(x_{i}^{T} x_{j}\right)^{d}\quad d&gt;0$ é«˜æ–¯æ ¸å‡½æ•°ï¼š$k\left(x_{i}, x_{j}\right)=e^{\left(-\frac{\left|x_{i}-x_{i}\right|^{2}}{2 \sigma^{2}}\right)} \quad \sigma&gt;0$ æ‹‰æ™®æ‹‰æ–¯æ ¸å‡½æ•°ï¼š$k\left(x_{i}, x_{j}\right)=e^{\left(-\frac{\left|x_{i}-x_{j}\right|}{2 \sigma^{2}}\right)} \quad \sigma&gt;0$ Sigmoid æ ¸å‡½æ•°ï¼š$k\left(x_{i}, x_{j}\right)=\tanh \left(\beta x_{i}^{T} x_{j}+\theta\right) \quad \beta&gt;0, \theta&lt;0$ æ­£åˆ™åŒ–ä¸Žè½¯é—´éš”é’ˆå¯¹æƒ…å†µï¼š å¦‚æžœæ ·æœ¬ä¸æ˜¯å®Œå…¨èƒ½å¤Ÿåˆ’åˆ†å¼€ è§£å†³æ–¹æ³•ï¼š å…è®¸æ”¯æŒå‘é‡æœºåœ¨ä¸€äº›æ ·æœ¬å‡ºé”™ï¼Œå®šä¹‰è½¯é—´éš” å¼•å…¥æ­£åˆ™åŒ–å¼ºåº¦å‚æ•°$C$ï¼ŒæŸå¤±å‡½æ•°é‡æ–°å®šä¹‰ä¸ºï¼š \min _{w, b} \frac{1}{2}\|w\|^{2}+C \sum_{i=1}^{m} \max \left(0,1-y_{i} f\left(x_{i}\right)\right)å¼•å…¥æ¾å¼›å˜é‡ï¼ˆslack variablesï¼‰$\xi_{i} \geq 0$ï¼š \begin{array}{c}{\min _{w, b, \xi} \frac{1}{2}| | w| |^{2}+C \sum_{i=1}^{m} \xi_{i}} \\ {\text {s.t.} y_{i} f\left(x_{i}\right) \geq 1-\xi_{i}} \\ {\xi_{i} \geq 0, i=1,2,3 \ldots m}\end{array} è½¯é—´éš”æ”¯æŒå‘é‡æœºæ‹‰æ ¼æœ—æ—¥å‡½æ•°ï¼š L(\boldsymbol{w}, b, \boldsymbol{\xi}, \boldsymbol{\lambda}, \boldsymbol{r})=\frac{1}{2}\|\boldsymbol{w}\|^{2}+C \sum_{i=1}^{m} \xi_{i}+\sum_{i=1}^{m} \lambda_{i}\left(1-\xi_{i}-y_{i}\left(\boldsymbol{w}^{T} \boldsymbol{x}_{i}+b\right)\right)-\sum_{i=1}^{m} r_{i} \xi_{i}\left(\lambda_{i} \geq 0, r_{i} \geq 0\right)å¯¹$ð‘¤, ð‘, \xi$æ±‚åå¯¼å¯å¾—ï¼š 0=\sum_{i=1}^{m} \lambda_{i} y_{i} \quad w=\sum_{i=1}^{m} \lambda_{i} y_{i} x_{i} \quad C=\lambda_{i}+r_{i}ç›¸åº”çš„å¯¹å¶é—®é¢˜ä¸ºï¼š \begin{aligned} \max _{\lambda} W(\lambda)=& \sum_{i=1}^{m} \lambda_{i}-\frac{1}{2} \sum_{i=1}^{m} y_{i} y_{j} \lambda_{i} \lambda_{j} x_{i}^{T} x_{j} \\ & \text { s.t. } \sum_{i=1}^{m} \lambda_{i} y_{i}=0 \\ C \geq \lambda_{i} & \geq 0, i=1,2, \ldots, m \end{aligned}è½¯é—´éš”çš„KKTæ¡ä»¶ä¸ºï¼š \begin{array}{c}{\lambda_{i} \geq 0, r_{i} \geq 0} \\ {1-y_{i} f\left(x_{i}\right)-\xi_{i} \leq 0}\end{array}\\ \begin{array}{c}{\lambda_{i}\left(1-y_{i} f\left(x_{i}\right)-\xi_{i}\right)=0} \\ {\xi_{i} \geq 0, r_{i} \xi_{i}=0}\end{array}æ”¯æŒå‘é‡ï¼š \begin{array} {llll}{\lambda_{i}=0} & {\Rightarrow y_{i} f\left(x_{i}\right) \geq 1}\quadæ ·æœ¬è½åœ¨é—´éš”å¤–ï¼Œä¸å½±å“æ¨¡åž‹ \\ {0]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Statistics</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŽ¨èç³»ç»Ÿä¸­çš„NDCG]]></title>
    <url>%2F2019%2F04%2F20%2F%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84NDCG%2F</url>
    <content type="text"><![CDATA[NDCGåˆ™æ˜¯è€ƒè™‘åˆ°è¯„åˆ†çš„æŽ’åºï¼Œè¯´åˆ°NDCGå°±éœ€è¦ä»ŽCGå¼€å§‹è¯´èµ·ã€‚ CGï¼ˆcumulative gainï¼Œç´¯è®¡å¢žç›Šï¼‰å¯ä»¥ç”¨äºŽè¯„ä»·åŸºäºŽæ‰“åˆ†/è¯„åˆ†çš„ä¸ªæ€§æŽ¨èç³»ç»Ÿã€‚å‡è®¾æˆ‘ä»¬æŽ¨èkkä¸ªç‰©å“ï¼Œè¿™ä¸ªæŽ¨èåˆ—è¡¨çš„ $CG_k$ è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š C G_{k}=\sum_{i=1}^{k} \mathrm{rel}_{i} $rel_i$ è¡¨ç¤ºç¬¬ $k$ ä¸ªç‰©å“çš„ç›¸å…³æ€§æˆ–è€…è¯„åˆ†ã€‚å‡è®¾æˆ‘ä»¬å…±æŽ¨è $k$ ä¸ªç”µå½±ï¼Œ$rel_i$ å¯ä»¥æ˜¯ç”¨æˆ·å¯¹ç¬¬ $i$ éƒ¨ç”µå½±çš„è¯„åˆ†ã€‚ æ¯”å¦‚è±†ç“£ç»™ç”¨æˆ·æŽ¨èäº†äº”éƒ¨ç”µå½±ï¼Œ M_{1},\ M_{2},\ M_{3},\ M_{4}, \ M_{5}è¯¥ç”¨æˆ·å¯¹è¿™äº”éƒ¨ç”µå½±çš„è¯„åˆ†åˆ†åˆ«æ˜¯ 5, 3, 2, 1, 2 é‚£ä¹ˆè¿™ä¸ªæŽ¨èåˆ—è¡¨çš„CGç­‰äºŽï¼š C G_{5}=5+3+2+1+2=13CGæ²¡æœ‰è€ƒè™‘æŽ¨èçš„æ¬¡åºï¼Œåœ¨æ­¤åŸºç¡€ä¹‹åŽæˆ‘ä»¬å¼•å…¥å¯¹ç‰©å“é¡ºåºçš„è€ƒè™‘ï¼Œå°±æœ‰äº†DCG(discounted CG)ï¼ŒæŠ˜æ‰£ç´¯ç§¯å¢žç›Šã€‚å…¬å¼å¦‚ä¸‹ï¼š D C G_{k}=\sum_{i=1}^{k} \frac{2^{\mathrm{rel}_{i}}-1}{\log _{2}(i+1)}æ¯”å¦‚è±†ç“£ç»™ç”¨æˆ·æŽ¨èäº†äº”éƒ¨ç”µå½±ï¼Œ M_{1},\ M_{2},\ M_{3},\ M_{4}, \ M_{5}è¯¥ç”¨æˆ·å¯¹è¿™äº”éƒ¨ç”µå½±çš„è¯„åˆ†åˆ†åˆ«æ˜¯ 5, 3, 2, 1, 2 é‚£ä¹ˆè¿™ä¸ªæŽ¨èåˆ—è¡¨çš„DCGç­‰äºŽï¼š \begin{align} DCG_5&=\frac{2^5-1}{\log_2 2}+\frac{2^3-1}{\log_2 3}+\frac{2^2-1}{\log_2 4}+\frac{2^1-1}{\log_2 5}+\frac{2^2-1}{\log_2 6}\\ &=31+4.4+1.5+0.4+1.2\\ &=38.5 \end{align}DCGæ²¡æœ‰è€ƒè™‘åˆ°æŽ¨èåˆ—è¡¨å’Œæ¯ä¸ªæ£€ç´¢ä¸­çœŸæ­£æœ‰æ•ˆç»“æžœä¸ªæ•°ï¼Œæ‰€ä»¥æœ€åŽæˆ‘ä»¬å¼•å…¥NDCG(normalized discounted CG)ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æ ‡å‡†åŒ–ä¹‹åŽçš„DCGã€‚ NDCG_k=\frac{DCG_k}{IDCG_k}å…¶ä¸­ $IDCG$ æ˜¯æŒ‡ ideal DCGï¼Œä¹Ÿå°±æ˜¯å®Œç¾Žç»“æžœä¸‹çš„ DCGã€‚ ç»§ç»­ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æžœç›¸å…³ç”µå½±ä¸€å…±æœ‰7éƒ¨ M_{1},\ M_{2},\ M_{3},\ M_{4}, \ M_{5}, \ M_{6}, \ M_{7}è¯¥ç”¨æˆ·å¯¹è¿™ä¸ƒéƒ¨ç”µå½±çš„è¯„åˆ†åˆ†åˆ«æ˜¯ 5, 3, 2, 1, 2 , 4, 0 æŠŠè¿™7éƒ¨ç”µå½±æŒ‰è¯„åˆ†æŽ’åº 5, 4, 3, 2, 2, 1, 0 è¿™ä¸ªæƒ…å†µä¸‹çš„å®Œç¾ŽDCGæ˜¯ \begin{align} IDCG_5&=\frac{2^5-1}{\log_2 2}+\frac{2^4-1}{\log_2 3}+\frac{2^3-1}{\log_2 4}+\frac{2^2-1}{\log_2 5}+\frac{2^2-1}{\log_2 6}\\ &=31+9.5+3.5+1.3+1.2\\ &=46.5 \end{align}æ‰€ä»¥ NDCG_5 = \frac{DCG_5}{IDCG_5}=\frac{38.5}{46.5}=0.827NDCGæ˜¯0åˆ°1çš„æ•°ï¼Œè¶ŠæŽ¥è¿‘1è¯´æ˜ŽæŽ¨èè¶Šå‡†ç¡®ã€‚]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Statistics</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‹Ÿåˆçš„åŠ›é“]]></title>
    <url>%2F2019%2F02%2F18%2FOverfitting_and_Underfitting_With_Machine_Learning_Algorithms%2F</url>
    <content type="text"><![CDATA[æ¨¡åž‹çš„æ‹Ÿåˆ æ‹Ÿåˆä¸Žè¿‡æ‹Ÿåˆ å¯¹æŠ—è¿‡æ‹Ÿåˆï¼š äº¤å‰æ£€éªŒ æ­£åˆ™åŒ–L1,L2 pythonå®žçŽ° pipeline æ–¹å·®çš„åˆ†è§£ï¼š ç¦»å·®å¹³æ–¹æ€»å’Œ = å›žå½’å¹³æ–¹å’Œ+æ®‹å·®å¹³æ–¹å’Œ ï¼ˆ SST = SSR + SSE ï¼‰ bias and varianceåˆ†è§£ï¼ˆè¿™é‡Œçš„biaså’Œvarianceè·Ÿè¿‡æ‹Ÿåˆçš„biaså’Œvarianceä¸ä¸€æ ·ï¼‰ 1. æ‹Ÿåˆä¸Žè¿‡æ‹Ÿåˆ åœ¨è®­ç»ƒæ¨¡åž‹æ—¶ï¼Œæ¶‰åŠåˆ°é€‰æ‹©ä¸Žæ¯”è¾ƒä¸åŒçš„æ¨¡åž‹åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„é¢„æµ‹ç»“æžœ è¿™é‡Œæœ‰Biasä¸ŽVariance 1.1 æ‹Ÿåˆï¼š æŠ“ä½ä¸»è¦ç‰¹å¾ï¼Œä¸»è¦è§„å¾‹ï¼Œä¸»è¦è¶‹åŠ¿ï¼Œå¯ç”¨äºŽåŒä¸€æ€»ä½“çš„å…¶ä»–é‡‡æ ·æ ·æœ¬çš„ç»“æžœé¢„æµ‹ 1.2. æ¬ æ‹Ÿåˆï¼š æ¨¡åž‹ä¸å¤Ÿå¤æ‚ï¼Œæ¼æŽ‰äº†éƒ¨åˆ†æ•°æ®è§„å¾‹ high bias å¢žåŠ æ¨¡åž‹å¤æ‚åº¦ 1.3. è¿‡æ‹Ÿåˆï¼š æ¨¡åž‹è¿‡äºŽå¤æ‚ï¼ŒæŠŠæ ·æœ¬çš„éƒ¨åˆ†éšæœºè¯¯å·®å½“ä½œäº†æ€»ä½“çš„æ•°æ®è§„å¾‹ï¼Œå¹¶ç”¨æ¨¡åž‹è¿›è¡Œè§£é‡Šã€‚è¿™éƒ¨åˆ†è§£é‡Šå¹¶ä¸èƒ½æŽ¨å¹¿åˆ°æ€»ä½“åˆ†å¸ƒçš„å…¶ä»–æ ·æœ¬ä¸­ã€‚ å‡å°‘ä¸å¿…è¦çš„æ¨¡åž‹å¤æ‚åº¦ 2. å¯¹æŠ—è¿‡æ‹Ÿåˆ äº¤å‰æ£€éªŒ æ­£åˆ™åŒ–ï¼ˆregularizationï¼‰ L1 L2 ä»ŽéªŒè¯è®­ç»ƒç»“æžœå…¥æ‰‹ï¼šcross-validation ä»Žé™åˆ¶æ¨¡åž‹å¤æ‚åº¦å…¥æ‰‹ï¼šæ­£åˆ™åŒ–ï¼ˆregularizationï¼‰ ä»¥çº¿æ€§å›žå½’ä¸ºä¾‹ï¼š Loss = \sum_{i=1}^N (y_i - \beta_0 - \sum_{j=1}{p}x_{ij}\beta_j)^2 \\å¦‚æžœ $\beta_j$ è¢«é™åˆ¶åœ¨ä¸€ä¸ªè¾ƒå°çš„èŒƒå›´ï¼Œé‚£ä¹ˆæ‰€å¯¹åº”çš„ $x_{ij}$ å¯¹æ¨¡åž‹å¤æ‚åº¦å¯¹å½±å“å°±ä¼šå‡å¼± L2 norm: $Ridge Method$ \hat{\beta}^{Ridge} = argmin_{\beta}\sum_{i=1}^N (y_i - \beta_0 - \sum_{j=1}^{p}x_{ij}\beta_j)^2, \\ subject \ to \ \sum_{j=1}^N \beta_j^2 \leqslant t, L1 norm: $Lasso Method$ \hat{\beta}^{Lasso} = argmin_{\beta}\sum_{i=1}^N (y_i - \beta_0 - \sum_{j=1}^{p}x_{ij}\beta_j)^2, \\ subject \ to \ \sum_{j=1}^N \left \|{\beta_j}\right \| \leqslant t, $Lasso$ çš„ç»“æžœå®¹æ˜“å°†ç³»æ•°å‡è‡³0 $Ridge$ åˆ™æ˜¯å‡å°è‡³éž0å€¼ 3. pythonå®žçŽ° Cross Validation äº¤å‰æ£€éªŒ L1, L2 æ­£åˆ™åŒ– In[1] 12from sklearn import datasetsfrom sklearn.model_selection import KFold In[2] 123datasets.load_winewine_data = datasets.load_wine()print((wine_data.feature_names)) [&#39;alcohol&#39;, &#39;malic_acid&#39;, &#39;ash&#39;, &#39;alcalinity_of_ash&#39;, &#39;magnesium&#39;, &#39;total_phenols&#39;, &#39;flavanoids&#39;, &#39;nonflavanoid_phenols&#39;, &#39;proanthocyanins&#39;, &#39;color_intensity&#39;, &#39;hue&#39;, &#39;od280/od315_of_diluted_wines&#39;, &#39;proline&#39;] In[3] 12data_input = wine_data.datadata_output = wine_data.target In[4] 123456789101112from sklearn.linear_model import LogisticRegressionfrom sklearn.metrics import f1_score, log_loss, classification_reportkf = KFold(4, shuffle=True)kf.get_n_splits(data_input)lr = LogisticRegression()for train_index, test_index in kf.split(data_input, data_output): #print(train_index, test_index) lr.fit(data_input[train_index], data_output[train_index]) y_pre_lr = lr.predict(data_input[test_index]) y = data_output[test_index] print((f1_score(y, y_pre_lr, average=None))) [0.97142857 0.96296296 1. ] [1. 0.95 0.92307692] [0.96296296 0.93023256 0.88888889] [0.96774194 0.96774194 1. ] 3.1. å¯¹æ¯”ä¸åŒæ¨¡åž‹çš„cross-validationç»“æžœIn[5] 1234567from sklearn.ensemble import RandomForestClassifierfrom sklearn.linear_model import LogisticRegressionfrom sklearn import svmfrom sklearn.model_selection import cross_val_scorerf_class = RandomForestClassifier(n_estimators=10)log_class = LogisticRegression()svm_class = svm.LinearSVC() In[6] 12print((cross_val_score( rf_class, data_input, data_output, scoring='accuracy', cv=4))) [0.8 0.95555556 1. 1. ] In[7] 123accuracy = cross_val_score( rf_class, data_input, data_output, scoring='accuracy', cv=4).mean() * 100print(("Accuracy of Random Forests is: ", accuracy)) (&#39;Accuracy of Random Forests is: &#39;, 95.0) In[8] 123accuracy = cross_val_score( log_class, data_input, data_output, scoring='accuracy', cv=4).mean() * 100print(("Accuracy of logistic is: ", accuracy)) (&#39;Accuracy of logistic is: &#39;, 96.11111111111111) In[9] 123accuracy = cross_val_score( svm_class, data_input, data_output, scoring='accuracy', cv=4).mean() * 100print(("Accuracy of SVM is: ", accuracy)) (&#39;Accuracy of SVM is: &#39;, 89.44444444444444) 3.2. æ­£åˆ™åŒ–regularizationIn[10] 123456789101112131415import numpy as npimport pandas as pdimport randomimport matplotlib.pyplot as plt%matplotlib inline%config InlineBackend.figure_format = 'retina'from matplotlib.pylab import rcParamsrcParams['figure.figsize'] = 10, 8x = np.array([1.4 * i * np.pi / 180 for i in range(0, 300, 4)])np.random.seed(20) #éšæœºæ•°y = np.sin(x) + np.random.normal(0, 0.2, len(x))data = pd.DataFrame(np.column_stack([x, y]), columns=['x', 'y'])plt.plot(data['x'], data['y'], '.') Out[10] In[11] 1234for i in range(2, 16): #power of 1 is already there colname = 'x_%d' % i #new var will be x_power data[colname] = data['x']**iprint((data.head())) x y x_2 x_3 x_4 x_5 x_6 \ 0 0.000000 0.176779 0.000000 0.000000 0.000000 0.000000 0.000000e+00 1 0.097738 0.136756 0.009553 0.000934 0.000091 0.000009 8.717508e-07 2 0.195477 0.265742 0.038211 0.007469 0.001460 0.000285 5.579205e-05 3 0.293215 -0.179621 0.085975 0.025209 0.007392 0.002167 6.355064e-04 4 0.390954 0.164104 0.152845 0.059755 0.023362 0.009133 3.570691e-03 x_7 x_8 x_9 x_10 x_11 \ 0 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 1 8.520356e-08 8.327663e-09 8.139328e-10 7.955252e-11 7.775339e-12 2 1.090606e-05 2.131882e-06 4.167336e-07 8.146178e-08 1.592389e-08 3 1.863402e-04 5.463780e-05 1.602064e-05 4.697497e-06 1.377378e-06 4 1.395975e-03 5.457617e-04 2.133676e-04 8.341686e-05 3.261214e-05 x_12 x_13 x_14 x_15 0 0.000000e+00 0.000000e+00 0.000000e+00 0.000000e+00 1 7.599495e-13 7.427628e-14 7.259647e-15 7.095466e-16 2 3.112753e-09 6.084713e-10 1.189421e-10 2.325042e-11 3 4.038683e-07 1.184204e-07 3.472267e-08 1.018122e-08 4 1.274984e-05 4.984597e-06 1.948747e-06 7.618699e-07 In[12] 1234567891011121314151617181920212223242526272829# å¤æ‚åº¦å¯å˜from sklearn.linear_model import LinearRegressiondef linear_regression(data, power, models_to_plot): #initialize predictors: predictors = ['x'] if power &gt;= 2: predictors.extend(['x_%d' % i for i in range(2, power + 1)]) #Fit the model linreg = LinearRegression(normalize=True) linreg.fit(data[predictors], data['y']) y_pred = linreg.predict(data[predictors]) #Check if a plot is to be made for the entered power if power in models_to_plot: plt.subplot(models_to_plot[power]) plt.tight_layout() plt.plot(data['x'], y_pred) plt.plot(data['x'], data['y'], '.') plt.title('Plot for power: %d' % power) #Return the result in pre-defined format rss = sum((y_pred - data['y'])**2) ret = [rss] ret.extend([linreg.intercept_]) ret.extend(linreg.coef_) return ret In[13] 1234567891011col = ['rss', 'intercept'] + ['coef_x_%d' % i for i in range(1, 16)]ind = ['model_pow_%d' % i for i in range(1, 16)]coef_matrix_simple = pd.DataFrame(index=ind, columns=col)#å®šä¹‰ä½œå›¾çš„ä½ç½®ä¸Žæ¨¡åž‹çš„å¤æ‚åº¦models_to_plot = &#123;1: 231, 3: 232, 6: 233, 8: 234, 11: 235, 14: 236&#125;#ç”»å‡ºæ¥for i in range(1, 16): coef_matrix_simple.iloc[i - 1, 0:i + 2] = linear_regression( data, power=i, models_to_plot=models_to_plot) 3.3. RidgeIn[14] 1234567891011121314151617181920212223from sklearn.linear_model import Ridgedef ridge_regression(data, predictors, alpha, models_to_plot=&#123;&#125;): #Fit the model ridgereg = Ridge(alpha=alpha, normalize=True) ridgereg.fit(data[predictors], data['y']) y_pred = ridgereg.predict(data[predictors]) #Check if a plot is to be made for the entered alpha if alpha in models_to_plot: plt.subplot(models_to_plot[alpha]) plt.tight_layout() plt.plot(data['x'], y_pred) plt.plot(data['x'], data['y'], '.') plt.title(r'Plot for $\alpha$: %.3g' % alpha) #Return the result in pre-defined format rss = sum((y_pred - data['y'])**2) ret = [rss] ret.extend([ridgereg.intercept_]) ret.extend(ridgereg.coef_) return ret In[15] 12345678910111213141516171819202122predictors = ['x']predictors.extend(['x_%d' % i for i in range(2, 16)])#Set the different values of alpha to be testedalpha_ridge = [1e-15, 1e-10, 1e-8, 1e-4, 1e-3, 1e-2, 1, 5, 10, 20]#Initialize the dataframe for storing coefficients.col = ['rss', 'intercept'] + ['coef_x_%d' % i for i in range(1, 16)]ind = ['alpha_%.2g' % alpha_ridge[i] for i in range(0, 10)]coef_matrix_ridge = pd.DataFrame(index=ind, columns=col)models_to_plot = &#123; 1e-15: 231, 1e-10: 232, 1e-4: 233, 1e-3: 234, 1e-2: 235, 5: 236&#125;for i in range(10): coef_matrix_ridge.iloc[i, ] = ridge_regression( data, predictors, alpha_ridge[i], models_to_plot) 3.4. LassoIn[16] 123456789101112131415161718192021222324from sklearn.linear_model import Lassos = r'$\alpha$'def lasso_regression(data, predictors, alpha, models_to_plot=&#123;&#125;): #Fit the model lassoreg = Lasso(alpha=alpha, normalize=True, max_iter=1e5) lassoreg.fit(data[predictors], data['y']) y_pred = lassoreg.predict(data[predictors]) #Check if a plot is to be made for the entered alpha if alpha in models_to_plot: plt.subplot(models_to_plot[alpha]) plt.tight_layout() plt.plot(data['x'], y_pred) plt.plot(data['x'], data['y'], '.') plt.title(r'Plot for $\alpha$: %.3g' % alpha) #Return the result in pre-defined format rss = sum((y_pred - data['y'])**2) ret = [rss] ret.extend([lassoreg.intercept_]) ret.extend(lassoreg.coef_) return ret In[17] 12345678910111213141516171819202122232425predictors = ['x']predictors.extend(['x_%d' % i for i in range(2, 16)])#Define the alpha values to testalpha_lasso = [1e-15, 1e-10, 1e-8, 1e-5, 1e-4, 1e-3, 1e-2, 1, 5, 10]#Initialize the dataframe to store coefficientscol = ['rss', 'intercept'] + ['coef_x_%d' % i for i in range(1, 16)]ind = ['alpha_%.2g' % alpha_lasso[i] for i in range(0, 10)]coef_matrix_lasso = pd.DataFrame(index=ind, columns=col)#Define the models to plotmodels_to_plot = &#123; 1e-10: 231, 1e-5: 232, 1e-4: 233, 1e-3: 234, 1e-2: 235, 1: 236&#125;#Iterate over the 10 alpha values:for i in range(10): coef_matrix_lasso.iloc[i, ] = lasso_regression( data, predictors, alpha_lasso[i], models_to_plot) In[18] 1svm.LinearSVC(penalty='l1') Out[18] LinearSVC(C=1.0, class_weight=None, dual=True, fit_intercept=True, intercept_scaling=1, loss=&#39;squared_hinge&#39;, max_iter=1000, multi_class=&#39;ovr&#39;, penalty=&#39;l1&#39;, random_state=None, tol=0.0001, verbose=0) 4. pipelineIn[19] 123456from sklearn.datasets import load_irisfrom sklearn.pipeline import make_pipeline, Pipelinefrom sklearn import preprocessingfrom sklearn import model_selectionfrom sklearn import svmfrom sklearn.linear_model import LogisticRegression In[20] 1iris = load_iris() In[21] 12345#classifier_pipeline = make_pipeline(preprocessing.StandardScaler(), svm.SVC(C=1))pipeline = Pipeline([('scaler', preprocessing.StandardScaler()), ('clf', LogisticRegression())])scores = model_selection.cross_val_score( pipeline, iris.data, iris.target, cv=3) In[22] 1scores Out[22] array([0.88235294, 0.92156863, 0.89583333]) In[23] 1pipeline.fit(iris.data, iris.target) Out[23] Pipeline(memory=None, steps=[(&#39;scaler&#39;, StandardScaler(copy=True, with_mean=True, with_std=True)), (&#39;clf&#39;, LogisticRegression(C=1.0, class_weight=None, dual=False, fit_intercept=True, intercept_scaling=1, max_iter=100, multi_class=&#39;warn&#39;, n_jobs=None, penalty=&#39;l2&#39;, random_state=None, solver=&#39;warn&#39;, tol=0.0001, verbose=0, warm_start=False))]) 5. æ–¹å·®çš„åˆ†è§£ $t_i(x)$ æˆ–è€… $t(x)$ æ˜¯åœ¨ $x=x$ æ—¶çš„è§‚æµ‹ç‚¹å€¼ $y(x)$ æ˜¯åœ¨ $x=x$ æ—¶çš„å›žå½’å€¼ \begin{align} &\sum(t_i(x) - y(x))^2 = SSE \\ &\sum(y(x) - \bar{y})^2 = SSR \\ &\sum(t_i(x) - \bar{y})^2 = SST \end{align} 6. biasä¸Žvarianceçš„åˆ†è§£ ä¸“æ³¨äºŽæ®‹å·®å¹³æ–¹å’Œï¼Œæ²¿ç”¨ç»å…¸æ•™æçš„è®°æ³•ï¼ˆJordan, M., Kleinberg, J., &amp; Scho, B. (n.d.). Pattern Recognition and Machine Learning.ï¼‰ $t_i(x)â€‹$ æˆ–è€… $t(x)â€‹$ æ˜¯åœ¨ $x=xâ€‹$ æ—¶çš„è§‚æµ‹ç‚¹å€¼ $y(x)$ æ˜¯åœ¨ $x=x$ æ—¶çš„å›žå½’å€¼ Loss = (y(x)-t_i(x))^2\\ E[Loss]=\int\{y(x)-t(x)\}^2p(x,t)dtdx\\ å¼•å…¥ $h(x) = \int t(x)p(t|x)dt$ ä»£è¡¨$t$åœ¨$x=x$çš„æ€»ä½“æœŸæœ›å€¼ï¼Œä¸€èˆ¬æ˜¯æœªçŸ¥çš„ ä»£å…¥åˆ†è§£ \begin{align} E[Loss]&=\int \left[y(x)-h(x)+h(x)-t(x)\right]^2p(x,t(x))dtdx\\ &=\int\left[y(x)-h(x)\right]^2p(x)dx+\int\left[h(x)-t(x)\right]^2p(x)dtdx + 2\int(y(x)-h(x))(h(x)-t(x))p(x,t(x))dtdx \\ &=\int\left[y(x)-h(x)\right]^2p(x)dx+\int\left[h(x)-t(x)\right]^2p(x,t(x))dtdx \\ \end{align} å¯¹äºŽä¸åŒçš„æ ·æœ¬é›†,æ±‚å¾—çš„ $y(x;D)$ ä¼šä¸åŒ $y(x;D_1)$ $y(x;D_2)$ $y(x;D_3)$ $y(x;D_4)$ $h(x)â€‹$ æ˜¯å…¨æ ·æœ¬åœ¨x=xçš„æœŸæœ›ï¼Œä¸ä¼šéšæŠ½æ ·ä¸åŒè€Œæ”¹å˜ å–æ ·æœ¬é›† $ \{D1,D2,D3,D4\}$ çš„ $y(x;D_i)$ çš„æœŸæœ› \mathbb{E}_D[y(x;D)] = expectation \ of \ y(x) \ over \ different \ sample \ sets \{D1,D2,D3,D4\} å°† $E_D[y(x;D]â€‹$ å¼•å…¥ $\{y(x;D)-h(x)\}^2â€‹$ å¯¹ä¸åŒçš„æ•°æ®é›† $ \{D1,D2,D3,D4 â€¦\}$ æ±‚æœŸæœ› ä»£å›ž$E[L]$ åå·®ï¼š åå·®åº¦é‡äº†å­¦ä¹ ç®—æ³•çš„æœŸæœ›é¢„æµ‹ä¸ŽçœŸå®žç»“æžœçš„åç¦»ç¨‹åº¦, åˆ»ç”»äº†å­¦ä¹ ç®—æ³•æœ¬èº«çš„æ‹Ÿåˆèƒ½åŠ› æ–¹å·®ï¼š æ–¹å·®åº¦é‡äº†åŒæ ·å¤§å°çš„è®­ç»ƒé›†çš„å˜åŠ¨æ‰€å¯¼è‡´çš„å­¦ä¹ æ€§èƒ½çš„å˜åŒ–, åˆ»ç”»äº†æ•°æ®æ‰°åŠ¨æ‰€é€ æˆçš„å½±å“ å™ªéŸ³ï¼š å™ªå£°è¡¨è¾¾äº†åœ¨å½“å‰ä»»åŠ¡ä¸Šä»»ä½•å­¦ä¹ ç®—æ³•æ‰€èƒ½è¾¾åˆ°çš„æœŸæœ›æ³›åŒ–è¯¯å·®çš„ä¸‹ç•Œ, åˆ»ç”»äº†å­¦ä¹ é—®é¢˜æœ¬èº«çš„éš¾åº¦ E(loss) = \int \{E_D[y(x;D)]-h(x)\}^2p(x)dx + \int E_D[\{y(x;D)-E_D[y(x;D)\}^2]p(x)dx + \int \{h(x)-t\}^2p(x,t)dxdtè¿™é‡Œçš„æ–¹å·®å’Œåå·®é‡ç‚¹åœ¨äºŽ åœ¨æœ‰è‹¥å¹²è®­ç»ƒæ•°æ®é›†çš„æƒ…å†µä¸‹ è®­ç»ƒå‡ºæ¨¡åž‹çš„é¢„æµ‹ç»“æžœçš„æœŸæœ›å€¼å’Œæ–¹å·® Biasä¸ŽVarianceçš„ä¸¤éš¾ä¹‹é—´ ä½¿ç”¨ä¸åŒå¤æ‚åº¦çš„æ¨¡åž‹ï¼Œä¼šå½±å“biasä¸Žvarianceçš„åˆ†å¸ƒ]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Statistics</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é€»è¾‘å›žå½’ä¸Žä»£ä»·å‡½æ•°]]></title>
    <url>%2F2019%2F02%2F13%2FLogistic_regression%2F</url>
    <content type="text"><![CDATA[é€»è¾‘å›žå½’ä¸Žçº¿æ€§å›žå½’ çº¿æ€§å›žå½’ï¼šé¢„æµ‹è¿žç»­æ•°å€¼å˜é‡ï¼ˆæ˜Žå¤©ä¸Šæµ·çš„åœ°é¢æ¸©åº¦ï¼Ÿï¼‰ é€»è¾‘å›žå½’ï¼šé¢„æµ‹åˆ†ç±» (classification)ï¼ˆä»Šå¤©ä¼šä¸ä¼šè€ƒè¯•ï¼Ÿï¼‰ é€»è¾‘å›žå½’ä¸Žçº¿æ€§å›žå½’æœ‰ä»€ä¹ˆè”ç³»ï¼Ÿ ä»Žä¸€ä¸ªä¾‹å­è¯´èµ·ï¼šèŽ·å–æ•°æ®ï¼Œåˆ¤æ–­æ¶æ„è®¢æˆ¿ 1. ä»Žé…’åº—è®¢æˆ¿è¯´èµ· å•†å®¶éœ€è¦åˆ¤æ–­é¡¾å®¢æ˜¯å¦ä¼šæ¶æ„è®¢æˆ¿ æ ¹æ®ä»€ä¹ˆæ¥åˆ¤æ–­ï¼Ÿ åˆ©ç”¨ä¿¡ç”¨å€¼æ¥åˆ¤æ–­æ˜¯å¦ä¼šæ¶æ„è®¢æˆ¿ 2. å¦‚ä½•é€šè¿‡ä¿¡ç”¨å€¼ç­‰æ•°æ®æ¥é¢„æµ‹æ¶æ„è®¢æˆ¿ è¾“å…¥å€¼ï¼šä¿¡ç”¨å€¼ç­‰è¿žç»­åž‹æ•°å­—ï¼Œå–å€¼èŒƒå›´ä¸º $\left ( -\infty , +\infty \right )$ è¾“å‡ºå€¼ï¼šæ­£å¸¸è®¢æˆ¿çš„æ¦‚çŽ‡ $p$ï¼Œå–å€¼èŒƒå›´ä¸º $\left [ 0 , 1 \right ]$ å½“ $p&gt;é˜ˆå€¼(0.5)$ï¼Œåˆ¤æ–­é¡¾å®¢æ­£å¸¸è®¢æˆ¿ å½“ $p \leqslant é˜ˆå€¼(0.5)$ï¼Œåˆ¤æ–­é¡¾å®¢æ­£å¸¸è®¢æˆ¿ å¦‚æžœç›´æŽ¥é€šè¿‡çº¿æ€§å›žå½’ï¼Œå‘çŽ°ç”±äºŽè¾“å…¥è¾“å‡ºå€¼å¾—èŒƒå›´ä¸åŒï¼Œå¯¼è‡´æ— æ³•å¾ˆå¥½çš„è¿›è¡Œæ˜ å°„ã€‚äºŽæ˜¯é€šè¿‡å¯¹è¾“å‡ºå€¼è¿›è¡Œå˜æ¢ è¾“å…¥å€¼ï¼šä¿¡ç”¨å€¼ç­‰è¿žç»­åž‹æ•°å­—ï¼Œå–å€¼èŒƒå›´ä¸º $\left ( -\infty , +\infty \right )$ è¾“å‡ºå€¼ï¼šæ­£å¸¸è®¢æˆ¿çš„æ¦‚çŽ‡ $p$ï¼Œå–å€¼èŒƒå›´ä¸º $\left [ 0 , 1 \right ]$ é€šè¿‡ $\frac{p}{1-p}$ ï¼Œå–å€¼èŒƒå›´ä¸º $\left [ 0 , +\infty \right )$ è¿›ä¸€æ­¥å–å¯¹æ•° $ln\left (\frac{p}{1-p} \right )$ ï¼Œå–å€¼èŒƒå›´ä¸º $\left ( -\infty , +\infty \right )$ \begin{align} &ln\left (\frac{p}{1-p} \right ) = wx+a\\ &\Rightarrow \frac{p}{1-p}=e^{wx+a}\\ &\Rightarrow p=e^{wx+a}(1-p)=\frac{e^{wx+a}}{1+e^{wx+a}} \\ \end{align} p=\frac{1}{1+e^{-wx-a}} \qquad \qquad x\in\left ( -\infty , +\infty \right )é€šè¿‡å›žå½’ï¼Œæˆ‘ä»¬å¾—åˆ°äº†å¦‚ä¸‹çš„æ•°æ®ï¼š è¿›è¡Œæ‹Ÿåˆï¼Œå¯¹äºŽè¿™ä¸€ç§ï¼šåœ¨æ‹ç‚¹å¤„æ— æ³•æ±‚å¯¼ï¼Œç»§è€Œæ— æ³•å¾—åˆ°æœ€å€¼ï¼ŒäºŽæ˜¯æˆ‘ä»¬é€‰ç”¨å¹³æ»‘æ›²çº¿ä»£æ›¿ å¯é—®é¢˜åˆæ¥äº†ä¸åŒçš„å‚æ•°ï¼Œå¾—åˆ°çš„ä¸åŒçš„æ‹Ÿåˆç»“æžœï¼Œæˆ‘ä»¬åº”è¯¥é€‰ç”¨å“ªä¸€ä¸ªæ¥åšæœ€ä¼˜è§£å‘¢ï¼Ÿ 3. å¯»æ‰¾æœ€åˆç†çš„å‚æ•° â€”â€” Cost Functionæˆ‘ä»¬çš„ç›®çš„ï¼Œæ˜¯æ‰¾åˆ°ä¸€ä¸ªèƒ½è®©æ¨¡åž‹æ‹Ÿåˆç»“æžœæ›´å¥½çš„å‚æ•°ã€‚æ–¹æ³•å°±æ˜¯è®¾è®¡ä¸€ä¸ªCost Functionï¼Œè®©å®ƒæ¥å†³å®šä»€ä¹ˆæ˜¯å¥½çš„æ¨¡åž‹ã€‚ ä»¥ä¸‹ç”¨ $h_\theta (x)$ æ¥æŒ‡ä»£sigmoid function: $\frac{1}{1+e^{-\theta _1x^{i}-\theta _2}}$ ä¸€ä¸ªå¥½çš„æ¨¡åž‹ï¼ŒCost Functionè¦å°½é‡å° çœŸå€¼ $y=1$ ï¼Œ$h_\theta (x)$ ä¼šå°½é‡å¤§ çœŸå€¼ $y=0$ ï¼Œ$h_\theta (x)$ ä¼šå°½é‡å° å¦‚æ­¤å¾—åˆ°ä¸€ä¸ªCost Functionï¼š Cost(h_\theta (x), y)=\begin{cases} -ln(h_\theta (x)) & & y=1\\ -ln(1-h_\theta (x)) & & y=0\\ \end{cases}å³ï¼š Cost(\theta) = -(1-y)ln(1-h_\theta (x))-yln(h_\theta (x))å¯¹äºŽ $n$ ä¸ªæ•°æ®ï¼Œè¿›è¡Œæ±‚å’Œï¼š J(\theta) = \sum_{i=1}^{n}\left[-(1-y^{i})ln(1-h_\theta(x^{i}))-y^{i}ln(h_\theta (x^{i}))\right] $x^i$ æ˜¯ç¬¬ $i$ ä¸ªäººçš„ä¿¡ç”¨å€¼ï¼Œ$y^i$ æ˜¯æœ€åŽè®¢æˆ¿ä¸Žå¦çš„æŒ‡ç¤ºæ•° $i=1$ è¡¨ç¤ºé¢„å®šï¼Œ$i=0$ è¡¨ç¤ºæœªé¢„å®š $\theta$ æ˜¯å‚æ•°ï¼Œä½œä¸ºå‘é‡çš„è¡¨ç¤ºæ–¹æ³•ï¼Œå› ä¸ºå‚æ•°å¾ˆå¯èƒ½ä¸æ­¢ä¸€ä¸ª æ ¹æ®è¿™ä¸ª Cost Functionï¼Œå¯»æ‰¾èƒ½è®©å…¶æœ€å°çš„ $\theta \in \left \{ \theta_1 , \theta_2 \right \}$ï¼Œé€šè¿‡ä½¿å…¶ä¸€é˜¶å¯¼æ•°ä¸º0ï¼ŒäºŒé˜¶å¯¼æ•°ä¸ºæ­£ï¼Œä»Žè€ŒèŽ·å– $min \theta$ï¼š \begin{align} \frac{\partial J(\theta)}{\partial \theta_j} &= \frac{\partial }{\partial \theta_j }\sum_{i=1}^{n}\left [-(1-y^{i})ln(1-h_\theta(x^{i}))-y^{i}ln(h_\theta (x^{i}))\right ]\\ &=-\sum_{i=1}^{n}\left [(1-y^{i})\frac{\partial ln(1-h_\theta (x^{i}))}{\partial \theta _j}+y^{i}\frac{\partial ln(h_\theta (x^{i}))}{\partial \theta _j}\right ]\\ &=-\sum_{i=1}^{n}\left [(1-y^{i})\frac{1}{ln(1-h_\theta (x^{i}))} \frac{\partial (1-h_\theta (x^{i}))}{\partial \theta _j}+y^{i}\frac{1}{h_\theta (x^{i})}\frac{\partial (h_\theta (x^{i}))}{\partial \theta _j}\right]\\ &=-\sum_{i=1}^{n}\left [-(1-y^{i})\frac{h_\theta (x^{i})[1-h_\theta (x^{i})]}{1-h_\theta (x^{i})}\frac{\partial (\theta x^{i})}{\partial \theta_j}+y^{i}\frac{h_\theta (x^{i})[1-h_\theta (x^{i})]}{h_\theta (x^{i})}\frac{\partial (\theta x^{i})}{\partial \theta_j}\right]\\ &=-\sum_{i=1}^{n}\left [-(1-y^{i})h_\theta (x^{i})+y^{i}(1-h_\theta (x^{i}))\right]\frac{\partial (\theta x^{i})}{\partial \theta_j}\\ &=-\sum_{i=1}^{n}\left [-h_\theta (x^{i})+y^{i}\right]x_{j}^{i} \end{align} å…¶ä¸­ \begin{align} \frac{\partial \left(h_\theta \left (x^{i}\right)\right)}{\partial \theta _1} &=\frac{\partial }{\partial \theta _1}\frac{1}{1+e^{-\theta _1x^{i}-\theta _2}} \\ &=-\frac{1}{(1+e^{-\theta _1x^{i}-\theta _2})^{2}}\frac{\partial \left(1+e^{-\theta _1x^{i}-\theta _2}\right)}{\partial \theta _1}\\ &=\frac{x^{i}e^{-\theta _1x^{i}-\theta _2}}{\left(1+e^{-\theta _1x^{i}-\theta _2}\right)^{2}}\\ &=x^{i}\frac{1}{1+e^{-\theta _1x^{i}-\theta _2}}\left(1-\frac{1}{1+e^{-\theta _1x^{i}-\theta _2}}\right) \\ &=x^{i}h_\theta \left (x^{i}\right)\left[1-h_\theta \left(x^{i}\right)\right] \end{align} \begin{align} \frac{\partial \left(h_\theta \left(x^{i}\right)\right)}{\partial \theta _2} &=\frac{\partial }{\partial \theta _2}\frac{1}{1+e^{-\theta _1x^{i}-\theta _2}} \\ &=-\frac{1}{\left(1+e^{-\theta _1x^{i}-\theta _2}\right)^{2}}\frac{\partial \left(1+e^{-\theta _1x^{i}-\theta _2}\right)}{\partial \theta _2}\\ &=\frac{e^{-\theta _1x^{i}-\theta _2}}{\left(1+e^{-\theta _1x^{i}-\theta _2}\right)^{2}}\\ &=\frac{1}{1+e^{-\theta _1x^{i}-\theta _2}}\left(1-\frac{1}{1+e^{-\theta _1x^{i}-\theta _2}}\right) \\ &=h_\theta (x^{i})\left[1-h_\theta \left(x^{i}\right)\right] \end{align}å¯¹äºŽæ‰€æœ‰çš„ $\theta_j$ï¼Œéƒ½éœ€è¦æœ‰ï¼š \frac{\partial J(\theta)}{\partial \theta_j}=-\sum_{i=1}^{n}\left[-h_\theta \left(x^{i}\right)+y^{i}\right]x_{j}^{i}\qquad \qquad j=1,2,...ç†è®ºä¸Šï¼Œå¯ä»¥é€šè¿‡è¯¥æ–¹ç¨‹æ±‚è§£å„ä¸ª $\theta_j$ï¼Œä½†ç”±äºŽ $h_\theta (x^i)$ çš„å­˜åœ¨ï¼Œä¸æ˜“æ±‚å‡ºè§£æžè§£ï¼Œéœ€è¦é€šè¿‡å…¶ä»–æ–¹æ³•ï¼Œè®¡ç®—å‡º $\theta_j$ çš„è¿‘ä¼¼è§£ã€‚ 3.1. ä½¿ç”¨sklearnè‡ªå¸¦å‡½æ•°æ±‚è§£é€»è¾‘å›žå½’å‚æ•°In[1] 123456789101112131415import numpy as npimport matplotlib.pyplot as pltfrom sklearn.linear_model import LogisticRegression%matplotlib inlinedata = pd.read_csv('Score_Pass.csv')X, y = np.array(data['Score']), np.array(data['Pass/N'])x = X / np.max(X)lr = LogisticRegression(solver='lbfgs') #solver å¯é€‰é»˜è®¤ï¼Œå¯é€‰'newton-cg'ï¼Œæœ‰åŒºåˆ«lr.fit(x.reshape(-1, 1), y)print('slope = %f, interception= %f ' % (lr.coef_, lr.intercept_))pre_y = lr.predict_proba(x.reshape(-1, 1))pre_y_1 = [i[1] for i in pre_y]plt.scatter(x, y)plt.scatter(x, pre_y_1) 1slope = 11.702751, interception= -8.900218 Out[1] In[2] 12345678910111213141516171819202122import numpy as npimport matplotlib.pyplot as plt%matplotlib inline%config InlineBackend.figure_format = 'retina'np.random.seed(12)num_observations = 5000x1 = np.random.multivariate_normal([0, 0], [[1, .75], [.75, 1]], num_observations)x2 = np.random.multivariate_normal([1, 4], [[1, .75], [.75, 1]], num_observations)simulated_separableish_features = np.vstack((x1, x2)).astype(np.float32)simulated_labels = np.hstack((np.zeros(num_observations), np.ones(num_observations)))plt.figure(figsize=(12, 8))plt.scatter( simulated_separableish_features[:, 0], simulated_separableish_features[:, 1], c=simulated_labels, alpha=.4) Out[2] In[3] 123456789from sklearn.linear_model import LogisticRegressionclf = LogisticRegression(fit_intercept=True, C=1e15)clf.fit(simulated_separableish_features, simulated_labels)print( clf.coef_, clf.intercept_,) 1[[-5.02712572 8.23286799]] [-13.99400797] 3.2. ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•æ±‚è§£é€»è¾‘å›žå½’å‚æ•° æ²¿ç€J(x)çš„ä¸‹é™æ–¹å‘å¯¹ $\theta$ è¿›è¡Œæ›´æ–° \begin{align} \theta_j &=\theta_j - \frac{\partial J(\theta)}{\partial \theta_j}\\ &=\theta_j + \alpha\frac{1}{m}\sum_{i=1}^m\left[ y^{(i)}-h_\theta\left(x^{(i)}\right)\right]\,x_j^{(i)}\\ h_\theta\left(x^{(i)}\right) &= \frac{1}{1+e^{\sum_{j=1}^{n}-\theta_j x_j^{(i)}}} \end{align}$i$ æ˜¯æ ·æœ¬ç‚¹çš„æ ‡å·ï¼Œ$j$ æ˜¯è‡ªå˜é‡ä¸ªæ•°çš„æ ‡å·ï¼Œåœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œ$i$ å–1è‡³10000ï¼Œ$j$ åªå– $1,2,3$ï¼ˆæœ‰å¸¸é‡å‚æ•°ï¼‰ In[4] 12345678910111213141516def sigmoid_eg(x1, x2, theta_1, theta_2, theta_3): z = (theta_1 * x1 + theta_2 * x2 + theta_3).astype("float_") return 1.0 / (1.0 + np.exp(-z))# def Cost(x, y, theta_1, theta_2):# sigmoid_probs = sigmoid(x, theta_1, theta_2)# return -np.mean(y * np.log(sigmoid_probs)# + (1 - y) * np.log(1 - sigmoid_probs))def gradient_eg(x1, x2, y, theta_1, theta_2, theta_3): sigmoid_probs = sigmoid_eg(x1, x2, theta_1, theta_2, theta_3) return 1/len(y)*np.sum((y - sigmoid_probs)*x1),\1/len(y)*np.sum((y - sigmoid_probs)*x2),\1/len(y)*np.sum((y - sigmoid_probs)) In[5] 123456789101112131415161718192021222324252627def GradDe_eg(x1, x2, y, Max_Loop=20, alpha=0.1): #alpha = 0.00000001 #Max_Loop = 200 # Initialize Cost &amp; parameters theta_1 = 0.1 theta_2 = -0.4 theta_3 = 0.56 for l in range(Max_Loop): delta1, delta2, delta3 = gradient_eg(x1, x2, y, theta_1, theta_2, theta_3) #delta1 = alpha * np.sum((y-sigmoid(X, theta_1, theta_2)) * X) #delta2 = alpha * np.sum(y-sigmoid(X, theta_1, theta_2)) # alpha is the step size used for each gradient descent. theta_1 = theta_1 + alpha * delta1 theta_2 = theta_2 + alpha * delta2 theta_3 = theta_3 + alpha * delta3 if l % 1000 == 0: #print('cost = %f'%Cost(x, y, theta_1, theta_2)) print('delta%d =' % (l), [delta1, delta2, delta3]) print('theta%d =' % (l), [theta_1, theta_2, theta_3], '\n') #if l % 1000 == 0: # print(Cost(X, y, theta_1, theta_2), gradient(X,y,theta_1, theta_2),delta1,delta2) return [theta_1, theta_2, theta_3] In[6] 123weights_GD = GradDe_eg(simulated_separableish_features[:,0],\ simulated_separableish_features[:,1],\ simulated_labels,200000,0.9) 1234567891011121314151617delta0 = [0.3961871800720364, 1.5009373411273292, 0.041322520564441766]theta0 = [0.4565684620648328, 0.9508436070145964, 0.5971902685079976] delta1000 = [-0.0007704583774520729, 0.001169577110841499, -0.00204740502940396]theta1000 = [-2.6636329924890543, 4.471657694939081, -7.450004128248804] delta2000 = [-0.00040699408309612366, 0.0006346501021336131, -0.0011069894635109044]theta2000 = [-3.1583938131200133, 5.233346806623855, -8.780787027655295] ... ...... ...delta198000 = [-3.64302204385325e-09, -9.997352543678063e-09, -5.087131606984486e-09]theta198000 = [-5.059009978575051, 8.289579861025118, -14.09229413937621] delta199000 = [-1.8617213591198835e-09, -2.5363573357140016e-09, -1.3400418549025517e-09]theta199000 = [-5.059010268875257, 8.289579870388907, -14.09229451979946] In[7] 1weights_GD Out[7] 1[-5.059010268463914, 8.289579874245822, -14.092294984033252] 3.3. ä½¿ç”¨ç‰›é¡¿æ³•æ±‚è§£é€»è¾‘å›žå½’å‚æ•° \begin{align} x_{n+1} &= x_{n} - \frac{f(x_{n})}{fâ€™(x_{n})} \\ x_{n+2} &= x_{n+1} - \frac{f(x_{n+1})}{fâ€™(x_{n+1})} \\ \end{align} æˆ‘ä»¬è¦æ‰¾çš„æ˜¯ä¸€é˜¶å¯¼æ•°ä¸º $0$ çš„ç‚¹ï¼Œæ‰€ä»¥ æˆ‘ä»¬çš„ $f(x)=Jâ€™(x)$ï¼Œæˆ‘ä»¬çš„ç‰›é¡¿è¿­ä»£å…¬å¼ä¸ºï¼š \begin{align} x_{n+1} &= x_{n} - \frac{J'(x_{n})}{J''(x_{n})} \\ x_{n+2} &= x_{n+1} - \frac{J'(x_{n+1})}{J''(x_{n+1})} \end{align}åœ¨å¤šå…ƒçš„æƒ…å†µä¸‹ï¼Œ$Jâ€™â€™(x_{n})=H_{\ell(\hat{\theta})}$ æµ·å¡žçŸ©é˜µï¼š H_{\ell(\hat{\theta})} = \begin{bmatrix} \begin{split} \frac{\partial^{2}{J}}{\partial{\theta_{1}}\partial{\theta_{1}}} & \frac{\partial^{2}{J}}{\partial{\theta_{1}}\partial{\theta_{2}}} \\ \frac{\partial^{2}{J}}{\partial{\theta_{2}}\partial{\theta_{1}}} & \frac{\partial^{2}{J}}{\partial{\theta_{2}}\partial{\theta_{2}}} \\ \end{split}\end{bmatrix}ä¸‰é˜¶æµ·å¡žçŸ©é˜µå½¢å¼ä¸ºï¼š H_{\ell(\hat{\theta})} = \begin{bmatrix} \begin{split} \frac{\partial^{2}{J}}{\partial{\theta_{1}}\partial{\theta_{1}}} & \frac{\partial^{2}{J}}{\partial{\theta_{1}}\partial{\theta_{2}}} & \frac{\partial^{2}{J}}{\partial{\theta_{1}}\partial{\theta_{3}}} \\ \frac{\partial^{2}{J}}{\partial{\theta_{2}}\partial{\theta_{1}}} & \frac{\partial^{2}{J}}{\partial{\theta_{2}}\partial{\theta_{2}}} & \frac{\partial^{2}{J}}{\partial{\theta_{2}}\partial{\theta_{3}}}\\ \frac{\partial^{2}{J}}{\partial{\theta_{3}}\partial{\theta_{1}}} & \frac{\partial^{2}{J}}{\partial{\theta_{3}}\partial{\theta_{2}}}& \frac{\partial^{2}{J}}{\partial{\theta_{3}}\partial{\theta_{3}}}\\ \end{split}\end{bmatrix} H_{\ell(\hat{\theta})} = \begin{bmatrix}\begin{split} \sum_{i=1}^{n}h_{\theta}(x_{i})(1-h_{\theta}(x_{i}))x_{i,1}x_{i,1},\ & \sum_{i=1}^{n}h_{\theta}(x_{i})(1-h_{\theta}(x_{i}))x_{i,1}x_{i,2},\ & \sum_{i=1}^{n}h_{\theta}(x_{i})(1-h_{\theta}(x_{i}))x_{i,1}\\ \sum_{i=1}^{n}h_{\theta}(x_{i})(1-h_{\theta}(x_{i}))x_{i,2}x_{i,1},\ & \sum_{i=1}^{n}h_{\theta}(x_{i})(1-h_{\theta}(x_{i}))x_{i,2}x_{i,2},\ & \sum_{i=1}^{n}h_{\theta}(x_{i})(1-h_{\theta}(x_{i}))x_{i,2},\\ \sum_{i=1}^{n}h_{\theta}(x_{i})(1-h_{\theta}(x_{i}))x_{i,1},\ & \sum_{i=1}^{n}h_{\theta}(x_{i})(1-h_{\theta}(x_{i}))x_{i,2},\ & \sum_{i=1}^{n}h_{\theta}(x_{i})(1-h_{\theta}(x_{i}))x_{i,3}\\ \end{split}\end{bmatrix} \\ \begin{align} &h_{\theta}(x_i) = \frac{1}{1 + e^{-z}}\\ &z = \theta_{1}x_{i,1} + \theta_{2}x_{i,2}+\theta_3 \end{align}ä¸€é˜¶å¯¼æ•° \nabla J = -\begin{pmatrix} \sum_{i=1}^{n}(y_{i} - h_{\theta}(x_{i}))x_{i,1}\\ \sum_{i=1}^{n}(y_{i} - h_{\theta}(x_{i}))x_{i,2}\\ \sum_{i=1}^{n}(y_{i} - h_{\theta}(x_{i}))x_{i,3} \end{pmatrix} \theta_j=\theta_j - H^{-1}\nabla J(\theta)In[8] 123456789def sigmoid_eg(x1, x2, theta_1, theta_2, theta_3): z = (theta_1 * x1 + theta_2 * x2 + theta_3).astype("float_") return 1.0 / (1.0 + np.exp(-z))def Cost(x1, x2, y, theta_1, theta_2, theta_3): sigmoid_probs = sigmoid_eg(x1, x2, theta_1, theta_2, theta_3) return -np.mean(y * np.log(sigmoid_probs) + (1 - y) * np.log(1 - sigmoid_probs)) In[9] 1234567def gradient_nt(x1, x2, y, theta_1, theta_2, theta_3): sigmoid_probs = sigmoid_eg(x1, x2, theta_1, theta_2, theta_3) return np.array([ np.sum((y - sigmoid_probs) * x1), np.sum((y - sigmoid_probs) * x2), np.sum(y - sigmoid_probs) ]) In[10] 12345678910111213def hessian(x1, x2, y, theta_1, theta_2, theta_3): sigmoid_probs = sigmoid_eg(x1, x2, theta_1, theta_2, theta_3) d1 = np.sum((sigmoid_probs * (1 - sigmoid_probs)) * x1 * x1) d2 = np.sum((sigmoid_probs * (1 - sigmoid_probs)) * x1 * x2) d3 = np.sum((sigmoid_probs * (1 - sigmoid_probs)) * x1) d4 = np.sum((sigmoid_probs * (1 - sigmoid_probs)) * x2 * x1) d5 = np.sum((sigmoid_probs * (1 - sigmoid_probs)) * x2 * x2) d6 = np.sum((sigmoid_probs * (1 - sigmoid_probs)) * x2) d7 = np.sum((sigmoid_probs * (1 - sigmoid_probs)) * x1) d8 = np.sum((sigmoid_probs * (1 - sigmoid_probs)) * x2) d9 = np.sum((sigmoid_probs * (1 - sigmoid_probs))) H = np.array([[d1, d2, d3], [d4, d5, d6], [d7, d8, d9]]) return H In[11] 12345678theta_1 = 0.001theta_2 = -0.4theta_3 = 0.6sigmoid_probs = sigmoid_eg(simulated_separableish_features[:,0],\ simulated_separableish_features[:,1],\ theta_1,theta_2,theta_3)sigmoid_probs Out[11] 12array([0.70539901, 0.71740128, 0.75001283, ..., 0.25536395, 0.25133316, 0.20942065]) In[12] 1234567891011121314151617181920212223242526272829303132333435363738def newtons_method(x1, x2, y): # Initialize Cost &amp; parameters theta_1 = 0.001 theta_2 = -0.4 theta_3 = 0.6 delta_l = np.Infinity l = Cost(x1, x2, y, theta_1, theta_2, theta_3) # Convergence Conditions Î´ = .0000000001 max_iterations = 15 i = 0 while abs(delta_l) &gt; Î´ and i &lt; max_iterations: i += 1 g = gradient_nt(x1, x2, y, theta_1, theta_2, theta_3) hess = hessian(x1, x2, y, theta_1, theta_2, theta_3) H_inv = np.linalg.inv(hess) # @ is syntactic sugar for np.dot(H_inv, g.T)Â¹ delta = H_inv @ g.T delta_theta_1 = delta[0] delta_theta_2 = delta[1] delta_theta_3 = delta[2] print(theta_1, theta_2, theta_3, l, g) # Perform our update step theta_1 += delta_theta_1 theta_2 += delta_theta_2 theta_3 += delta_theta_3 # Update the log-likelihood at each iteration l_new = Cost(x1, x2, y, theta_1, theta_2, theta_3) delta_l = l - l_new l = l_new return np.array([theta_1, theta_2, theta_3]) In[13] 123weights_NT = newtons_method(simulated_separableish_features[:,0],\ simulated_separableish_features[:,1],\ simulated_labels) 12345678910111213140.001 -0.4 0.6 1.192232682683846 [ 4203.81624265 15339.64896586 425.24295633]-0.5323055089899444 1.3654730366188175 -2.213077389806385 0.1268005198001985 [ -4.87460157 917.75831422 -229.19748353]-1.1017906890766926 2.1170684289582935 -3.515199454248499 0.06344214919739537 [ 9.11552841 372.53112984 -82.41612615]-1.696350075213766 2.9567826609247536 -4.958577211933369 0.0359808048849091 [ 7.25193544 153.26328814 -30.62002723]-2.3598703977461986 3.9351755787400005 -6.633652721276137 0.023305245309678077 [ 4.99551386 64.01150281 -11.18719616]-3.102101701476835 5.077389660723291 -8.586610622518707 0.017443703519444794 [ 3.20603557 26.54120782 -3.88451216]-3.8866316214728123 6.334661214553187 -10.738329272756982 0.014970682152691529 [ 1.76384655 10.23918884 -1.21513341]-4.578746773357871 7.479180436760244 -12.700646487249276 0.014194607302215922 [ 0.69308352 3.13228017 -0.30245818]-4.96926037381912 8.137065370724404 -13.830223818356856 0.014076397801702743 [ 0.13170341 0.51575348 -0.0430004 ]-5.055692120582939 8.28392101239704 -14.082565688206492 0.014072547126520205 [ 0.00514173 0.01873735 -0.00152877]-5.059007231550736 8.28957481482966 -14.092286111829237 0.014072542010902475 [3.46957973e-05 1.22308017e-04 4.33913704e-05]-5.059012074312396 8.289583319446658 -14.092299639264253 0.014072542383840357 [-1.32332893e-05 -3.33496011e-05 -1.47340364e-05]-5.059012209362201 8.289583262232439 -14.092299836143358 0.014072542049442381 [ 8.05848509e-06 -4.68544268e-06 -5.44347003e-06]-5.059011843642549 8.289583140516363 -14.0922999061835 0.014072542383840357 [-1.32332893e-05 -3.33496011e-05 -1.47340364e-05] In[14] In[14] 123print('Gradient descent: &#123;&#125;'.format(weights_GD))print('Newtons method: &#123;&#125;'.format(weights_NT))print('Sklearn method: &#123;&#125; &#123;&#125;'.format(clf.coef_, clf.intercept_,)) Out[14] 123Gradient descent: [-5.059010268463914, 8.289579874245822, -14.092294984033252]Newtons method: [ -5.05901198 8.28958308 -14.0923001 ]Sklearn method: [[-5.02712572 8.23286799]] [-13.99400797] é€šè¿‡ä¸Šé¢çš„æ•°æ®å¤„ç†ï¼Œä¾¿å¾—åˆ°äº†å¯¹äºŽæœ¬æ¬¡å›žå½’çš„æœ€ä¼˜è§£ï¼š 4. ä»Žé€»è¾‘å›žå½’åˆ°SoftMaxå¯¹äºŽäºŒåˆ†ç±»é—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨é€»è¾‘å›žå½’ h_\theta (x)=\frac{1}{1+e^{-\left ( \theta_1 x+\theta_2 \right )}} =\frac{e^{ \theta_1 x+\theta_2}}{1+e^{ \theta_1 x+\theta_2}}è€Œå¯¹äºŽå¤šåˆ†ç±»çš„é—®é¢˜ï¼Œå°±è¦å¼•å…¥SoftMax Functionï¼Œå…¶æœ¬è´¨ä¸Šå’Œé€»è¾‘å›žå½’ä¸€è‡´ï¼Œä½†éœ€è¦ä»Žå¤šä¸ªè§’åº¦åˆ†æž é¦–å…ˆå®šä¹‰ Z_i (x)=\theta _{i,1}x_1+\theta _{i,2}x_2 åˆ™SoftMax Functionä¸º Softmax = \frac{e^{z_i(x)}}{\sum e^{z_i(x)}} ä¾‹å¦‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª5ç±»çš„SoftMax Function p_i=\begin{cases} \frac{e^{z_1(x)}}{\sum_{i=1}^{5} e^{z_i(x)}}& & â‘ \\ \frac{e^{z_2(x)}}{\sum_{i=1}^{5} e^{z_i(x)}}& & â‘¡\\ \frac{e^{z_3(x)}}{\sum_{i=1}^{5} e^{z_i(x)}}& & â‘¢\\ \frac{e^{z_4(x)}}{\sum_{i=1}^{5} e^{z_i(x)}}& & â‘£\\ \frac{e^{z_5(x)}}{\sum_{i=1}^{5} e^{z_i(x)}}& & â‘¤ \end{cases}åŒé€»è¾‘å›žå½’ä¸€æ ·ï¼ŒSoftMax Functionä¹Ÿå¯ä»¥æ±‚åå¯¼ \begin{align} \frac{\partial (Softmax_{(i)})}{\partial \theta _j} &=\frac{\partial }{\partial \theta _j}\frac{e^{\theta_{i}x_{i}}}{\sum_{j=1}^{n}e^{\theta_{j}x_{j}}}\\ &\Rightarrow x_j\cdot\left ( 1-Softmax_{(i)} \right )\cdot Softmax_{(i)} & &(i=j)\\ &\Rightarrow -x_j \cdot Softmax_{(i)}\cdot Softmax_{(j)}& &(i\neq j) \end{align}]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Statistics</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœ€ç®€å•æœ€å®žç”¨ï¼šçº¿æ€§å›žå½’]]></title>
    <url>%2F2019%2F02%2F11%2FLinear_Regression_Lecture%2F</url>
    <content type="text"><![CDATA[çº¿æ€§å›žå½’ åœ¨è§£å†³è¿žç»­å˜é‡çš„é¢„æµ‹é—®é¢˜é‡Œï¼Œçº¿æ€§å›žå½’æœ€ç®€å• å¯¹äºŽå¾ˆå¤šé—®é¢˜ï¼Œåœ¨ä¸€å®šèŒƒå›´å†…æ˜¯æœ‰æ•ˆçš„ ç†è®ºå’Œåº”ç”¨ä¹Ÿæ˜¯æœ€å®Œå–„çš„ 1. ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿æ€§å›žå½’ï¼Ÿ $y=c_0+c_1 x_1+c_2 x_2$ å½¢å¼ç®€å• åº”ç”¨å¹¿æ³›ï¼šèº«é«˜ä¸Žä½“é‡ï¼Œæµ·æ‹”ä¸Žæ°”åŽ‹ æ™®é€šæœ€å°äºŒä¹˜æ³•ç†è§£å®¹æ˜“ï¼Œè®¡ç®—èµ·æ¥ç®€å• ç»“æžœä¹Ÿå¾ˆå®¹æ˜“è§£é‡Š å¥¥å¡å§†å‰ƒåˆ€æŒ‡å—ï¼šå¦‚æžœæ²¡æœ‰è¶³å¤Ÿçš„è¯æ®ï¼ˆç†ç”±ï¼‰ï¼Œå°±ä¸ç”¨æ›´å¤æ‚çš„æ¨¡åž‹ In my opinion the theory here is the logically simplest relativistic field theory that is at all possible. But this does not mean that Nature might not obey a more complex theory. More complex theories have frequently been proposed. . . In my view, such more complicated systems and their combinations should be considered only if there exist physical-empirical reasons to do so. â€‹ â€”Einstein 2. å¦‚ä½•è®¡ç®—çº¿æ€§å›žå½’ï¼Ÿæœ€å°äºŒä¹˜æ³• ä¸–ç•Œä¸æ˜¯å®Œç¾Žçš„ï¼Œè¦æŽ¥çº³ä¸å®Œç¾Ž éœ€è¦é€šè¿‡é‡åŒ–çš„å½¢å¼æ¥æ¯”è¾ƒ \begin{align} \hat{y}_{é»„} = c_0 + c_1 x \\ \hat{y}_{çº¢} = d_0 + d_1 x \end{align} æ¯ä¸ªè§‚æµ‹å€¼æ˜¯$x_i,y_i$ $x_i$æ˜¯è‡ªå˜é‡ï¼Œå›žå½’çš„å€¼æ˜¯$\hat{y}_i$ æ ·æœ¬çš„å›žå½’æ˜¯å¯¹æ€»ä½“çš„å›žå½’çš„ä¼°è®¡ \begin{align} &\hat{y}_i = \hat{\alpha} + \hat{\beta} x_i \\ &y_i = \alpha + \beta x_i \ \end{align} å•ä¸ªç‚¹çš„æ‹Ÿåˆç¨‹åº¦ç”¨æ®‹å·®æ¥è¡¡é‡ï¼š \begin{align} \epsilon_i = y_i - \hat{y}_i \end{align} æ•´ä½“çš„æ‹Ÿåˆç¨‹åº¦ï¼Œç”¨æ®‹å·®å¹³æ–¹å’Œï¼ˆSSEï¼‰æ¥è¡¡é‡ï¼š \begin{align} sum\ of\ square\ error &= \sum_i \epsilon_i^2 \\ &= \sum_i (y_i - \hat{y}_i)^2 \\ &= \sum_i (y_i - \hat{\alpha} - \hat{\beta} x_i )^2\ \end{align} é€‰å‡ºæ‹Ÿåˆç¨‹åº¦æœ€å¥½çš„ç›´çº¿ æ®‹å·®å¹³æ–¹å’Œæœ€å°çš„ç›´çº¿ æ ¹æ®æžå€¼æ¡ä»¶æ±‚ $\alpha,\beta$ \begin{align} &\hat{\beta} = \frac{\sum(x_i-\bar{x})(y_i-\bar{y})}{\sum(x_i-\bar{x})^2}\\ &\hat{\alpha} = \bar{y}-\hat{\beta}\bar{x} \end{align} 3. ç”±æœ€å°äºŒä¹˜æ³•é€‰å‡ºçš„ç›´çº¿æœ‰æ²¡æœ‰ç”¨ï¼Ÿ é€‰å‡ºä¸€æ ¹ç›´çº¿åªæ˜¯ä¸‡é‡Œé•¿å¾ç¬¬ä¸€æ­¥ ä¸ç®¡æ˜¯ä»€ä¹ˆæ ·çš„æ•°æ®ï¼Œéƒ½å¯ä»¥è®¡ç®—å‡ºä¸€æ ¹è¿™æ ·çš„ç›´çº¿ éœ€è¦ç”¨å…¶ä»–æ ‡å‡†æ¥è¡¡é‡ï¼Œè¿™è·Ÿç›´çº¿ï¼Œå¯¹è§£é‡Šæ•°æ®åˆ°åº•æœ‰æ²¡æœ‰ç”¨ In[1] 12345678910111213141516import numpy as npimport matplotlib.pyplot as pltimport pandas as pd%matplotlib inline%config InlineBackend.figure_format = 'retina'x = np.linspace(0, 800, 10000)np.random.seed(1)y = 400 + np.random.random(10000) * 400 + x * 0.002plt.figure(figsize=[8, 6])plt.scatter(x, y, s=0.2)plt.xlabel('PM_Nongzhanguan')plt.ylabel('PM_Dongsi') Out[1] Text(0, 0.5, &#39;PM_Dongsi&#39;) In[2] 12345678910111213from sklearn.linear_model import LinearRegressionlr = LinearRegression()lr.fit(x.reshape(-1, 1), y)y_hat = lr.predict(x.reshape(-1, 1))print('intercept = %f, slope = %f' % (lr.intercept_, lr.coef_))plt.figure(figsize=[8, 6])plt.scatter(x, y, s=0.2)plt.plot(x, 600 + x * 0.002, '--', c='blue')plt.plot(x, y_hat, c='red')plt.xlabel('PM_Nongzhonguan')plt.ylabel('PM_Dongsi') intercept = 600.891491, slope = -0.002232 Out[2] Text(0, 0.5, &#39;PM_Dongsi&#39;) In[3] 123456789y_1_random = (y - x * 0.002)y_2 = np.mean( y_1_random) + x * 0.002 + (y_1_random - np.mean(y_1_random)) / 400 * 20plt.figure(figsize=[8, 6])plt.scatter(x, y_2, s=0.2)plt.xlabel('PM_Nongzhanguan')plt.ylabel('PM_Dongsi')plt.ylim([400, 800]) Out[3] (400, 800) In[4] 1234567891011from sklearn.linear_model import LinearRegressionlr2 = LinearRegression()lr2.fit(x.reshape(-1, 1), y_2)y_hat_2 = lr2.predict(x.reshape(-1, 1))plt.figure(figsize=[8, 6])plt.scatter(x, y_2, s=0.2)plt.plot(x, y_hat_2, c='white')plt.xlabel('PM_Nongzhanguan')plt.ylabel('PM_Dongsi')plt.ylim([400, 800])print('intercept = %f, slope = %f' % (lr2.intercept_, lr2.coef_)) intercept = 599.283220, slope = 0.001788 In[5] 12345678910111213141516fig = plt.figure(figsize=(15, 6))fig.subplots_adjust(hspace=0.4, wspace=0.4)plt.subplot(1, 2, 1)plt.scatter(x, y, s=0.2)plt.plot(x, y_hat, c='red')plt.xlabel('PM_Nongzhanguan')plt.ylabel('PM_Dongsi')plt.subplot(1, 2, 2)plt.scatter(x, y_2, s=0.2)plt.plot(x, y_hat_2, c='white')plt.xlabel('PM_Nongzhanguan')plt.ylabel('PM_Dongsi')plt.ylim([400, 800])print('left intercept = %f, slope = %f' % (lr.intercept_, lr.coef_))print('right intercept = %f, slope = %f' % (lr2.intercept_, lr2.coef_)) left intercept = 600.891491, slope = -0.002232 right intercept = 599.283220, slope = 0.001788 In[6] 12345678910111213141516x = np.linspace(0, 800, 10000)np.random.seed(2)y3 = 400 + np.random.random(10000) * 400 + x * 0.002lr3 = LinearRegression()lr3.fit(x.reshape(-1, 1), y3)y_hat_3 = lr3.predict(x.reshape(-1, 1))y_3_random = (y3 - x * 0.002)y_4 = np.mean( y_3_random) + x * 0.002 + (y_3_random - np.mean(y_3_random)) / 400 * 20lr4 = LinearRegression()lr4.fit(x.reshape(-1, 1), y_4)y_hat_4 = lr4.predict(x.reshape(-1, 1))print('left intercept = %f, slope = %f' % (lr3.intercept_, lr3.coef_))print('right intercept = %f, slope = %f' % (lr4.intercept_, lr4.coef_)) left intercept = 597.434210, slope = 0.002158 right intercept = 597.494287, slope = 0.002008 In[7] 12345678910111213141516x = np.linspace(0, 800, 10000)np.random.seed(3)y3 = 400 + np.random.random(10000) * 400 + x * 0.002lr3 = LinearRegression()lr3.fit(x.reshape(-1, 1), y3)y_hat_3 = lr3.predict(x.reshape(-1, 1))y_3_random = (y3 - x * 0.002)y_4 = np.mean( y_3_random) + x * 0.002 + (y_3_random - np.mean(y_3_random)) / 400 * 20lr4 = LinearRegression()lr4.fit(x.reshape(-1, 1), y_4)y_hat_4 = lr4.predict(x.reshape(-1, 1))print('left intercept = %f, slope = %f' % (lr3.intercept_, lr3.coef_))print('right intercept = %f, slope = %f' % (lr4.intercept_, lr4.coef_)) left intercept = 599.686570, slope = -0.000431 right intercept = 598.762664, slope = 0.001878 In[8] 1234567891011121314151617181920212223242526def coeff_lr(i): x = np.linspace(0, 800, 10000) np.random.seed(i) y3 = 400 + np.random.random(10000) * 400 + x * 0.002 lr3 = LinearRegression() lr3.fit(x.reshape(-1, 1), y3) y_hat_3 = lr3.predict(x.reshape(-1, 1)) y_3_random = (y3 - x * 0.002) y_4 = np.mean( y_3_random) + x * 0.002 + (y_3_random - np.mean(y_3_random)) / 400 * 20 lr4 = LinearRegression() lr4.fit(x.reshape(-1, 1), y_4) y_hat_4 = lr4.predict(x.reshape(-1, 1)) #print('left intercept = %f, slope = %f'%(lr3.intercept_,lr3.coef_)) #print('right intercept = %f, slope = %f'%(lr4.intercept_,lr4.coef_)) return pd.DataFrame([[0, lr3.coef_], [1, lr4.coef_]], columns=['cate', 'coef_'])result = coeff_lr(0)for i in range(1, 100): df = coeff_lr(i) result = result.append(df, ignore_index=True) In[9] 123import seaborn as snssns.stripplot( x="cate", y="coef_", data=result, jitter=True) 3.1 è¦ç‚¹ æ¯æ¬¡å›žå½’æ˜¯å¯¹æŸä¸€æ¬¡æŠ½æ ·çš„æ ·æœ¬è¿›è¡Œå›žå½’åˆ†æž å¯¹æ ·æœ¬å›žå½’è®¡ç®—åŽçš„æ–œçŽ‡æ˜¯ä¸ªå˜é‡ï¼ŒéšæŠ½æ ·ç»“æžœä¸åŒè€Œä¸åŒ 3.2 éœ€è¦è¿›ä¸€æ­¥ä½¿ç”¨å…¶ä»–æŒ‡æ ‡æ¥è¡¡é‡çº¿æ€§å›žå½’çš„æ•ˆç”¨ï¼Œè¾¾åˆ°å»ºæ¨¡ä¸Žåˆ†æžçš„ç›®çš„ å›žå½’åˆ†æžçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ åŽ»ä¼°è®¡æ€»ä½“çš„xä¸Žæ€»ä½“çš„yä¹‹é—´çš„å…³ç³»ï¼Œæ˜¯æ­£ç›¸å…³ï¼Ÿè´Ÿç›¸å…³ï¼Ÿè¿˜æ˜¯ä¸ç›¸å…³ï¼Ÿï¼ˆè¿™ä¸€å±‚é¢ï¼Œåœ¨äºŽä¸Žâ€˜ä¸ç›¸å…³â€˜æ¯”è¾ƒï¼‰ ç›¸å…³æ€§ä¼šä¸ä¼šéšä¸åŒçš„æŠ½æ ·æƒ…æ™¯å˜åŒ–ï¼Ÿä¼šä¸ä¼šå‡ºçŽ°ï¼šç¬¬ä¸€æ¬¡æŠ½æ ·çš„å›žå½’ç»“æžœæ˜¯æ­£ç›¸å…³ï¼Œç¬¬äºŒæ¬¡æŠ½æ ·çš„å›žå½’ç»“æžœæ˜¯è´Ÿç›¸å…³ï¼Ÿ ç¡®å®šäº†ç›¸å…³æ€§ï¼Œé‚£ä¹ˆçº¿æ€§å›žå½’æ¨¡åž‹èƒ½ä¸èƒ½å¾ˆå¥½çš„è§£é‡ŠåŽŸæœ‰æ•°æ®çš„ç‰¹ç‚¹ï¼Ÿ 4. çº¿æ€§å›žå½’çš„å‚æ•°ä¼°è®¡åˆ†æžä»¥æ–œçŽ‡ä¸ºä¾‹ æ–œçŽ‡çš„ç¬¦å·ä¸Žç›¸å…³æ€§ \begin{align} \hat{\beta} & = \frac{Cov(x,y)}{Var(x)} \\ & = \frac{Cov(x,y)}{\sqrt{Var(x) }\sqrt{Var(x)} }\\ & = \frac{Cov(x,y)}{\sqrt{Var(x) }\sqrt{Var(y)}}\frac{\sqrt{Var(y)}} {\sqrt{Var(x)} }\\ & ={Corr(x,y)}\frac{\sqrt{Var(y)}}{\sqrt{Var(x)}} \end{align} åœ¨å‡è®¾æ£€éªŒçš„æ¡†æž¶ä¸‹ï¼Œè¡¡é‡å›žå½’å‚æ•°ç¬¦å·çš„ä¸ç¡®å®šæ€§ $\hat{\beta}$éšæ ·æœ¬å˜åŒ–è€Œå˜åŒ–ï¼Œæ˜¯æ€»ä½“å›žå½’å‚æ•°$\beta$çš„ä¼°è®¡é‡ï¼Œå…·æœ‰å‡å€¼å’Œæ–¹å·® \begin{align} \hat{\beta} &= \frac{\sum(x_i-\bar{x})(y_i-\bar{y})}{\sum(x_i-\bar{x})^2}\\ &= \frac{\sum(x_i-\bar{x})y_i}{\sum(x_i-\bar{x})^2}\\ \end{align} \begin{align} E(\hat{\beta}) &=\frac{\sum(x_i-\bar{x})E(y_i)}{\sum(x_i-\bar{x})^2}\\ &=\frac{\sum(x_i-\bar{x})(\alpha+\beta x_i)}{\sum(x_i-\bar{x})^2}\\ &=\beta \end{align} \begin{align} Var(\hat{\beta}) &= \sum[\frac{(x_i-\bar{x})}{\sum(x_i-\bar{x})2}]2Var(y_i)\\ &=\frac{\sigma2}{\sum(x_i-\bar{x})2} \end{align} ç”¨tæ£€éªŒæ¥åˆ¤æ–­ï¼Œ0åœ¨å›žå½’å‚æ•°åˆ†å¸ƒçš„ä½ç½®ï¼Œä»¥åˆ¤æ–­å‚æ•°æ­£è´Ÿç¬¦å·çš„ä¸ç¡®å®šæ€§ tæ£€éªŒï¼š åŽŸå‡è®¾ï¼Œ H0: $\beta = 0$ å¤‡æ‹©å‡è®¾,H1: $\beta \neq 0$ $\hat{\beta} \sim N(\beta,\frac{\sigma^2}{\sum(x_i-x)^2}$) æž„é€ ç»Ÿè®¡é‡ $t = \frac{\hat{\beta}}{\sqrt{\hat{\sigma}^2/\sum(x_i-x)^2}}$ å…¶ä¸­ $\hat{\sigma}^2 = \frac{1}{n-1}\sum e_i^2 = \frac{1}{n-1}\sum(y_i-\hat{y_i})^2$ è®¡ç®—å¯¹åº”çš„på€¼ï¼Œåˆ¤æ–­æ˜¯å¦æ‹’ç»åŽŸå‡è®¾ å¦‚ä½•è§£é‡Šæ˜¾è‘—æ€§ï¼Ÿï¼ˆæˆ‘çš„ç†è§£åº”è§£é‡Šä¸ºç›¸å…³æ€§çš„ç¡®å®šç¨‹åº¦ï¼‰ 5. çº¿æ€§å›žå½’å¯¹æ•°æ®çš„è§£é‡Š å›žå½’åˆ†æžçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ åŽ»ä¼°è®¡æ€»ä½“çš„xä¸Žæ€»ä½“çš„yä¹‹é—´çš„å…³ç³»ï¼Œæ˜¯æ­£ç›¸å…³ï¼Ÿè´Ÿç›¸å…³ï¼Ÿè¿˜æ˜¯ä¸ç›¸å…³ï¼Ÿï¼ˆè¿™ä¸€å±‚é¢ï¼Œåœ¨äºŽä¸Žâ€˜ä¸ç›¸å…³â€˜æ¯”è¾ƒï¼‰ ç›¸å…³æ€§ä¼šä¸ä¼šéšä¸åŒçš„æŠ½æ ·æƒ…æ™¯å˜åŒ–ï¼Ÿä¼šä¸ä¼šå‡ºçŽ°ï¼šç¬¬ä¸€æ¬¡æŠ½æ ·çš„å›žå½’ç»“æžœæ˜¯æ­£ç›¸å…³ï¼Œç¬¬äºŒæ¬¡æŠ½æ ·çš„å›žå½’ç»“æžœæ˜¯è´Ÿç›¸å…³ï¼Ÿ ç¡®å®šäº†ç›¸å…³æ€§ï¼Œé‚£ä¹ˆçº¿æ€§å›žå½’æ¨¡åž‹èƒ½ä¸èƒ½å¾ˆå¥½çš„è§£é‡ŠåŽŸæœ‰æ•°æ®çš„ç‰¹ç‚¹ï¼Ÿ \begin{align} R^2 = \frac{SSR}{SST}=1-\frac{SSE}{SST} \end{align} $R^2$å«ä¹‰ï¼šç¦»å·®å¹³æ–¹å’Œä¸­æœ‰å¤šå°‘èƒ½è¢«å›žå½’å¹³æ–¹å’Œè§£é‡Š æ³¨æ„äº‹é¡¹ï¼š $R^2=0$ä¸ä»£è¡¨è‡ªå˜é‡ä¸Žå› å˜é‡æ²¡æœ‰å…³ç³» $R^2$å¤§ä¹Ÿä¸ä»£è¡¨è‡ªå˜é‡å’Œå› å˜é‡å°±ä¸€å®šæ˜¯çº¿æ€§å…³ç³» $R^2$å¤§ä¹Ÿä¸ä»£è¡¨ç»“æžœæ˜¾è‘—ï¼ˆä¸Žç¡®å®šæ€§æ— å…³ï¼‰ 6. çº¿æ€§å›žå½’å¯¹æ ·æœ¬åŠè¯¯å·®çš„è¦æ±‚å’Œå‡è®¾å‰æ è¦æ±‚ï¼š yçš„å‡å€¼æ˜¯xçš„çº¿æ€§ç»„åˆ æ®‹å·®$e_i$ç‹¬ç«‹äºŽx ç»™å®šx, æ®‹å·®$e_i$è¦æœä»Žæ­£æ€åˆ†å¸ƒ å¯¹äºŽä¸åŒçš„xi, æ®‹å·®$e_i$çš„æ–¹å·®varianceåº”ç›¸åŒ Linear Function Independent Normal Distribution Equal Variance 7. é¢„æµ‹çš„confidence interval å’Œ prediction interval é—®é¢˜1ï¼šå¹´çº§ä¸ŽæŸæˆäººè€ƒè¯•åˆ†æ•°ï¼Œæ ¹æ®æŠ½æ ·æ ·æœ¬ï¼Œä¼°è®¡äºŒå¹´çº§å­¦ç”Ÿçš„å¹³å‡åˆ†æ•° ä¸åŒæ¬¡çš„æŠ½æ ·ï¼Œå›žå½’ç»“æžœæ˜¯ä¸ä¸€æ ·çš„ é¢„æµ‹äºŒå¹´çº§çš„å­¦ç”Ÿå¹³å‡åˆ†æ•° vs é¢„æµ‹æŸä¸ªå­¦ç”Ÿçš„è€ƒè¯•åˆ†æ•° Confidential Interval Prediction Interval]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Statistics</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žæ­£æ€åˆ†å¸ƒåˆ°ç½®ä¿¡åŒºé—´]]></title>
    <url>%2F2018%2F06%2F18%2F%E4%BB%8E%E6%AD%A3%E6%80%81%E5%88%86%E5%B8%83%E5%88%B0%E7%BD%AE%E4%BF%A1%E5%8C%BA%E9%97%B4%2F</url>
    <content type="text"><![CDATA[å…ˆä»Žäººå‡æ”¶å…¥è¯´èµ·æˆ‘ä»¬é€šå¸¸ä¼šç»Ÿè®¡ä¸€ä¸ªåœ°åŒºçš„äººå‡æ”¶å…¥æ°´å¹³ï¼Œä»¥æ­¤æ¥ååº”è¿™ä¸ªåœ°åŒºçš„ç»æµŽå‘å±•æ°´å¹³ã€‚å‡è®¾çŽ°åœ¨ä»Žä¸€ä¸ªåœ°åŒºï¼ŒéšæœºæŠ½å–1000äººï¼Œç»Ÿè®¡ä»–ä»¬çš„å¹´æ”¶å…¥ï¼Œæ±‚å’ŒåŽé™¤ä»¥1000ï¼Œå¾—åˆ°ä¸€ä¸ªå¹³å‡å¹´æ”¶å…¥ï¼š \overline{X}=\frac{1}{1000}\sum_{i=1}^{1000}X_i \qquadï¼ˆX_iä¸ºç¬¬iä¸ªäººçš„å¹´æ”¶å…¥ï¼‰ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„é—®é¢˜ï¼Œç”±äºŽæ¯æ¬¡éšæœºæŠ½å–çš„æ ·æœ¬ä¸å°½ç›¸åŒï¼Œå¯¼è‡´ç®—å‡ºçš„ç®—æœ¯å¹³å‡å€¼æ¯æ¬¡éƒ½å¯èƒ½ä¸åŒã€‚ä¾‹å¦‚ç¬¬ä¸€æ¬¡$\overline{X_1}=6200$ï¼Œç¬¬äºŒæ¬¡$\overline{X_2}=6000$ï¼Œç¬¬ä¸‰æ¬¡$\overline{X_3}=6100$â€¦â€¦ï¼Œè¿™æ ·å¾—åˆ°çš„æ•°æ®ï¼Œè®©äººä¸çŸ¥é“è¯¥ç›¸ä¿¡å“ªä¸ªã€‚ ä»ŽæŠ½æ ·åˆ°å®¢è§‚é€šè¿‡ä»¥ä¸Šçš„ä¾‹å­ï¼Œæˆ‘ä»¬å¾—å‡ºäº†ä¸€ä¸ªç»“è®ºï¼šä»¥ç‚¹ä¼°ç‚¹æ˜¯é ä¸ä½çš„ï¼Œæ›´ä½•å†µåœ¨è¿žç»­åž‹éšæœºå˜é‡ä¸­ï¼Œå–ä¸€ä¸ªç‚¹çš„æ¦‚çŽ‡æ˜¯æµ‹ä¸åˆ°çš„ã€‚ä½†æ˜¯ï¼Œè¿™å¹¶ä¸æ„å‘³ç€å¹³å‡æ”¶å…¥å€¼æ˜¯ä¸å­˜åœ¨çš„ã€‚å³ä¸€å®šæœ‰é‚£ä¹ˆä¸€ä¸ªå®¢è§‚å­˜åœ¨çš„å€¼ï¼Œä¸å› æŠ½æ ·çš„ä¸åŒè€Œæ”¹å˜ï¼Œæˆ‘ä»¬ä¸å¦¨è®°è¿™ä¸ªæ•°ä¸º $\mu$ ã€‚ æˆ‘ä»¬å›žåˆ°ç»Ÿè®¡ä¸­ï¼Œå‡è®¾çŽ°åœ¨æœ‰ä¸€ç»„ç¯æ³¡ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•åŽ»ä¼°è®¡å¹³å‡å¯¿å‘½å‘¢ï¼Ÿæˆ‘ä»¬åŒæ ·åŽ»æŠ½å–ä¸€ç»„æ ·æœ¬ï¼Œæµ‹é‡å®ƒä»¬çš„å¹³å‡å¯¿å‘½ $\overline{X}$ ï¼Œè™½ç„¶è¿™ä¸ª $\overline{X}$ ä¸ä¼šæ­£å¥½å°±æ˜¯ $\mu$ ï¼Œä½†æ˜¯æˆ‘ä»¬ä»Žå¸¸ç†å¯çŸ¥ï¼Œè¿™ä¸ªå€¼åº”è¯¥ä¸ŽçœŸå®žå­˜åœ¨çš„ $\mu$ ç›¸åŽ»ä¸è¿œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¦‚æžœä¸€ç»„ç¯æ³¡çš„çœŸå®žå¹³å‡å¯¿å‘½æ˜¯1800å°æ—¶ï¼Œæˆ‘ä»¬æµ‹å¾—çš„å¹³å‡å€¼åº”è¯¥åœ¨1800å·¦å³ï¼Œè€Œä¸ä¼šå‡ºçŽ°ä¾‹å¦‚20ï¼Œ100è¿™æ ·æ˜Žæ˜¾åç¦»çš„å€¼ã€‚é‚£ä¹ˆè®¡ç®—æˆ‘ä»¬æµ‹å¾—çš„ $\overline{X}$ ä¸Ž $\mu$ çš„è·ç¦»ï¼š |\overline{X}-\mu|ç„¶åŽè®¡ç®—è¿™ä¸ªè·ç¦»å°äºŽæŸä¸ªå€¼å¾—æ¦‚çŽ‡ï¼š P(|\overline{X}-\mu|]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Statistics</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mac å±€åŸŸç½‘å…±äº« ShadowSocks]]></title>
    <url>%2F2018%2F02%2F05%2FMac%E5%B1%80%E5%9F%9F%E7%BD%91%E5%85%B1%E4%BA%ABss%2F</url>
    <content type="text"><![CDATA[æ–°ä¹°äº† NSï¼Œå´å‘çŽ°ä¸‹è½½é€Ÿåº¦æ…¢ï¼Œåˆ‡è‡ªèº«æ— æ³•è¿žæŽ¥ ssï¼ŒäºŽæ˜¯æ‰¾åˆ°äº†å°† macOS çš„å…¨å±€ç½‘ç»œåœ¨å±€åŸŸç½‘ä¸‹åˆ†äº«ç»™å…¶ä»–è®¾å¤‡çš„æ–¹æ³•ã€‚ å®‰è£… ShadowSockså®‰è£…ShadowSocksç•¥è¿‡ï¼Œæ— è®ºæ˜¯GUIç‰ˆè¿˜æ˜¯å‘½ä»¤è¡Œç‰ˆéƒ½å¯ä»¥ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œã€‚ é…ç½® ShadowSocksåœ°å€ç«¯å£è‡ªè¡Œé…ç½®ï¼Œè¿™é‡Œè¦è®°ä½çš„ä¸¤ä¸ªåœ°æ–¹ï¼š 12"local_address":"0.0.0.0","local_port":1080, local_address è¿™é‡Œå¡«å†™ 0.0.0.0 è¡¨ç¤ºå±€åŸŸç½‘ç‚¹çš„æ‰€æœ‰æœºå­éƒ½å¯ä»¥é€šè¿‡ 1080 è¿™ä¸ªç«¯å£ä»£ç†ï¼Œä¹Ÿå¯ä»¥å°±ç”¨ä¸»æœºåœ°å€ 127.0.0.1 local_port ç«¯å£å·ä¸è¦é‡å¤ï¼Œå¦‚æžœæœ‰ HTTPS ä»£ç†æ—¶å°¤ä¸ºæ³¨æ„ï¼ŒåŒæ—¶è¿™ä¸ªéœ€è¦è®°ä½ï¼Œä¹‹åŽç”¨åˆ° PrivoxyWindows ç³»ç»Ÿå¯ä»¥é€šè¿‡å‡ ä¸ªå‘½ä»¤ï¼Œç”šè‡³æ˜¯å®¢æˆ·ç«¯çš„é€‰é¡¹å°±å¯ä»¥å®Œæˆä»£ç† å¯æƒœçš„æ˜¯ï¼ŒmacOS æ²¡æœ‰æä¾›è¿™æ ·çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å€ŸåŠ©åƒ Privoxy è¿™æ ·çš„å·¥å…·æ¥å®žçŽ°Sock5å…±äº«ã€‚ å®‰è£…è¿™é‡Œåˆ†äº«çš„æ˜¯ä½¿ç”¨ Homebrew å®‰è£… 1brew install privoxy homebrew ä¼šæŠ¥é”™ /usr/local/sbin is not writableï¼Œè¿™æ˜¯å› ä¸º /usr/local/ è¿™ä¸ªç›®å½•ä¸å±žäºŽå½“å‰ç”¨æˆ·ï¼Œæ‰€ä»¥ homebrew æ— æ³•è®¿é—®ã€‚è§£å†³æ–¹æ³•ä¸ºï¼š 12sudo mkdir /usr/local/sbinsudo chown -R `whoami`:admin /usr/local/sbin ä¹‹åŽè¿è¡Œï¼š 1brew link privoxy é…ç½®1vim /usr/local/etc/privoxy/config åœ¨ vim ä¸­æœç´¢ forward-socks5t / ï¼ŒåŽ»æŽ‰æ³¨é‡Šï¼Œå°†ç«¯å£æ”¹ä¸º local_port å· forward-socks5t / 127.0.0.1:1080 æœç´¢ listen-address 127.0.0.1:8118 ï¼ŒåŽ»æŽ‰æ³¨é‡Šï¼ŒæŠŠ 127.0.0.1 æ”¹ä¸º 0.0.0.0ï¼Œç«¯å£å·é»˜è®¤æˆ–é€‰æ‹©ä¸€ä¸ªæœªå ç”¨çš„ç«¯å£ listen-address 0.0.0.0:6666 ä¿®æ”¹è¿™ä¸¤å¤„åŽï¼Œä¿å­˜å¹¶é€€å‡ºå³å¯ è¿è¡Œ1sudo /usr/local/sbin/privoxy /usr/local/etc/privoxy/config &amp; æœ€åŽçš„ &amp; æ˜¯ä¸ºäº†è®© privoxy åœ¨åŽå°è¿è¡Œ å‚è§ï¼š http://ju.outofmemory.cn/entry/251730 http://my.oschina.net/u/994235/blog/296702 èŽ·å–æœ¬æœº IP1ifconfig | grep 'inet' å…¶ä¸­ inet åŽå³ä¸ºæœ¬æœº IP å°† Privoxy æ·»åŠ åˆ°å¼€æœºå¯åŠ¨ä¸­123456# æ·»åŠ å¼€æœºå¯åŠ¨:ln -sfv /usr/local/opt/privoxy/*.plist ~/Library/LaunchAgents # å¯åŠ¨ Privoxy:launchctl load ~/Library/LaunchAgents/homebrew.mxcl.privoxy.plist # å¦‚æžœä¸éœ€è¦ç”¨ launchctl å°±ç›´æŽ¥è¿è¡Œ:privoxy /usr/local/etc/privoxy/config æŸ¥çœ‹çŠ¶æ€æŸ¥çœ‹è¿›ç¨‹123ps aux | grep privoxy# å¦‚æžœè¿”å›žå¦‚ä¸‹åˆ™è¯´æ˜Žå¯åŠ¨æˆåŠŸroot 34090 0.0 0.0 4278700 1196 ?? Ss 5:39PM 0:00.01 /usr/local/sbin/privoxy /usr/local/etc/privoxy/config æŸ¥çœ‹ç«¯å£ç›‘å¬123netstat -an | grep 6666# å¦‚æžœè¿”å›žå¦‚ä¸‹åˆ™è¯´æ˜Žå¯åŠ¨æˆåŠŸtcp4 0 0 *.6666 *.* LISTEN ç»“æŸè¿›ç¨‹å…ˆæŸ¥çœ‹è¿›ç¨‹IDï¼š 123ps aux | grep privoxy# è¿”å›ž id ä¸º 34090root 34090 0.0 0.0 4278700 1196 ?? Ss 5:39PM 0:00.01 /usr/local/sbin/privoxy /usr/local/etc/privoxy/config ç„¶åŽï¼š 1sudo kill 34090 å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥æ ¹æ®privoxyè¿›ç¨‹åæ¥å…³é—­Privoxyï¼š 1sudo killall privoxy ä½¿ç”¨å¿«æ·çŸ­è¯­é€šè¿‡ç»™ä»¥ä¸Šå‘½ä»¤åˆ«åï¼ˆaliasï¼‰æ¥å¿«é€Ÿæ“ä½œå’ŒæŸ¥çœ‹ 1vim ./.bashrc å¦‚æžœä½¿ç”¨çš„æ˜¯ zshï¼Œåˆ™ 1vim ./.zshrc åœ¨åº•éƒ¨æ’å…¥å¦‚ä¸‹å‘½ä»¤ 12345# privoxyalias privoxy="sudo /usr/local/sbin/privoxy /usr/local/etc/privoxy/config;"alias privoxy_status="ps aux | grep privoxy;"alias privoxy_port="netstat -an | grep 6666;"alias privoxy_quit="sudo killall privoxy;" è¿™é‡Œä¸º alias åˆ«å=&quot;å‘½ä»¤;&quot; ï¼Œåˆ«åå¯ä»¥å¡«è‡ªå·±å–œæ¬¢çš„ï¼Œå‘½ä»¤éœ€è¦å’Œä¹‹å‰çš„ä¸€è‡´ ä¹‹åŽé‡å¯ Terminal å°±å¯ä»¥é€šè¿‡åˆ«åæ¥å¿«é€Ÿæ“ä½œäº† åœ¨å…¶ä»–è®¾å¤‡ä½¿ç”¨æ”¯æŒæ‰‹åŠ¨é…ç½®ä»£ç†çš„è®¾å¤‡ï¼Œåœ¨åŒä¸€ä¸ªWiFiä¸‹ï¼Œå³å¯æ‰‹åŠ¨é…ç½®ï¼Œä»¥NSä¸ºä¾‹ï¼š Proxy Setting ä¸‹ï¼ŒServer ä¸ºä¸»æœº IPï¼ŒPort ä¸º listen-address çš„ç«¯å£å·ã€‚åŒç†iPhoneï¼ŒPS4ç­‰è®¾å¤‡ä¹Ÿå°±å¯ä»¥é€šè¿‡è¿™äº›é…ç½®æ¥å®žçŽ°ç§‘å­¦ä¸Šç½‘äº†ã€‚]]></content>
      <categories>
        <category>Tutorial</category>
      </categories>
      <tags>
        <tag>ShadowSocks</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Google Driveä½œä¸ºBlogçš„å›¾åºŠ]]></title>
    <url>%2F2017%2F12%2F10%2F%E4%BD%BF%E7%94%A8Google%20Drive%E4%BD%9C%E4%B8%BABlog%E7%9A%84%E5%9B%BE%E5%BA%8A%2F</url>
    <content type="text"><![CDATA[æœ‰æ—¶å€™ä¼šç¢°åˆ°éœ€è¦åœ¨blogæˆ–è€…GitHubå†™ä¸€äº›ä¸œè¥¿çš„æ—¶å€™éœ€è¦ç”¨åˆ°å›¾ç‰‡ï¼Œå¾®åšå›¾åºŠæ€»æ˜¯å¤±æ•ˆï¼ŒäºŽæ˜¯æƒ³åˆ°å¯ä»¥ä½¿ç”¨Google Driveä½œä¸ºå›¾åºŠä½¿ç”¨ã€‚ ç™»é™†Google Driveä¸Šä¼ å›¾ç‰‡ä¹‹åŽç‚¹å‡»èŽ·å–é“¾æŽ¥ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªå¦‚ä¸‹çš„URLåœ°å€ 1https://drive.google.com/open?id=YOUR_FILE_ID&amp;authuser=0 ä½†æ˜¯è¿™ä¸ªåœ°å€æ˜¯æ— æ³•ç›´æŽ¥ä½œä¸ºimageçš„srcå€¼çš„ï¼Œæˆ‘ä»¬éœ€è¦ç¨å¾®åšä¸€ç‚¹ä¿®æ”¹(ä½ å¿…é¡»è®¾ç½®ä¸€ä¸‹googleçš„å…±äº«å±žæ€§çŸ¥é“æ­¤é“¾æŽ¥çš„ä»»ä½•äººéƒ½å¯ä»¥æŸ¥çœ‹) 1https://drive.google.com/uc?export=view&amp;id=YOUR_FILE_ID å¦‚æžœéœ€è¦è®©è¿™ä¸ªæ–‡ä»¶ç›´æŽ¥æ”¯æŒä¸‹è½½çš„è¯ï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹åœ°å€ 1https://drive.google.com/uc?export=download&amp;id=YOUR_FILE_ID]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>MarkDown</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swift UILabel å±žæ€§]]></title>
    <url>%2F2017%2F12%2F10%2FSwift-UILabel-%E5%B1%9E%E6%80%A7%2F</url>
    <content type="text"><![CDATA[Swift ä¸­çš„ UILabel å±žæ€§ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193import UIKitclass ViewController: UIViewController &#123; override func viewDidLoad() &#123; super.viewDidLoad() //è®¾ç½®æ ‡ç­¾xåæ ‡ï¼š10ï¼Œyåæ ‡ï¼š20ï¼Œé•¿ï¼š300ï¼Œå®½ï¼š100 let label = UILabel(frame:CGRectMake(10,20, 300, 100)) // æ˜¾ç¤ºæ–‡æœ¬ã€éœ€è¦æ˜¾ç¤ºä»€ä¹ˆå°±è®¾ç½®è¿™ä¸ª text çš„å±žæ€§å³å¯ã€‘ label.text=" Welcome to study Swift ï¼" // labelçš„å­—ä½“é¢œè‰² label.textColor=UIColor.redColor() //çº¢è‰²æ–‡å­— // labelçš„èƒŒæ™¯é¢œè‰² label.backgroundColor=UIColor.blackColor() //é»‘è‰²èƒŒæ™¯ // labelçš„æ–‡å­—å¯¹é½æ–¹å¼ /** case Leftï¼ˆå·¦å¯¹é½ï¼‰ case Centerï¼ˆå±…ä¸­ï¼‰ case Rightï¼ˆå³å¯¹é½ï¼‰ */ label.textAlignment=NSTextAlignment.Right //æ–‡å­—å³å¯¹é½ // labelé˜´å½±é¢œè‰²ã€è¦è®¾ç½®åç§»ä½ç½®ã€‘(å­—ä½“çš„é˜´å½±é¢œè‰²) label.shadowColor=UIColor.grayColor() //ç°è‰²é˜´å½± // labelé˜´å½±åç§»ä½ç½® label.shadowOffset=CGSizeMake(-5,5) //é˜´å½±çš„åç§»é‡ // å¤šè¡Œæ˜¾ç¤ºï¼Œé»˜è®¤æ˜¯ä¸€è¡Œçš„,0è¡¨ç¤ºçš„å¤šè¡Œæ˜¾ç¤ºï¼ˆä¸Žé«˜åº¦æœ‰å…³ï¼‰Labelè‡ªé€‚åº”è‡ªåŠ¨æ¢è¡Œ label.numberOfLines=0 //æ˜¾ç¤ºä¸¤è¡Œæ–‡å­—ï¼ˆé»˜è®¤åªæ˜¾ç¤ºä¸€è¡Œï¼Œè®¾ä¸º0è¡¨ç¤ºæ²¡æœ‰è¡Œæ•°é™åˆ¶ï¼‰ // è‡ªé€‚åº”ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰ /** 1ã€æ²¡æœ‰è®¾ç½®å¤šè¡Œæ˜¾ç¤ºï¼šå®½åº¦è‡ªé€‚åº” 2ã€è®¾ç½®æœ‰å¤šè¡Œæ˜¾ç¤ºï¼šé«˜åº¦ä½¿ç”¨ */ // æ–‡æœ¬æœ‰å¤šå¤§,çª—å£æœ‰å¤šå¤§ // ç»†èŠ‚: ä¸ç®¡é«˜åº¦å®½åº¦æ˜¯å¦è¶³å¤Ÿï¼Œéƒ½æ˜¾ç¤ºç›¸åº”çš„é«˜åº¦ // ç»†èŠ‚: numberOfLinesä¸º1,é‚£ä¹ˆå°±æ˜¯å•è¡Œæ˜¾ç¤º label.adjustsFontSizeToFitWidth=true //å½“æ–‡å­—è¶…å‡ºæ ‡ç­¾å®½åº¦æ—¶ï¼Œè‡ªåŠ¨è°ƒæ•´æ–‡å­—å¤§å°ï¼Œä½¿å…¶ä¸è¢«æˆªæ–­ // è®¾ç½®labelæ–‡æœ¬é«˜äº® label.highlighted = true // è®¾ç½®labelæ–‡æœ¬é«˜äº®é¢œè‰² label.highlightedTextColor = UIColor.greenColor() // labelåœ†è§’å±žæ€§ label.layer.masksToBounds = true; // labelåœ†è§’åŠå¾„ label.layer.cornerRadius = 10; // labelåœ†è§’è¾¹æ¡†é¢œè‰² label.layer.borderColor = UIColor.blueColor().CGColor; // labelåœ†è§’è¾¹æ¡†å®½åº¦ label.layer.borderWidth = 1; // labelçš„å­—ä½“å¤§å° /** systemFontOfSize(20) -&gt; UIFont (æ–‡å­—å¤§å°) boldSystemFontOfSize(20) -&gt; UIFont (åŠ ç²—ç±»åž‹) italicSystemFontOfSize(20) -&gt; UIFont (æ–œä½“ç±»åž‹) */ label.font = UIFont.systemFontOfSize(50) // è®¾ç½®å­—ä½“æ—¶ï¼ŒåŒæ—¶è®¾ç½®å¤§å° label.font = UIFont(name:"æ‚¨å¥½ï¼", size:50) // labelçš„ç‰¹æ®Šå±žæ€§ /** case ByWordWrapping // Wrap at word boundaries, default case ByCharWrapping // Wrap at character boundaries case ByClipping // Simply clip case ByTruncatingHead // Truncate at head of line: "...wxyz" case ByTruncatingTail // Truncate at tail of line: "abcd..." case ByTruncatingMiddle // Truncate middle of line: "ab...yz" */label.lineBreakMode=NSLineBreakMode.ByTruncatingTail //éšè—å°¾éƒ¨å¹¶æ˜¾ç¤ºçœç•¥å· label.lineBreakMode=NSLineBreakMode.ByTruncatingMiddle //éšè—ä¸­é—´éƒ¨åˆ†å¹¶æ˜¾ç¤ºçœç•¥å· label.lineBreakMode=NSLineBreakMode.ByTruncatingHead //éšè—å¤´éƒ¨å¹¶æ˜¾ç¤ºçœç•¥å· label.lineBreakMode=NSLineBreakMode.ByClipping //æˆªåŽ»å¤šä½™éƒ¨åˆ†ä¹Ÿä¸æ˜¾ç¤ºçœç•¥å· // å°†è§†å›¾æ·»åŠ åˆ°(self.view--&gt;çˆ¶è§†å›¾)ç•Œé¢ä¸­; self.view.addSubview(label); // å¯Œæ–‡æœ¬è®¾ç½® let attributeString = NSMutableAttributedString(string:"Welcome to study Swift ï¼") // ä»Žæ–‡æœ¬0å¼€å§‹6ä¸ªå­—ç¬¦å­—ä½“HelveticaNeue-Bold,16å·å­—ä½“å¤§å° attributeString.addAttribute(NSFontAttributeName, value: UIFont(name: "HelveticaNeue-Bold", size: 16)!,range: NSMakeRange(0,6)) // è®¾ç½®å­—ä½“é¢œè‰² attributeString.addAttribute(NSForegroundColorAttributeName, value: UIColor.blueColor(),range: NSMakeRange(0, 3)) // è®¾ç½®æ–‡å­—èƒŒæ™¯é¢œè‰² attributeString.addAttribute(NSBackgroundColorAttributeName, value: UIColor.greenColor(),range: NSMakeRange(3,3)) label.attributedText = attributeString &#125; override func didReceiveMemoryWarning() &#123; super.didReceiveMemoryWarning() // Dispose of any resources that can be recreated. &#125;&#125;]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…¨å±€.gitignore]]></title>
    <url>%2F2017%2F11%2F23%2Fgitignore%20global%2F</url>
    <content type="text"><![CDATA[ä»¥.DS_Storeæ–‡ä»¶ä¸ºä¾‹ï¼š åˆ›å»º ~/.gitignore_global æ–‡ä»¶ï¼Œå°†éœ€è¦å¿½ç•¥çš„æ–‡ä»¶ç±»åž‹å†™å…¥æ–‡ä»¶1touch .gitignore_global åœ¨.gitconfig ä¸­å¼•ç”¨æ‰“å¼€~/.gitconfigï¼Œè¾“å…¥ï¼š 12[core] excludesfile = /Users/reon/.gitignore_global æˆ–æ˜¯é€šè¿‡ï¼š 1git config --global core.excludesfile/Users/reon/.gitignore_global å‘½ä»¤æ¥å®žçŽ°ã€‚]]></content>
      <categories>
        <category>Tutorial</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C# ä¸­çš„å§”æ‰˜å’Œäº‹ä»¶]]></title>
    <url>%2F2017%2F11%2F07%2FDelegates%20and%20events%20in%20Csharp%2F</url>
    <content type="text"><![CDATA[å¼•è¨€delegate å’Œ eventåœ¨ .Net Frameworkä¸­çš„åº”ç”¨éžå¸¸å¹¿æ³›ï¼Œç„¶è€Œï¼Œè¾ƒå¥½åœ°ç†è§£å§”æ‰˜å’Œäº‹ä»¶å¯¹å¾ˆå¤šæŽ¥è§¦C#æ—¶é—´ä¸é•¿çš„äººæ¥è¯´å¹¶ä¸å®¹æ˜“ã€‚æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†é€šè¿‡ä¸¤ä¸ªèŒƒä¾‹ç”±æµ…å…¥æ·±åœ°è®²è¿°ä»€ä¹ˆæ˜¯å§”æ‰˜ã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å§”æ‰˜ã€äº‹ä»¶çš„ç”±æ¥ã€.Net Frameworkä¸­çš„å§”æ‰˜å’Œäº‹ä»¶ã€å§”æ‰˜å’Œäº‹ä»¶å¯¹Observerè®¾è®¡æ¨¡å¼çš„æ„ä¹‰ï¼Œå¯¹å®ƒä»¬çš„ä¸­é—´ä»£ç ä¹Ÿåšäº†è®¨è®ºã€‚ å°†æ–¹æ³•ä½œä¸ºæ–¹æ³•çš„å‚æ•°æˆ‘ä»¬å…ˆä¸ç®¡è¿™ä¸ªæ ‡é¢˜å¦‚ä½•çš„ç»•å£ï¼Œä¹Ÿä¸ç®¡å§”æ‰˜ç©¶ç«Ÿæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œæ¥çœ‹ä¸‹é¢è¿™ä¸¤ä¸ªæœ€ç®€å•çš„æ–¹æ³•ï¼Œå®ƒä»¬ä¸è¿‡æ˜¯åœ¨å±å¹•ä¸Šè¾“å‡ºä¸€å¥é—®å€™çš„è¯è¯­ï¼š 1234567public void GreetPeople(string name) &#123; // åšæŸäº›é¢å¤–çš„äº‹æƒ…ï¼Œæ¯”å¦‚åˆå§‹åŒ–ä¹‹ç±»ï¼Œæ­¤å¤„ç•¥ EnglishGreeting(name);&#125;public void EnglishGreeting(string name) &#123; Console.WriteLine(&quot;Morning, &quot; + name);&#125; æš‚ä¸”ä¸ç®¡è¿™ä¸¤ä¸ªæ–¹æ³•æœ‰æ²¡æœ‰ä»€ä¹ˆå®žé™…æ„ä¹‰ã€‚GreetPeopleç”¨äºŽå‘æŸäººé—®å¥½ï¼Œå½“æˆ‘ä»¬ä¼ é€’ä»£è¡¨æŸäººå§“åçš„nameå‚æ•°ï¼Œæ¯”å¦‚è¯´â€œJimmyâ€ï¼Œè¿›åŽ»çš„æ—¶å€™ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œå°†è°ƒç”¨EnglishGreetingæ–¹æ³•ï¼Œå†æ¬¡ä¼ é€’nameå‚æ•°ï¼ŒEnglishGreetingåˆ™ç”¨äºŽå‘å±å¹•è¾“å‡º â€œMorning, Jimmyâ€ã€‚ çŽ°åœ¨å‡è®¾è¿™ä¸ªç¨‹åºéœ€è¦è¿›è¡Œå…¨çƒåŒ–ï¼Œå“Žå‘€ï¼Œä¸å¥½äº†ï¼Œæˆ‘æ˜¯ä¸­å›½äººï¼Œæˆ‘ä¸æ˜Žç™½â€œMorningâ€æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæ€Žä¹ˆåŠžå‘¢ï¼Ÿå¥½å§ï¼Œæˆ‘ä»¬å†åŠ ä¸ªä¸­æ–‡ç‰ˆçš„é—®å€™æ–¹æ³•ï¼š 123public void ChineseGreeting(string name)&#123; Console.WriteLine(&quot;æ—©ä¸Šå¥½, &quot; + name);&#125; è¿™æ—¶å€™ï¼ŒGreetPeopleä¹Ÿéœ€è¦æ”¹ä¸€æ”¹äº†ï¼Œä¸ç„¶å¦‚ä½•åˆ¤æ–­åˆ°åº•ç”¨å“ªä¸ªç‰ˆæœ¬çš„Greetingé—®å€™æ–¹æ³•åˆé€‚å‘¢ï¼Ÿåœ¨è¿›è¡Œè¿™ä¸ªä¹‹å‰ï¼Œæˆ‘ä»¬æœ€å¥½å†å®šä¹‰ä¸€ä¸ªæžšä¸¾ä½œä¸ºåˆ¤æ–­çš„ä¾æ®ï¼š 1234567891011121314public enum Language&#123; English, Chinese&#125;public void GreetPeople(string name, Language lang)&#123; //åšæŸäº›é¢å¤–çš„äº‹æƒ…ï¼Œæ¯”å¦‚åˆå§‹åŒ–ä¹‹ç±»ï¼Œæ­¤å¤„ç•¥ swith(lang)&#123; case Language.English: EnglishGreeting(name); break; case Language.Chinese: ChineseGreeting(name); break; &#125;&#125; OKï¼Œå°½ç®¡è¿™æ ·è§£å†³äº†é—®é¢˜ï¼Œä½†æˆ‘ä¸è¯´å¤§å®¶ä¹Ÿå¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œè¿™ä¸ªè§£å†³æ–¹æ¡ˆçš„å¯æ‰©å±•æ€§å¾ˆå·®ï¼Œå¦‚æžœæ—¥åŽæˆ‘ä»¬éœ€è¦å†æ·»åŠ éŸ©æ–‡ç‰ˆã€æ—¥æ–‡ç‰ˆï¼Œå°±ä¸å¾—ä¸åå¤ä¿®æ”¹æžšä¸¾å’ŒGreetPeople()æ–¹æ³•ï¼Œä»¥é€‚åº”æ–°çš„éœ€æ±‚ã€‚ åœ¨è€ƒè™‘æ–°çš„è§£å†³æ–¹æ¡ˆä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹ GreetPeopleçš„æ–¹æ³•ç­¾åï¼š 1public void GreetPeople(string name, Language lang) æˆ‘ä»¬ä»…çœ‹ string nameï¼Œåœ¨è¿™é‡Œï¼Œstring æ˜¯å‚æ•°ç±»åž‹ï¼Œname æ˜¯å‚æ•°å˜é‡ï¼Œå½“æˆ‘ä»¬èµ‹ç»™nameå­—ç¬¦ä¸²â€œjimmyâ€æ—¶ï¼Œå®ƒå°±ä»£è¡¨â€œjimmyâ€è¿™ä¸ªå€¼ï¼›å½“æˆ‘ä»¬èµ‹ç»™å®ƒâ€œå¼ å­é˜³â€æ—¶ï¼Œå®ƒåˆä»£è¡¨ç€â€œå¼ å­é˜³â€è¿™ä¸ªå€¼ã€‚ç„¶åŽï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ–¹æ³•ä½“å†…å¯¹è¿™ä¸ªnameè¿›è¡Œå…¶ä»–æ“ä½œã€‚å“Žï¼Œè¿™ç®€ç›´æ˜¯åºŸè¯ä¹ˆï¼Œåˆšå­¦ç¨‹åºå°±çŸ¥é“äº†ã€‚ å¦‚æžœä½ å†ä»”ç»†æƒ³æƒ³ï¼Œå‡å¦‚GreetPeople()æ–¹æ³•å¯ä»¥æŽ¥å—ä¸€ä¸ªå‚æ•°å˜é‡ï¼Œè¿™ä¸ªå˜é‡å¯ä»¥ä»£è¡¨å¦ä¸€ä¸ªæ–¹æ³•ï¼Œå½“æˆ‘ä»¬ç»™è¿™ä¸ªå˜é‡èµ‹å€¼ EnglishGreetingçš„æ—¶å€™ï¼Œå®ƒä»£è¡¨ç€ EnglsihGreeting() è¿™ä¸ªæ–¹æ³•ï¼›å½“æˆ‘ä»¬ç»™å®ƒèµ‹å€¼ChineseGreeting çš„æ—¶å€™ï¼Œå®ƒåˆä»£è¡¨ç€ ChineseGreeting()æ–¹æ³•ã€‚æˆ‘ä»¬å°†è¿™ä¸ªå‚æ•°å˜é‡å‘½åä¸º MakeGreetingï¼Œé‚£ä¹ˆä¸æ˜¯å¯ä»¥å¦‚åŒç»™nameèµ‹å€¼æ—¶ä¸€æ ·ï¼Œåœ¨è°ƒç”¨ GreetPeople()æ–¹æ³•çš„æ—¶å€™ï¼Œç»™è¿™ä¸ªMakeGreeting å‚æ•°ä¹Ÿèµ‹ä¸Šå€¼ä¹ˆ(ChineseGreetingæˆ–è€…EnglsihGreetingç­‰)ï¼Ÿç„¶åŽï¼Œæˆ‘ä»¬åœ¨æ–¹æ³•ä½“å†…ï¼Œä¹Ÿå¯ä»¥åƒä½¿ç”¨åˆ«çš„å‚æ•°ä¸€æ ·ä½¿ç”¨MakeGreetingã€‚ä½†æ˜¯ï¼Œç”±äºŽMakeGreetingä»£è¡¨ç€ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒçš„ä½¿ç”¨æ–¹å¼åº”è¯¥å’Œå®ƒè¢«èµ‹çš„æ–¹æ³•(æ¯”å¦‚ChineseGreeting)æ˜¯ä¸€æ ·çš„ï¼Œæ¯”å¦‚ï¼š MakeGreeting(name); å¥½äº†ï¼Œæœ‰äº†æ€è·¯äº†ï¼Œæˆ‘ä»¬çŽ°åœ¨å°±æ¥æ”¹æ”¹GreetPeople()æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥æ˜¯è¿™ä¸ªæ ·å­äº†ï¼š 123public void GreetPeople(string name, *** MakeGreeting)&#123; MakeGreeting(name);&#125; æ³¨æ„åˆ° *** ï¼Œè¿™ä¸ªä½ç½®é€šå¸¸æ”¾ç½®çš„åº”è¯¥æ˜¯å‚æ•°çš„ç±»åž‹ï¼Œä½†åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä»…ä»…æ˜¯æƒ³åˆ°åº”è¯¥æœ‰ä¸ªå¯ä»¥ä»£è¡¨æ–¹æ³•çš„å‚æ•°ï¼Œå¹¶æŒ‰è¿™ä¸ªæ€è·¯åŽ»æ”¹å†™GreetPeopleæ–¹æ³•ï¼ŒçŽ°åœ¨å°±å‡ºçŽ°äº†ä¸€ä¸ªå¤§é—®é¢˜ï¼š***è¿™ä¸ªä»£è¡¨ç€æ–¹æ³•çš„MakeGreetingå‚æ•°åº”è¯¥æ˜¯ä»€ä¹ˆç±»åž‹çš„ï¼Ÿ NOTEï¼šè¿™é‡Œå·²ä¸å†éœ€è¦æžšä¸¾äº†ï¼Œå› ä¸ºåœ¨ç»™MakeGreetingèµ‹å€¼çš„æ—¶å€™åŠ¨æ€åœ°å†³å®šä½¿ç”¨å“ªä¸ªæ–¹æ³•ï¼Œæ˜¯ChineseGreetingè¿˜æ˜¯ EnglishGreetingï¼Œè€Œåœ¨è¿™ä¸ªä¸¤ä¸ªæ–¹æ³•å†…éƒ¨ï¼Œå·²ç»å¯¹ä½¿ç”¨â€œmorningâ€è¿˜æ˜¯â€œæ—©ä¸Šå¥½â€ä½œäº†åŒºåˆ†ã€‚ èªæ˜Žçš„ä½ åº”è¯¥å·²ç»æƒ³åˆ°äº†ï¼ŒçŽ°åœ¨æ˜¯å§”æ‰˜è¯¥å‡ºåœºçš„æ—¶å€™äº†ï¼Œä½†è®²è¿°å§”æ‰˜ä¹‹å‰ï¼Œæˆ‘ä»¬å†çœ‹çœ‹MakeGreetingå‚æ•°æ‰€èƒ½ä»£è¡¨çš„ ChineseGreeting()å’ŒEnglishGreeting()æ–¹æ³•çš„ç­¾åï¼š 12public void EnglishGreeting(string name)public void ChineseGreeting(string name) å¦‚åŒnameå¯ä»¥æŽ¥å—Stringç±»åž‹çš„â€œtrueâ€å’Œâ€œ1â€ï¼Œä½†ä¸èƒ½æŽ¥å—boolç±»åž‹çš„trueå’Œintç±»åž‹çš„1ä¸€æ ·ã€‚MakeGreetingçš„ å‚æ•°ç±»åž‹å®šä¹‰ åº”è¯¥èƒ½å¤Ÿç¡®å®š MakeGreetingå¯ä»¥ä»£è¡¨çš„æ–¹æ³•ç§ç±»ï¼Œå†è¿›ä¸€æ­¥è®²ï¼Œå°±æ˜¯MakeGreetingå¯ä»¥ä»£è¡¨çš„æ–¹æ³•çš„å‚æ•°ç±»åž‹å’Œè¿”å›žç±»åž‹ã€‚ äºŽæ˜¯ï¼Œå§”æ‰˜å‡ºçŽ°äº†ï¼šå®ƒå®šä¹‰äº†MakeGreetingå‚æ•°æ‰€èƒ½ä»£è¡¨çš„æ–¹æ³•çš„ç§ç±»ï¼Œä¹Ÿå°±æ˜¯MakeGreetingå‚æ•°çš„ç±»åž‹ã€‚ NOTEï¼šå¦‚æžœä¸Šé¢è¿™å¥è¯æ¯”è¾ƒç»•å£ï¼Œæˆ‘æŠŠå®ƒç¿»è¯‘æˆè¿™æ ·ï¼šstring å®šä¹‰äº†nameå‚æ•°æ‰€èƒ½ä»£è¡¨çš„å€¼çš„ç§ç±»ï¼Œä¹Ÿå°±æ˜¯nameå‚æ•°çš„ç±»åž‹ã€‚ æœ¬ä¾‹ä¸­å§”æ‰˜çš„å®šä¹‰ï¼š 1public delegate void GreetingDelegate(string name); å¯ä»¥ä¸Žä¸Šé¢EnglishGreeting()æ–¹æ³•çš„ç­¾åå¯¹æ¯”ä¸€ä¸‹ï¼Œé™¤äº†åŠ å…¥äº†delegateå…³é”®å­—ä»¥å¤–ï¼Œå…¶ä½™çš„æ˜¯ä¸æ˜¯å®Œå…¨ä¸€æ ·ï¼Ÿ çŽ°åœ¨ï¼Œè®©æˆ‘ä»¬å†æ¬¡æ”¹åŠ¨GreetPeople()æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123public void GreetPeople(string name, GreetingDelegate MakeGreeting)&#123; MakeGreeting(name);&#125; å¦‚ä½ æ‰€è§ï¼Œå§”æ‰˜GreetingDelegateå‡ºçŽ°çš„ä½ç½®ä¸Ž stringç›¸åŒï¼Œstringæ˜¯ä¸€ä¸ªç±»åž‹ï¼Œé‚£ä¹ˆGreetingDelegateåº”è¯¥ä¹Ÿæ˜¯ä¸€ä¸ªç±»åž‹ï¼Œæˆ–è€…å«ç±»(Class)ã€‚ä½†æ˜¯å§”æ‰˜çš„å£°æ˜Žæ–¹å¼å’Œç±»å´å®Œå…¨ä¸åŒï¼Œè¿™æ˜¯æ€Žä¹ˆä¸€å›žäº‹ï¼Ÿå®žé™…ä¸Šï¼Œå§”æ‰˜åœ¨ç¼–è¯‘çš„æ—¶å€™ç¡®å®žä¼šç¼–è¯‘æˆç±»ã€‚å› ä¸ºDelegateæ˜¯ä¸€ä¸ªç±»ï¼Œæ‰€ä»¥åœ¨ä»»ä½•å¯ä»¥å£°æ˜Žç±»çš„åœ°æ–¹éƒ½å¯ä»¥å£°æ˜Žå§”æ‰˜ã€‚æ›´å¤šçš„å†…å®¹å°†åœ¨ä¸‹é¢è®²è¿°ï¼ŒçŽ°åœ¨ï¼Œè¯·çœ‹çœ‹è¿™ä¸ªèŒƒä¾‹çš„å®Œæ•´ä»£ç ï¼š 123456789101112131415161718192021222324using System;using System.Collections.Generic;using System.Text;namespace Delegate &#123; //å®šä¹‰å§”æ‰˜ï¼Œå®ƒå®šä¹‰äº†å¯ä»¥ä»£è¡¨çš„æ–¹æ³•çš„ç±»åž‹ public delegate void GreetingDelegate(string name); class Program &#123; private static void EnglishGreeting(string name) &#123; Console.WriteLine(&quot;Morning, &quot; + name); &#125; private static void ChineseGreeting(string name) &#123; Console.WriteLine(&quot;æ—©ä¸Šå¥½, &quot; + name); &#125; //æ³¨æ„æ­¤æ–¹æ³•ï¼Œå®ƒæŽ¥å—ä¸€ä¸ªGreetingDelegateç±»åž‹çš„æ–¹æ³•ä½œä¸ºå‚æ•° private static void GreetPeople(string name, GreetingDelegate MakeGreeting) &#123; MakeGreeting(name); &#125; static void Main(string[] args) &#123; GreetPeople(&quot;Jimmy Zhang&quot;, EnglishGreeting); GreetPeople(&quot;å¼ å­é˜³&quot;, ChineseGreeting); Console.ReadKey(); &#125; &#125;&#125; è¾“å‡ºå¦‚ä¸‹ï¼š 12Morning, Jimmy Zhangæ—©ä¸Šå¥½, å¼ å­é˜³ æˆ‘ä»¬çŽ°åœ¨å¯¹å§”æ‰˜åšä¸€ä¸ªæ€»ç»“ï¼š å§”æ‰˜æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒå®šä¹‰äº†æ–¹æ³•çš„ç±»åž‹ï¼Œä½¿å¾—å¯ä»¥å°†æ–¹æ³•å½“ä½œå¦ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°æ¥è¿›è¡Œä¼ é€’ï¼Œè¿™ç§å°†æ–¹æ³•åŠ¨æ€åœ°èµ‹ç»™å‚æ•°çš„åšæ³•ï¼Œå¯ä»¥é¿å…åœ¨ç¨‹åºä¸­å¤§é‡ä½¿ç”¨If-Else(Switch)è¯­å¥ï¼ŒåŒæ—¶ä½¿å¾—ç¨‹åºå…·æœ‰æ›´å¥½çš„å¯æ‰©å±•æ€§ã€‚ å°†æ–¹æ³•ç»‘å®šåˆ°å§”æ‰˜çœ‹åˆ°è¿™é‡Œï¼Œæ˜¯ä¸æ˜¯æœ‰é‚£ä¹ˆç‚¹å¦‚æ¢¦åˆé†’çš„æ„Ÿè§‰ï¼ŸäºŽæ˜¯ï¼Œä½ æ˜¯ä¸æ˜¯åœ¨æƒ³ï¼šåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä¸ä¸€å®šè¦ç›´æŽ¥åœ¨GreetPeople()æ–¹æ³•ä¸­ç»™ nameå‚æ•°èµ‹å€¼ï¼Œæˆ‘å¯ä»¥åƒè¿™æ ·ä½¿ç”¨å˜é‡ï¼š 12345678static void Main(string[] args) &#123; string name1, name2; name1 = &quot;Jimmy Zhang&quot;; name2 = &quot;å¼ å­é˜³&quot;; GreetPeople(name1, EnglishGreeting); GreetPeople(name2, ChineseGreeting); Console.ReadKey();&#125; è€Œæ—¢ç„¶å§”æ‰˜GreetingDelegate å’Œ ç±»åž‹ string çš„åœ°ä½ä¸€æ ·ï¼Œéƒ½æ˜¯å®šä¹‰äº†ä¸€ç§å‚æ•°ç±»åž‹ï¼Œé‚£ä¹ˆï¼Œæˆ‘æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥è¿™ä¹ˆä½¿ç”¨å§”æ‰˜ï¼Ÿ 12345678static void Main(string[] args) &#123; GreetingDelegate delegate1, delegate2; delegate1 = EnglishGreeting; delegate2 = ChineseGreeting; GreetPeople(&quot;Jimmy Zhang&quot;, delegate1); GreetPeople(&quot;å¼ å­é˜³&quot;, delegate2); Console.ReadKey();&#125; å¦‚ä½ æ‰€æ–™ï¼Œè¿™æ ·æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œç¨‹åºä¸€å¦‚é¢„æ–™çš„é‚£æ ·è¾“å‡ºã€‚è¿™é‡Œï¼Œæˆ‘æƒ³è¯´çš„æ˜¯å§”æ‰˜ä¸åŒäºŽstringçš„ä¸€ä¸ªç‰¹æ€§ï¼šå¯ä»¥å°†å¤šä¸ªæ–¹æ³•èµ‹ç»™åŒä¸€ä¸ªå§”æ‰˜ï¼Œæˆ–è€…å«å°†å¤šä¸ªæ–¹æ³•ç»‘å®šåˆ°åŒä¸€ä¸ªå§”æ‰˜ï¼Œå½“è°ƒç”¨è¿™ä¸ªå§”æ‰˜çš„æ—¶å€™ï¼Œå°†ä¾æ¬¡è°ƒç”¨å…¶æ‰€ç»‘å®šçš„æ–¹æ³•ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š 12345678static void Main(string[] args) &#123; GreetingDelegate delegate1; delegate1 = EnglishGreeting; // å…ˆç»™å§”æ‰˜ç±»åž‹çš„å˜é‡èµ‹å€¼ delegate1 += ChineseGreeting; // ç»™æ­¤å§”æ‰˜å˜é‡å†ç»‘å®šä¸€ä¸ªæ–¹æ³• // å°†å…ˆåŽè°ƒç”¨ EnglishGreeting ä¸Ž ChineseGreeting æ–¹æ³• GreetPeople(&quot;Jimmy Zhang&quot;, delegate1); Console.ReadKey();&#125; è¾“å‡ºä¸ºï¼š 12Morning, Jimmy Zhangæ—©ä¸Šå¥½, Jimmy Zhang å®žé™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ä¹Ÿå¯ä»¥ç»•è¿‡GreetPeopleæ–¹æ³•ï¼Œé€šè¿‡å§”æ‰˜æ¥ç›´æŽ¥è°ƒç”¨EnglishGreetingå’ŒChineseGreetingï¼š 12345678static void Main(string[] args) &#123; GreetingDelegate delegate1; delegate1 = EnglishGreeting; // å…ˆç»™å§”æ‰˜ç±»åž‹çš„å˜é‡èµ‹å€¼ delegate1 += ChineseGreeting; // ç»™æ­¤å§”æ‰˜å˜é‡å†ç»‘å®šä¸€ä¸ªæ–¹æ³• // å°†å…ˆåŽè°ƒç”¨ EnglishGreeting ä¸Ž ChineseGreeting æ–¹æ³• delegate1 (&quot;Jimmy Zhang&quot;); Console.ReadKey();&#125; NOTEï¼šè¿™åœ¨æœ¬ä¾‹ä¸­æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†å›žå¤´çœ‹ä¸‹ä¸Šé¢GreetPeople()çš„å®šä¹‰ï¼Œåœ¨å®ƒä¹‹ä¸­å¯ä»¥åšä¸€äº›å¯¹äºŽEnglshihGreetingå’ŒChineseGreetingæ¥è¯´éƒ½éœ€è¦è¿›è¡Œçš„å·¥ä½œï¼Œä¸ºäº†ç®€ä¾¿æˆ‘åšäº†çœç•¥ã€‚ æ³¨æ„è¿™é‡Œï¼Œç¬¬ä¸€æ¬¡ç”¨çš„â€œ=â€ï¼Œæ˜¯èµ‹å€¼çš„è¯­æ³•ï¼›ç¬¬äºŒæ¬¡ï¼Œç”¨çš„æ˜¯â€œ+=â€ï¼Œæ˜¯ç»‘å®šçš„è¯­æ³•ã€‚å¦‚æžœç¬¬ä¸€æ¬¡å°±ä½¿ç”¨â€œ+=â€ï¼Œå°†å‡ºçŽ°â€œä½¿ç”¨äº†æœªèµ‹å€¼çš„å±€éƒ¨å˜é‡â€çš„ç¼–è¯‘é”™è¯¯ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç æ¥è¿™æ ·ç®€åŒ–è¿™ä¸€è¿‡ç¨‹ï¼š 12GreetingDelegate delegate1 = new GreetingDelegate(EnglishGreeting);delegate1 += ChineseGreeting; // ç»™æ­¤å§”æ‰˜å˜é‡å†ç»‘å®šä¸€ä¸ªæ–¹æ³• çœ‹åˆ°è¿™é‡Œï¼Œåº”è¯¥æ³¨æ„åˆ°ï¼Œè¿™æ®µä»£ç ç¬¬ä¸€æ¡è¯­å¥ä¸Žå®žä¾‹åŒ–ä¸€ä¸ªç±»æ˜¯ä½•å…¶çš„ç›¸ä¼¼ï¼Œä½ ä¸ç¦æƒ³åˆ°ï¼šä¸Šé¢ç¬¬ä¸€æ¬¡ç»‘å®šå§”æ‰˜æ—¶ä¸å¯ä»¥ä½¿ç”¨â€œ+=â€çš„ç¼–è¯‘é”™è¯¯ï¼Œæˆ–è®¸å¯ä»¥ç”¨è¿™æ ·çš„æ–¹æ³•æ¥é¿å…ï¼š 123GreetingDelegate delegate1 = new GreetingDelegate();delegate1 += EnglishGreeting; // è¿™æ¬¡ç”¨çš„æ˜¯ â€œ+=â€ï¼Œç»‘å®šè¯­æ³•ã€‚delegate1 += ChineseGreeting; // ç»™æ­¤å§”æ‰˜å˜é‡å†ç»‘å®šä¸€ä¸ªæ–¹æ³• ä½†å®žé™…ä¸Šï¼Œè¿™æ ·ä¼šå‡ºçŽ°ç¼–è¯‘é”™è¯¯ï¼š â€œGreetingDelegateâ€æ–¹æ³•æ²¡æœ‰é‡‡ç”¨â€œ0â€ä¸ªå‚æ•°çš„é‡è½½ã€‚å°½ç®¡è¿™æ ·çš„ç»“æžœè®©æˆ‘ä»¬è§‰å¾—æœ‰ç‚¹æ²®ä¸§ï¼Œä½†æ˜¯ç¼–è¯‘çš„æç¤ºï¼šâ€œæ²¡æœ‰0ä¸ªå‚æ•°çš„é‡è½½â€å†æ¬¡è®©æˆ‘ä»¬è”æƒ³åˆ°äº†ç±»çš„æž„é€ å‡½æ•°ã€‚æˆ‘çŸ¥é“ä½ ä¸€å®šæŒ‰æºä¸ä½æƒ³æŽ¢ä¸ªç©¶ç«Ÿï¼Œä½†å†æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæŠŠåŸºç¡€çŸ¥è¯†å’Œåº”ç”¨ä»‹ç»å®Œã€‚ æ—¢ç„¶ç»™å§”æ‰˜å¯ä»¥ç»‘å®šä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆä¹Ÿåº”è¯¥æœ‰åŠžæ³•å–æ¶ˆå¯¹æ–¹æ³•çš„ç»‘å®šï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œè¿™ä¸ªè¯­æ³•æ˜¯â€œ-=â€ï¼š 1234567891011static void Main(string[] args) &#123; GreetingDelegate delegate1 = new GreetingDelegate(EnglishGreeting); delegate1 += ChineseGreeting; // ç»™æ­¤å§”æ‰˜å˜é‡å†ç»‘å®šä¸€ä¸ªæ–¹æ³• // å°†å…ˆåŽè°ƒç”¨ EnglishGreeting ä¸Ž ChineseGreeting æ–¹æ³• GreetPeople(&quot;Jimmy Zhang&quot;, delegate1); Console.WriteLine(); delegate1 -= EnglishGreeting; //å–æ¶ˆå¯¹EnglishGreetingæ–¹æ³•çš„ç»‘å®š // å°†ä»…è°ƒç”¨ ChineseGreeting GreetPeople(&quot;å¼ å­é˜³&quot;, delegate1); Console.ReadKey();&#125; è¾“å‡ºä¸ºï¼š 123Morning, Jimmy Zhangæ—©ä¸Šå¥½, Jimmy Zhangæ—©ä¸Šå¥½, å¼ å­é˜³ è®©æˆ‘ä»¬å†æ¬¡å¯¹å§”æ‰˜ä½œä¸ªæ€»ç»“ï¼š ä½¿ç”¨å§”æ‰˜å¯ä»¥å°†å¤šä¸ªæ–¹æ³•ç»‘å®šåˆ°åŒä¸€ä¸ªå§”æ‰˜å˜é‡ï¼Œå½“è°ƒç”¨æ­¤å˜é‡æ—¶(è¿™é‡Œç”¨â€œè°ƒç”¨â€è¿™ä¸ªè¯ï¼Œæ˜¯å› ä¸ºæ­¤å˜é‡ä»£è¡¨ä¸€ä¸ªæ–¹æ³•)ï¼Œå¯ä»¥ä¾æ¬¡è°ƒç”¨æ‰€æœ‰ç»‘å®šçš„æ–¹æ³•ã€‚ äº‹ä»¶çš„ç”±æ¥æˆ‘ä»¬ç»§ç»­æ€è€ƒä¸Šé¢çš„ç¨‹åºï¼šä¸Šé¢çš„ä¸‰ä¸ªæ–¹æ³•éƒ½å®šä¹‰åœ¨Programeç±»ä¸­ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†ç†è§£çš„æ–¹ä¾¿ï¼Œå®žé™…åº”ç”¨ä¸­ï¼Œé€šå¸¸éƒ½æ˜¯ GreetPeople åœ¨ä¸€ä¸ªç±»ä¸­ï¼ŒChineseGreetingå’Œ EnglishGreeting åœ¨å¦å¤–çš„ç±»ä¸­ã€‚çŽ°åœ¨ä½ å·²ç»å¯¹å§”æ‰˜æœ‰äº†åˆæ­¥äº†è§£ï¼Œæ˜¯æ—¶å€™å¯¹ä¸Šé¢çš„ä¾‹å­åšä¸ªæ”¹è¿›äº†ã€‚å‡è®¾æˆ‘ä»¬å°†GreetingPeople()æ”¾åœ¨ä¸€ä¸ªå«GreetingManagerçš„ç±»ä¸­ï¼Œé‚£ä¹ˆæ–°ç¨‹åºåº”è¯¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š 123456789101112131415161718192021namespace Delegate &#123; //å®šä¹‰å§”æ‰˜ï¼Œå®ƒå®šä¹‰äº†å¯ä»¥ä»£è¡¨çš„æ–¹æ³•çš„ç±»åž‹ public delegate void GreetingDelegate(string name); //æ–°å»ºçš„GreetingManagerç±» public class GreetingManager&#123; public void GreetPeople(string name, GreetingDelegate MakeGreeting) &#123; MakeGreeting(name); &#125; &#125; class Program &#123; private static void EnglishGreeting(string name) &#123; Console.WriteLine(&quot;Morning, &quot; + name); &#125; private static void ChineseGreeting(string name) &#123; Console.WriteLine(&quot;æ—©ä¸Šå¥½, &quot; + name); &#125; static void Main(string[] args) &#123; // ... ... &#125; &#125;&#125; è¿™ä¸ªæ—¶å€™ï¼Œå¦‚æžœè¦å®žçŽ°å‰é¢æ¼”ç¤ºçš„è¾“å‡ºæ•ˆæžœï¼ŒMainæ–¹æ³•æˆ‘æƒ³åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š 12345static void Main(string[] args) &#123; GreetingManager gm = new GreetingManager(); gm.GreetPeople(&quot;Jimmy Zhang&quot;, EnglishGreeting); gm.GreetPeople(&quot;å¼ å­é˜³&quot;, ChineseGreeting);&#125; æˆ‘ä»¬è¿è¡Œè¿™æ®µä»£ç ï¼Œå—¯ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚ç¨‹åºä¸€å¦‚é¢„æ–™åœ°é‚£æ ·è¾“å‡ºäº†ï¼š 12Morning, Jimmy Zhangæ—©ä¸Šå¥½, å¼ å­é˜³ çŽ°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸Šä¸€èŠ‚å­¦åˆ°çš„çŸ¥è¯†ï¼Œå°†å¤šä¸ªæ–¹æ³•ç»‘å®šåˆ°åŒä¸€ä¸ªå§”æ‰˜å˜é‡ï¼Œè¯¥å¦‚ä½•åšå‘¢ï¼Ÿè®©æˆ‘ä»¬å†æ¬¡æ”¹å†™ä»£ç ï¼š 1234567static void Main(string[] args) &#123; GreetingManager gm = new GreetingManager(); GreetingDelegate delegate1; delegate1 = EnglishGreeting; delegate1 += ChineseGreeting; gm.GreetPeople(&quot;Jimmy Zhang&quot;, delegate1);&#125; è¾“å‡ºï¼š 12Morning, Jimmy Zhangæ—©ä¸Šå¥½, Jimmy Zhang åˆ°äº†è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ç¦æƒ³åˆ°ï¼šé¢å‘å¯¹è±¡è®¾è®¡ï¼Œè®²ç©¶çš„æ˜¯å¯¹è±¡çš„å°è£…ï¼Œæ—¢ç„¶å¯ä»¥å£°æ˜Žå§”æ‰˜ç±»åž‹çš„å˜é‡(åœ¨ä¸Šä¾‹ä¸­æ˜¯delegate1)ï¼Œæˆ‘ä»¬ä½•ä¸å°†è¿™ä¸ªå˜é‡å°è£…åˆ° GreetManagerç±»ä¸­ï¼Ÿåœ¨è¿™ä¸ªç±»çš„å®¢æˆ·ç«¯ä¸­ä½¿ç”¨ä¸æ˜¯æ›´æ–¹ä¾¿ä¹ˆï¼ŸäºŽæ˜¯ï¼Œæˆ‘ä»¬æ”¹å†™GreetManagerç±»ï¼Œåƒè¿™æ ·ï¼š 1234567public class GreetingManager&#123; //åœ¨GreetingManagerç±»çš„å†…éƒ¨å£°æ˜Ždelegate1å˜é‡ public GreetingDelegate delegate1; public void GreetPeople(string name, GreetingDelegate MakeGreeting) &#123; MakeGreeting(name); &#125;&#125; çŽ°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ä½¿ç”¨è¿™ä¸ªå§”æ‰˜å˜é‡ï¼š 123456static void Main(string[] args) &#123; GreetingManager gm = new GreetingManager(); gm.delegate1 = EnglishGreeting; gm.delegate1 += ChineseGreeting; gm.GreetPeople(&quot;Jimmy Zhang&quot;, gm.delegate1);&#125; è¾“å‡ºä¸ºï¼š 12Morning, Jimmy Zhangæ—©ä¸Šå¥½, Jimmy Zhang å°½ç®¡è¿™æ ·åšæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æˆ‘ä»¬å‘çŽ°è¿™æ¡è¯­å¥å¾ˆå¥‡æ€ªã€‚åœ¨è°ƒç”¨gm.GreetPeopleæ–¹æ³•çš„æ—¶å€™ï¼Œå†æ¬¡ä¼ é€’äº†gmçš„delegate1å­—æ®µï¼š gm.GreetPeople(&quot;Jimmy Zhang&quot;, gm.delegate1); æ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘ä»¬ä½•ä¸ä¿®æ”¹ GreetingManager ç±»æˆè¿™æ ·ï¼š 123456789public class GreetingManager&#123; //åœ¨GreetingManagerç±»çš„å†…éƒ¨å£°æ˜Ždelegate1å˜é‡ public GreetingDelegate delegate1; public void GreetPeople(string name) &#123; if(delegate1!=null)&#123; //å¦‚æžœæœ‰æ–¹æ³•æ³¨å†Œå§”æ‰˜å˜é‡ delegate1(name); //é€šè¿‡å§”æ‰˜è°ƒç”¨æ–¹æ³• &#125; &#125;&#125; åœ¨å®¢æˆ·ç«¯ï¼Œè°ƒç”¨çœ‹ä¸ŠåŽ»æ›´ç®€æ´ä¸€äº›ï¼š 123456static void Main(string[] args) &#123; GreetingManager gm = new GreetingManager(); gm.delegate1 = EnglishGreeting; gm.delegate1 += ChineseGreeting; gm.GreetPeople(&quot;Jimmy Zhang&quot;); //æ³¨æ„ï¼Œè¿™æ¬¡ä¸éœ€è¦å†ä¼ é€’ delegate1å˜é‡&#125; è¾“å‡ºä¸ºï¼š 12Morning, Jimmy Zhangæ—©ä¸Šå¥½, Jimmy Zhang å°½ç®¡è¿™æ ·è¾¾åˆ°äº†æˆ‘ä»¬è¦çš„æ•ˆæžœï¼Œä½†æ˜¯è¿˜æ˜¯å­˜åœ¨ç€é—®é¢˜ï¼š åœ¨è¿™é‡Œï¼Œdelegate1å’Œæˆ‘ä»¬å¹³æ—¶ç”¨çš„stringç±»åž‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆåˆ†åˆ«ï¼Œè€Œæˆ‘ä»¬çŸ¥é“ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å­—æ®µéƒ½åº”è¯¥å£°æ˜Žæˆpublicï¼Œåˆé€‚çš„åšæ³•æ˜¯åº”è¯¥publicçš„æ—¶å€™publicï¼Œåº”è¯¥privateçš„æ—¶å€™privateã€‚ æˆ‘ä»¬å…ˆçœ‹çœ‹å¦‚æžœæŠŠ delegate1 å£°æ˜Žä¸º privateä¼šæ€Žæ ·ï¼Ÿç»“æžœå°±æ˜¯ï¼šè¿™ç®€ç›´å°±æ˜¯åœ¨æžç¬‘ã€‚å› ä¸ºå£°æ˜Žå§”æ‰˜çš„ç›®çš„å°±æ˜¯ä¸ºäº†æŠŠå®ƒæš´éœ²åœ¨ç±»çš„å®¢æˆ·ç«¯è¿›è¡Œæ–¹æ³•çš„æ³¨å†Œï¼Œä½ æŠŠå®ƒå£°æ˜Žä¸ºprivateäº†ï¼Œå®¢æˆ·ç«¯å¯¹å®ƒæ ¹æœ¬å°±ä¸å¯è§ï¼Œé‚£å®ƒè¿˜æœ‰ä»€ä¹ˆç”¨ï¼Ÿ å†çœ‹çœ‹æŠŠdelegate1 å£°æ˜Žä¸º public ä¼šæ€Žæ ·ï¼Ÿç»“æžœå°±æ˜¯ï¼šåœ¨å®¢æˆ·ç«¯å¯ä»¥å¯¹å®ƒè¿›è¡Œéšæ„çš„èµ‹å€¼ç­‰æ“ä½œï¼Œä¸¥é‡ç ´åå¯¹è±¡çš„å°è£…æ€§ã€‚ æœ€åŽï¼Œç¬¬ä¸€ä¸ªæ–¹æ³•æ³¨å†Œç”¨â€œ=â€ï¼Œæ˜¯èµ‹å€¼è¯­æ³•ï¼Œå› ä¸ºè¦è¿›è¡Œå®žä¾‹åŒ–ï¼Œç¬¬äºŒä¸ªæ–¹æ³•æ³¨å†Œåˆ™ç”¨çš„æ˜¯â€œ+=â€ã€‚ä½†æ˜¯ï¼Œä¸ç®¡æ˜¯èµ‹å€¼è¿˜æ˜¯æ³¨å†Œï¼Œéƒ½æ˜¯å°†æ–¹æ³•ç»‘å®šåˆ°å§”æ‰˜ä¸Šï¼Œé™¤äº†è°ƒç”¨æ—¶å…ˆåŽé¡ºåºä¸åŒï¼Œå†æ²¡æœ‰ä»»ä½•çš„åˆ†åˆ«ï¼Œè¿™æ ·ä¸æ˜¯è®©äººè§‰å¾—å¾ˆåˆ«æ‰­ä¹ˆï¼Ÿ çŽ°åœ¨æˆ‘ä»¬æƒ³æƒ³ï¼Œå¦‚æžœdelegate1ä¸æ˜¯ä¸€ä¸ªå§”æ‰˜ç±»åž‹ï¼Œè€Œæ˜¯ä¸€ä¸ªstringç±»åž‹ï¼Œä½ ä¼šæ€Žä¹ˆåšï¼Ÿç­”æ¡ˆæ˜¯ä½¿ç”¨å±žæ€§å¯¹å­—æ®µè¿›è¡Œå°è£…ã€‚ äºŽæ˜¯ï¼ŒEventå‡ºåœºäº†ï¼Œå®ƒå°è£…äº†å§”æ‰˜ç±»åž‹çš„å˜é‡ï¼Œä½¿å¾—ï¼šåœ¨ç±»çš„å†…éƒ¨ï¼Œä¸ç®¡ä½ å£°æ˜Žå®ƒæ˜¯publicè¿˜æ˜¯protectedï¼Œå®ƒæ€»æ˜¯privateçš„ã€‚åœ¨ç±»çš„å¤–éƒ¨ï¼Œæ³¨å†Œâ€œ+=â€å’Œæ³¨é”€â€œ-=â€çš„è®¿é—®é™å®šç¬¦ä¸Žä½ åœ¨å£°æ˜Žäº‹ä»¶æ—¶ä½¿ç”¨çš„è®¿é—®ç¬¦ç›¸åŒã€‚ æˆ‘ä»¬æ”¹å†™GreetingManagerç±»ï¼Œå®ƒå˜æˆäº†è¿™ä¸ªæ ·å­ï¼š 1234567public class GreetingManager&#123; //è¿™ä¸€æ¬¡æˆ‘ä»¬åœ¨è¿™é‡Œå£°æ˜Žä¸€ä¸ªäº‹ä»¶ public event GreetingDelegate MakeGreet; public void GreetPeople(string name) &#123; MakeGreet(name); &#125;&#125; å¾ˆå®¹æ˜“æ³¨æ„åˆ°ï¼šMakeGreet äº‹ä»¶çš„å£°æ˜Žä¸Žä¹‹å‰å§”æ‰˜å˜é‡delegate1çš„å£°æ˜Žå”¯ä¸€çš„åŒºåˆ«æ˜¯å¤šäº†ä¸€ä¸ªeventå…³é”®å­—ã€‚çœ‹åˆ°è¿™é‡Œï¼Œåœ¨ç»“åˆä¸Šé¢çš„è®²è§£ï¼Œä½ åº”è¯¥æ˜Žç™½åˆ°ï¼šäº‹ä»¶å…¶å®žæ²¡ä»€ä¹ˆä¸å¥½ç†è§£çš„ï¼Œå£°æ˜Žä¸€ä¸ªäº‹ä»¶ä¸è¿‡ç±»ä¼¼äºŽå£°æ˜Žä¸€ä¸ªè¿›è¡Œäº†å°è£…çš„å§”æ‰˜ç±»åž‹çš„å˜é‡è€Œå·²ã€‚ ä¸ºäº†è¯æ˜Žä¸Šé¢çš„æŽ¨è®ºï¼Œå¦‚æžœæˆ‘ä»¬åƒä¸‹é¢è¿™æ ·æ”¹å†™Mainæ–¹æ³•ï¼š 123456static void Main(string[] args) &#123; GreetingManager gm = new GreetingManager(); gm.MakeGreet = EnglishGreeting; // ç¼–è¯‘é”™è¯¯1 gm.MakeGreet += ChineseGreeting; gm.GreetPeople(&quot;Jimmy Zhang&quot;);&#125; ä¼šå¾—åˆ°ç¼–è¯‘é”™è¯¯ï¼šäº‹ä»¶â€œDelegate.GreetingManager.MakeGreetâ€åªèƒ½å‡ºçŽ°åœ¨ += æˆ– -= çš„å·¦è¾¹(ä»Žç±»åž‹â€œDelegate.GreetingManagerâ€ä¸­ä½¿ç”¨æ—¶é™¤å¤–)ã€‚ äº‹ä»¶å’Œå§”æ‰˜çš„ç¼–è¯‘ä»£ç è¿™æ—¶å€™ï¼Œæˆ‘ä»¬æ³¨é‡ŠæŽ‰ç¼–è¯‘é”™è¯¯çš„è¡Œï¼Œç„¶åŽé‡æ–°è¿›è¡Œç¼–è¯‘ï¼Œå†å€ŸåŠ©Reflactoræ¥å¯¹ eventçš„å£°æ˜Žè¯­å¥åšä¸€æŽ¢ç©¶ï¼Œçœ‹çœ‹ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™æ ·çš„é”™è¯¯ï¼š public event GreetingDelegate MakeGreet; å¯ä»¥çœ‹åˆ°ï¼Œå®žé™…ä¸Šå°½ç®¡æˆ‘ä»¬åœ¨GreetingManageré‡Œå°† MakeGreet å£°æ˜Žä¸ºpublicï¼Œä½†æ˜¯ï¼Œå®žé™…ä¸ŠMakeGreetä¼šè¢«ç¼–è¯‘æˆ ç§æœ‰å­—æ®µï¼Œéš¾æ€ªä¼šå‘ç”Ÿä¸Šé¢çš„ç¼–è¯‘é”™è¯¯äº†ï¼Œå› ä¸ºå®ƒæ ¹æœ¬å°±ä¸å…è®¸åœ¨GreetingManagerç±»çš„å¤–é¢ä»¥èµ‹å€¼çš„æ–¹å¼è®¿é—®ï¼Œä»Žè€ŒéªŒè¯äº†æˆ‘ä»¬ä¸Šé¢æ‰€åšçš„æŽ¨è®ºã€‚ æˆ‘ä»¬å†è¿›ä¸€æ­¥çœ‹ä¸‹MakeGreetæ‰€äº§ç”Ÿçš„ä»£ç ï¼š 123456789private GreetingDelegate MakeGreet; //å¯¹äº‹ä»¶çš„å£°æ˜Ž å®žé™…æ˜¯ å£°æ˜Žä¸€ä¸ªç§æœ‰çš„å§”æ‰˜å˜é‡[MethodImpl(MethodImplOptions.Synchronized)]public void add_MakeGreet(GreetingDelegate value)&#123; this.MakeGreet = (GreetingDelegate) Delegate.Combine(this.MakeGreet, value);&#125;[MethodImpl(MethodImplOptions.Synchronized)]public void remove_MakeGreet(GreetingDelegate value)&#123; this.MakeGreet = (GreetingDelegate) Delegate.Remove(this.MakeGreet, value);&#125; çŽ°åœ¨å·²ç»å¾ˆæ˜Žç¡®äº†ï¼šMakeGreetäº‹ä»¶ç¡®å®žæ˜¯ä¸€ä¸ªGreetingDelegateç±»åž‹çš„å§”æ‰˜ï¼Œåªä¸è¿‡ä¸ç®¡æ˜¯ä¸æ˜¯å£°æ˜Žä¸ºpublicï¼Œå®ƒæ€»æ˜¯è¢«å£°æ˜Žä¸ºprivateã€‚å¦å¤–ï¼Œå®ƒè¿˜æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯add_MakeGreetå’Œremove_MakeGreetï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«ç”¨äºŽæ³¨å†Œå§”æ‰˜ç±»åž‹çš„æ–¹æ³•å’Œå–æ¶ˆæ³¨å†Œã€‚å®žé™…ä¸Šä¹Ÿå°±æ˜¯ï¼š â€œ+= â€å¯¹åº” add_MakeGreetï¼Œâ€œ-=â€å¯¹åº”remove_MakeGreetã€‚è€Œè¿™ä¸¤ä¸ªæ–¹æ³•çš„è®¿é—®é™åˆ¶å–å†³äºŽå£°æ˜Žäº‹ä»¶æ—¶çš„è®¿é—®é™åˆ¶ç¬¦ã€‚ åœ¨add_MakeGreet()æ–¹æ³•å†…éƒ¨ï¼Œå®žé™…ä¸Šè°ƒç”¨äº†System.Delegateçš„Combine()é™æ€æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ç”¨äºŽå°†å½“å‰çš„å˜é‡æ·»åŠ åˆ°å§”æ‰˜é“¾è¡¨ä¸­ã€‚æˆ‘ä»¬å‰é¢æåˆ°è¿‡ä¸¤æ¬¡ï¼Œè¯´å§”æ‰˜å®žé™…ä¸Šæ˜¯ä¸€ä¸ªç±»ï¼Œåœ¨æˆ‘ä»¬å®šä¹‰å§”æ‰˜çš„æ—¶å€™ï¼š public delegate void GreetingDelegate(string name); å½“ç¼–è¯‘å™¨é‡åˆ°è¿™æ®µä»£ç çš„æ—¶å€™ï¼Œä¼šç”Ÿæˆä¸‹é¢è¿™æ ·ä¸€ä¸ªå®Œæ•´çš„ç±»ï¼š 123456public sealed class GreetingDelegate:System.MulticastDelegate&#123; public GreetingDelegate(object @object, IntPtr method); public virtual IAsyncResult BeginInvoke(string name, AsyncCallback callback, object @object); public virtual void EndInvoke(IAsyncResult result); public virtual void Invoke(string name);&#125; å…³äºŽè¿™ä¸ªç±»çš„æ›´æ·±å…¥å†…å®¹ï¼Œå¯ä»¥å‚é˜…ã€ŠCLR Via C#ã€‹ç­‰ç›¸å…³ä¹¦ç±ï¼Œè¿™é‡Œå°±ä¸å†è®¨è®ºäº†ã€‚ å§”æ‰˜ã€äº‹ä»¶ä¸ŽObserverè®¾è®¡æ¨¡å¼èŒƒä¾‹è¯´æ˜Žä¸Šé¢çš„ä¾‹å­å·²ä¸è¶³ä»¥å†è¿›è¡Œä¸‹é¢çš„è®²è§£äº†ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ–°çš„èŒƒä¾‹ï¼Œå› ä¸ºä¹‹å‰å·²ç»ä»‹ç»äº†å¾ˆå¤šçš„å†…å®¹ï¼Œæ‰€ä»¥æœ¬èŠ‚çš„è¿›åº¦ä¼šç¨å¾®å¿«ä¸€äº›ï¼š å‡è®¾æˆ‘ä»¬æœ‰ä¸ªé«˜æ¡£çš„çƒ­æ°´å™¨ï¼Œæˆ‘ä»¬ç»™å®ƒé€šä¸Šç”µï¼Œå½“æ°´æ¸©è¶…è¿‡95åº¦çš„æ—¶å€™ï¼š æ‰¬å£°å™¨ä¼šå¼€å§‹å‘å‡ºè¯­éŸ³ï¼Œå‘Šè¯‰ä½ æ°´çš„æ¸©åº¦ï¼› æ¶²æ™¶å±ä¹Ÿä¼šæ”¹å˜æ°´æ¸©çš„æ˜¾ç¤ºï¼Œæ¥æç¤ºæ°´å·²ç»å¿«çƒ§å¼€äº†ã€‚ çŽ°åœ¨æˆ‘ä»¬éœ€è¦å†™ä¸ªç¨‹åºæ¥æ¨¡æ‹Ÿè¿™ä¸ªçƒ§æ°´çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªç±»æ¥ä»£è¡¨çƒ­æ°´å™¨ï¼Œæˆ‘ä»¬ç®¡å®ƒå«ï¼šHeaterï¼Œå®ƒæœ‰ä»£è¡¨æ°´æ¸©çš„å­—æ®µï¼Œå«åštemperatureï¼›å½“ç„¶ï¼Œè¿˜æœ‰å¿…ä¸å¯å°‘çš„ç»™æ°´åŠ çƒ­æ–¹æ³•BoilWater()ï¼Œä¸€ä¸ªå‘å‡ºè¯­éŸ³è­¦æŠ¥çš„æ–¹æ³•MakeAlert()ï¼Œä¸€ä¸ªæ˜¾ç¤ºæ°´æ¸©çš„æ–¹æ³•ï¼ŒShowMsg()ã€‚ 1234567891011121314151617181920212223242526272829namespace Delegate &#123; class Heater &#123; private int temperature; // æ°´æ¸© // çƒ§æ°´ public void BoilWater() &#123; for (int i = 0; i &lt;= 100; i++) &#123; temperature = i; if (temperature &gt; 95) &#123; MakeAlert(temperature); ShowMsg(temperature); &#125; &#125; &#125; // å‘å‡ºè¯­éŸ³è­¦æŠ¥ private void MakeAlert(int param) &#123; Console.WriteLine(&quot;Alarmï¼šå˜€å˜€å˜€ï¼Œæ°´å·²ç» &#123;0&#125; åº¦äº†ï¼š&quot; , param); &#125; // æ˜¾ç¤ºæ°´æ¸© private void ShowMsg(int param) &#123; Console.WriteLine(&quot;Displayï¼šæ°´å¿«å¼€äº†ï¼Œå½“å‰æ¸©åº¦ï¼š&#123;0&#125;åº¦ã€‚&quot; , param); &#125;&#125; class Program &#123; static void Main() &#123; Heater ht = new Heater(); ht.BoilWater(); &#125; &#125;&#125; Observerè®¾è®¡æ¨¡å¼ç®€ä»‹ä¸Šé¢çš„ä¾‹å­æ˜¾ç„¶èƒ½å®Œæˆæˆ‘ä»¬ä¹‹å‰æè¿°çš„å·¥ä½œï¼Œä½†æ˜¯å´å¹¶ä¸å¤Ÿå¥½ã€‚çŽ°åœ¨å‡è®¾çƒ­æ°´å™¨ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šçƒ­æ°´å™¨ã€è­¦æŠ¥å™¨ã€æ˜¾ç¤ºå™¨ï¼Œå®ƒä»¬æ¥è‡ªäºŽä¸åŒåŽ‚å•†å¹¶è¿›è¡Œäº†ç»„è£…ã€‚é‚£ä¹ˆï¼Œåº”è¯¥æ˜¯çƒ­æ°´å™¨ä»…ä»…è´Ÿè´£çƒ§æ°´ï¼Œå®ƒä¸èƒ½å‘å‡ºè­¦æŠ¥ä¹Ÿä¸èƒ½æ˜¾ç¤ºæ°´æ¸©ï¼›åœ¨æ°´çƒ§å¼€æ—¶ç”±è­¦æŠ¥å™¨å‘å‡ºè­¦æŠ¥ã€æ˜¾ç¤ºå™¨æ˜¾ç¤ºæç¤ºå’Œæ°´æ¸©ã€‚ è¿™æ—¶å€™ï¼Œä¸Šé¢çš„ä¾‹å­å°±åº”è¯¥å˜æˆè¿™ä¸ªæ ·å­ï¼š 12345678910111213141516171819202122// çƒ­æ°´å™¨public class Heater &#123; private int temperature; // çƒ§æ°´ private void BoilWater() &#123; for (int i = 0; i &lt;= 100; i++) &#123; temperature = i; &#125; &#125;&#125;// è­¦æŠ¥å™¨public class Alarm&#123; private void MakeAlert(int param) &#123; Console.WriteLine(&quot;Alarmï¼šå˜€å˜€å˜€ï¼Œæ°´å·²ç» &#123;0&#125; åº¦äº†ï¼š&quot; , param); &#125;&#125;// æ˜¾ç¤ºå™¨public class Display&#123; private void ShowMsg(int param) &#123; Console.WriteLine(&quot;Displayï¼šæ°´å·²çƒ§å¼€ï¼Œå½“å‰æ¸©åº¦ï¼š&#123;0&#125;åº¦ã€‚&quot; , param); &#125;&#125; è¿™é‡Œå°±å‡ºçŽ°äº†ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•åœ¨æ°´çƒ§å¼€çš„æ—¶å€™é€šçŸ¥æŠ¥è­¦å™¨å’Œæ˜¾ç¤ºå™¨ï¼Ÿåœ¨ç»§ç»­è¿›è¡Œä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹Observerè®¾è®¡æ¨¡å¼ï¼ŒObserverè®¾è®¡æ¨¡å¼ä¸­ä¸»è¦åŒ…æ‹¬å¦‚ä¸‹ä¸¤ç±»å¯¹è±¡ï¼š Subjectï¼šç›‘è§†å¯¹è±¡ï¼Œå®ƒå¾€å¾€åŒ…å«ç€å…¶ä»–å¯¹è±¡æ‰€æ„Ÿå…´è¶£çš„å†…å®¹ã€‚åœ¨æœ¬èŒƒä¾‹ä¸­ï¼Œçƒ­æ°´å™¨å°±æ˜¯ä¸€ä¸ªç›‘è§†å¯¹è±¡ï¼Œå®ƒåŒ…å«çš„å…¶ä»–å¯¹è±¡æ‰€æ„Ÿå…´è¶£çš„å†…å®¹ï¼Œå°±æ˜¯tempratureå­—æ®µï¼Œå½“è¿™ä¸ªå­—æ®µçš„å€¼å¿«åˆ°100æ—¶ï¼Œä¼šä¸æ–­æŠŠæ•°æ®å‘ç»™ç›‘è§†å®ƒçš„å¯¹è±¡ã€‚ Observerï¼šç›‘è§†è€…ï¼Œå®ƒç›‘è§†Subjectï¼Œå½“Subjectä¸­çš„æŸä»¶äº‹å‘ç”Ÿçš„æ—¶å€™ï¼Œä¼šå‘ŠçŸ¥Observerï¼Œè€ŒObserveråˆ™ä¼šé‡‡å–ç›¸åº”çš„è¡ŒåŠ¨ã€‚åœ¨æœ¬èŒƒä¾‹ä¸­ï¼ŒObserveræœ‰è­¦æŠ¥å™¨å’Œæ˜¾ç¤ºå™¨ï¼Œå®ƒä»¬é‡‡å–çš„è¡ŒåŠ¨åˆ†åˆ«æ˜¯å‘å‡ºè­¦æŠ¥å’Œæ˜¾ç¤ºæ°´æ¸©ã€‚ åœ¨æœ¬ä¾‹ä¸­ï¼Œäº‹æƒ…å‘ç”Ÿçš„é¡ºåºåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š è­¦æŠ¥å™¨å’Œæ˜¾ç¤ºå™¨å‘Šè¯‰çƒ­æ°´å™¨ï¼Œå®ƒå¯¹å®ƒçš„æ¸©åº¦æ¯”è¾ƒæ„Ÿå…´è¶£(æ³¨å†Œ)ã€‚ çƒ­æ°´å™¨çŸ¥é“åŽä¿ç•™å¯¹è­¦æŠ¥å™¨å’Œæ˜¾ç¤ºå™¨çš„å¼•ç”¨ã€‚ çƒ­æ°´å™¨è¿›è¡Œçƒ§æ°´è¿™ä¸€åŠ¨ä½œï¼Œå½“æ°´æ¸©è¶…è¿‡95åº¦æ—¶ï¼Œé€šè¿‡å¯¹è­¦æŠ¥å™¨å’Œæ˜¾ç¤ºå™¨çš„å¼•ç”¨ï¼Œè‡ªåŠ¨è°ƒç”¨è­¦æŠ¥å™¨çš„MakeAlert()æ–¹æ³•ã€æ˜¾ç¤ºå™¨çš„ShowMsg()æ–¹æ³•ã€‚ ç±»ä¼¼è¿™æ ·çš„ä¾‹å­æ˜¯å¾ˆå¤šçš„ï¼ŒGOFå¯¹å®ƒè¿›è¡Œäº†æŠ½è±¡ï¼Œç§°ä¸ºObserverè®¾è®¡æ¨¡å¼ï¼šObserverè®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œä»¥ä¾¿äºŽå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€æ”¹å˜æ—¶ï¼Œå…¶ä»–ä¾èµ–äºŽå®ƒçš„å¯¹è±¡ä¼šè¢«è‡ªåŠ¨å‘ŠçŸ¥å¹¶æ›´æ–°ã€‚Observeræ¨¡å¼æ˜¯ä¸€ç§æ¾è€¦åˆçš„è®¾è®¡æ¨¡å¼ã€‚ å®žçŽ°èŒƒä¾‹çš„Observerè®¾è®¡æ¨¡å¼æˆ‘ä»¬ä¹‹å‰å·²ç»å¯¹å§”æ‰˜å’Œäº‹ä»¶ä»‹ç»å¾ˆå¤šäº†ï¼ŒçŽ°åœ¨å†™ä»£ç åº”è¯¥å¾ˆå®¹æ˜“äº†ï¼ŒçŽ°åœ¨åœ¨è¿™é‡Œç›´æŽ¥ç»™å‡ºä»£ç ï¼Œå¹¶åœ¨æ³¨é‡Šä¸­åŠ ä»¥è¯´æ˜Žã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344using System;using System.Collections.Generic;using System.Text;namespace Delegate &#123; // çƒ­æ°´å™¨ public class Heater &#123; private int temperature; public delegate void BoilHandler(int param); //å£°æ˜Žå§”æ‰˜ public event BoilHandler BoilEvent; //å£°æ˜Žäº‹ä»¶ // çƒ§æ°´ public void BoilWater() &#123; for (int i = 0; i &lt;= 100; i++) &#123; temperature = i; if (temperature &gt; 95) &#123; if (BoilEvent != null) &#123; //å¦‚æžœæœ‰å¯¹è±¡æ³¨å†Œ BoilEvent(temperature); //è°ƒç”¨æ‰€æœ‰æ³¨å†Œå¯¹è±¡çš„æ–¹æ³• &#125; &#125; &#125; &#125; &#125; // è­¦æŠ¥å™¨ public class Alarm &#123; public void MakeAlert(int param) &#123; Console.WriteLine(&quot;Alarmï¼šå˜€å˜€å˜€ï¼Œæ°´å·²ç» &#123;0&#125; åº¦äº†ï¼š&quot;, param); &#125; &#125; // æ˜¾ç¤ºå™¨ public class Display &#123; public static void ShowMsg(int param) &#123; //é™æ€æ–¹æ³• Console.WriteLine(&quot;Displayï¼šæ°´å¿«çƒ§å¼€äº†ï¼Œå½“å‰æ¸©åº¦ï¼š&#123;0&#125;åº¦ã€‚&quot;, param); &#125; &#125; class Program &#123; static void Main() &#123; Heater heater = new Heater(); Alarm alarm = new Alarm(); heater.BoilEvent += alarm.MakeAlert; //æ³¨å†Œæ–¹æ³• heater.BoilEvent += (new Alarm()).MakeAlert; //ç»™åŒ¿åå¯¹è±¡æ³¨å†Œæ–¹æ³• heater.BoilEvent += Display.ShowMsg; //æ³¨å†Œé™æ€æ–¹æ³• heater.BoilWater(); //çƒ§æ°´ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ³¨å†Œè¿‡å¯¹è±¡çš„æ–¹æ³• &#125; &#125;&#125; è¾“å‡ºä¸ºï¼š 1234Alarmï¼šå˜€å˜€å˜€ï¼Œæ°´å·²ç» 96 åº¦äº†ï¼šAlarmï¼šå˜€å˜€å˜€ï¼Œæ°´å·²ç» 96 åº¦äº†ï¼šDisplayï¼šæ°´å¿«çƒ§å¼€äº†ï¼Œå½“å‰æ¸©åº¦ï¼š96åº¦ã€‚// çœç•¥... .Net Frameworkä¸­çš„å§”æ‰˜ä¸Žäº‹ä»¶å°½ç®¡ä¸Šé¢çš„èŒƒä¾‹å¾ˆå¥½åœ°å®Œæˆäº†æˆ‘ä»¬æƒ³è¦å®Œæˆçš„å·¥ä½œï¼Œä½†æ˜¯æˆ‘ä»¬ä¸ä»…ç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆ.Net Framework ä¸­çš„äº‹ä»¶æ¨¡åž‹å’Œä¸Šé¢çš„ä¸åŒï¼Ÿä¸ºä»€ä¹ˆæœ‰å¾ˆå¤šçš„EventArgså‚æ•°ï¼Ÿ åœ¨å›žç­”ä¸Šé¢çš„é—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæžæ‡‚ .Net Frameworkçš„ç¼–ç è§„èŒƒï¼š å§”æ‰˜ç±»åž‹çš„åç§°éƒ½åº”è¯¥ä»¥EventHandlerç»“æŸã€‚ å§”æ‰˜çš„åŽŸåž‹å®šä¹‰ï¼šæœ‰ä¸€ä¸ªvoidè¿”å›žå€¼ï¼Œå¹¶æŽ¥å—ä¸¤ä¸ªè¾“å…¥å‚æ•°ï¼šä¸€ä¸ªObject ç±»åž‹ï¼Œä¸€ä¸ª EventArgsç±»åž‹(æˆ–ç»§æ‰¿è‡ªEventArgs)ã€‚ äº‹ä»¶çš„å‘½åä¸º å§”æ‰˜åŽ»æŽ‰ EventHandlerä¹‹åŽå‰©ä½™çš„éƒ¨åˆ†ã€‚ ç»§æ‰¿è‡ªEventArgsçš„ç±»åž‹åº”è¯¥ä»¥EventArgsç»“å°¾ã€‚ å†åšä¸€ä¸‹è¯´æ˜Žï¼š å§”æ‰˜å£°æ˜ŽåŽŸåž‹ä¸­çš„Objectç±»åž‹çš„å‚æ•°ä»£è¡¨äº†Subjectï¼Œä¹Ÿå°±æ˜¯ç›‘è§†å¯¹è±¡ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯ Heater(çƒ­æ°´å™¨)ã€‚å›žè°ƒå‡½æ•°(æ¯”å¦‚Alarmçš„MakeAlert)å¯ä»¥é€šè¿‡å®ƒè®¿é—®è§¦å‘äº‹ä»¶çš„å¯¹è±¡(Heater)ã€‚ EventArgs å¯¹è±¡åŒ…å«äº†Observeræ‰€æ„Ÿå…´è¶£çš„æ•°æ®ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯temperatureã€‚ ä¸Šé¢è¿™äº›å…¶å®žä¸ä»…ä»…æ˜¯ä¸ºäº†ç¼–ç è§„èŒƒè€Œå·²ï¼Œè¿™æ ·ä¹Ÿä½¿å¾—ç¨‹åºæœ‰æ›´å¤§çš„çµæ´»æ€§ã€‚æ¯”å¦‚è¯´ï¼Œå¦‚æžœæˆ‘ä»¬ä¸å…‰æƒ³èŽ·å¾—çƒ­æ°´å™¨çš„æ¸©åº¦ï¼Œè¿˜æƒ³åœ¨Observerç«¯(è­¦æŠ¥å™¨æˆ–è€…æ˜¾ç¤ºå™¨)æ–¹æ³•ä¸­èŽ·å¾—å®ƒçš„ç”Ÿäº§æ—¥æœŸã€åž‹å·ã€ä»·æ ¼ï¼Œé‚£ä¹ˆå§”æ‰˜å’Œæ–¹æ³•çš„å£°æ˜Žéƒ½ä¼šå˜å¾—å¾ˆéº»çƒ¦ï¼Œè€Œå¦‚æžœæˆ‘ä»¬å°†çƒ­æ°´å™¨çš„å¼•ç”¨ä¼ ç»™è­¦æŠ¥å™¨çš„æ–¹æ³•ï¼Œå°±å¯ä»¥åœ¨æ–¹æ³•ä¸­ç›´æŽ¥è®¿é—®çƒ­æ°´å™¨äº†ã€‚ çŽ°åœ¨æˆ‘ä»¬æ”¹å†™ä¹‹å‰çš„èŒƒä¾‹ï¼Œè®©å®ƒç¬¦åˆ .Net Framework çš„è§„èŒƒï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768using System;using System.Collections.Generic;using System.Text;namespace Delegate &#123; // çƒ­æ°´å™¨ public class Heater &#123; private int temperature; public string type = &quot;RealFire 001&quot;; // æ·»åŠ åž‹å·ä½œä¸ºæ¼”ç¤º public string area = &quot;China Xian&quot;; // æ·»åŠ äº§åœ°ä½œä¸ºæ¼”ç¤º //å£°æ˜Žå§”æ‰˜ public delegate void BoiledEventHandler(Object sender, BoiledEventArgs e); public event BoiledEventHandler Boiled; //å£°æ˜Žäº‹ä»¶ // å®šä¹‰BoiledEventArgsç±»ï¼Œä¼ é€’ç»™Observeræ‰€æ„Ÿå…´è¶£çš„ä¿¡æ¯ public class BoiledEventArgs : EventArgs &#123; public readonly int temperature; public BoiledEventArgs(int temperature) &#123; this.temperature = temperature; &#125; &#125; // å¯ä»¥ä¾›ç»§æ‰¿è‡ª Heater çš„ç±»é‡å†™ï¼Œä»¥ä¾¿ç»§æ‰¿ç±»æ‹’ç»å…¶ä»–å¯¹è±¡å¯¹å®ƒçš„ç›‘è§† protected virtual void OnBoiled(BoiledEventArgs e) &#123; if (Boiled != null) &#123; // å¦‚æžœæœ‰å¯¹è±¡æ³¨å†Œ Boiled(this, e); // è°ƒç”¨æ‰€æœ‰æ³¨å†Œå¯¹è±¡çš„æ–¹æ³• &#125; &#125; // çƒ§æ°´ã€‚ public void BoilWater() &#123; for (int i = 0; i &lt;= 100; i++) &#123; temperature = i; if (temperature &gt; 95) &#123; //å»ºç«‹BoiledEventArgs å¯¹è±¡ã€‚ BoiledEventArgs e = new BoiledEventArgs(temperature); OnBoiled(e); // è°ƒç”¨ OnBoliedæ–¹æ³• &#125; &#125; &#125; &#125; // è­¦æŠ¥å™¨ public class Alarm &#123; public void MakeAlert(Object sender, Heater.BoiledEventArgs e) &#123; Heater heater = (Heater)sender; //è¿™é‡Œæ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰å‘¢ï¼Ÿ //è®¿é—® sender ä¸­çš„å…¬å…±å­—æ®µ Console.WriteLine(&quot;Alarmï¼š&#123;0&#125; - &#123;1&#125;: &quot;, heater.area, heater.type); Console.WriteLine(&quot;Alarm: å˜€å˜€å˜€ï¼Œæ°´å·²ç» &#123;0&#125; åº¦äº†ï¼š&quot;, e.temperature); Console.WriteLine(); &#125; &#125; // æ˜¾ç¤ºå™¨ public class Display &#123; public static void ShowMsg(Object sender, Heater.BoiledEventArgs e) &#123; //é™æ€æ–¹æ³• Heater heater = (Heater)sender; Console.WriteLine(&quot;Displayï¼š&#123;0&#125; - &#123;1&#125;: &quot;, heater.area, heater.type); Console.WriteLine(&quot;Displayï¼šæ°´å¿«çƒ§å¼€äº†ï¼Œå½“å‰æ¸©åº¦ï¼š&#123;0&#125;åº¦ã€‚&quot;, e.temperature); Console.WriteLine(); &#125; &#125; class Program &#123; static void Main() &#123; Heater heater = new Heater(); Alarm alarm = new Alarm(); heater.Boiled += alarm.MakeAlert; //æ³¨å†Œæ–¹æ³• heater.Boiled += (new Alarm()).MakeAlert; //ç»™åŒ¿åå¯¹è±¡æ³¨å†Œæ–¹æ³• heater.Boiled += new Heater.BoiledEventHandler(alarm.MakeAlert); //ä¹Ÿå¯ä»¥è¿™ä¹ˆæ³¨å†Œ heater.Boiled += Display.ShowMsg; //æ³¨å†Œé™æ€æ–¹æ³• heater.BoilWater(); //çƒ§æ°´ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ³¨å†Œè¿‡å¯¹è±¡çš„æ–¹æ³• &#125; &#125;&#125; è¾“å‡ºä¸ºï¼š 123456789Alarmï¼šChina Xian - RealFire 001:Alarm: å˜€å˜€å˜€ï¼Œæ°´å·²ç» 96 åº¦äº†ï¼šAlarmï¼šChina Xian - RealFire 001:Alarm: å˜€å˜€å˜€ï¼Œæ°´å·²ç» 96 åº¦äº†ï¼šAlarmï¼šChina Xian - RealFire 001:Alarm: å˜€å˜€å˜€ï¼Œæ°´å·²ç» 96 åº¦äº†ï¼šDisplayï¼šChina Xian - RealFire 001:Displayï¼šæ°´å¿«çƒ§å¼€äº†ï¼Œå½“å‰æ¸©åº¦ï¼š96åº¦ã€‚// çœç•¥ ... æ€»ç»“åœ¨æœ¬æ–‡ä¸­æˆ‘é¦–å…ˆé€šè¿‡ä¸€ä¸ªGreetingPeopleçš„å°ç¨‹åºå‘å¤§å®¶ä»‹ç»äº†å§”æ‰˜çš„æ¦‚å¿µã€å§”æ‰˜ç”¨æ¥åšä»€ä¹ˆï¼ŒéšåŽåˆå¼•å‡ºäº†äº‹ä»¶ï¼ŒæŽ¥ç€å¯¹å§”æ‰˜ä¸Žäº‹ä»¶æ‰€äº§ç”Ÿçš„ä¸­é—´ä»£ç åšäº†ç²—ç•¥çš„è®²è¿°ã€‚ åœ¨ç¬¬äºŒä¸ªç¨å¾®å¤æ‚ç‚¹çš„çƒ­æ°´å™¨çš„èŒƒä¾‹ä¸­ï¼Œæˆ‘å‘å¤§å®¶ç®€è¦ä»‹ç»äº† Observerè®¾è®¡æ¨¡å¼ï¼Œå¹¶é€šè¿‡å®žçŽ°è¿™ä¸ªèŒƒä¾‹å®Œæˆäº†è¯¥æ¨¡å¼ï¼ŒéšåŽè®²è¿°äº†.Net Frameworkä¸­å§”æ‰˜ã€äº‹ä»¶çš„å®žçŽ°æ–¹å¼ã€‚ å‚è€ƒæ–‡ç« è½¬è½½è‡ªå¼ å­é˜³ -ã€Š.NETä¹‹ç¾Žã€‹]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‘½ä»¤è¡Œã€ç»ˆç«¯å’Œ Git çš„ä»£ç†è®¾ç½®]]></title>
    <url>%2F2017%2F10%2F31%2FProxy%20setting%20of%20CMD%3ATerminal%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ•´ç†äº† Windows å‘½ä»¤è¡Œ å’Œ Linux ç»ˆç«¯ä»¥åŠ Git ä¸­è®¾ç½®ä»£ç†çš„å‘½ä»¤ã€‚ä»¥æœ¬åœ° HTTP/HTTPS ä»£ç† 127.0.0.1:8118 å’Œ SOCKS5 ä»£ç† 127.0.0.1:1080 ä¸ºä¾‹ã€‚ Windows å‘½ä»¤è¡Œä»£ç†è®¾ç½®HTTP ä»£ç†è®¾ç½®ï¼š 12set http_proxy=http://127.0.0.1:8118set https_proxy=http://127.0.0.1:8118 SOCKS5 ä»£ç†è®¾ç½®ï¼š 12set http_proxy=socks5://127.0.0.1:1080set https_proxy=socks5://127.0.0.1:1080 å¯ä»¥é€šè¿‡ echo %http_proxy% å‘½ä»¤æŸ¥çœ‹æ˜¯å¦è®¾ç½®æˆåŠŸã€‚ å–æ¶ˆä»£ç†è®¾ç½®ï¼š 12set http_proxy=set https_proxy= Linux ç»ˆç«¯ä»£ç†è®¾ç½®ä¸´æ—¶ä»£ç†è®¾ç½®Linux ç»ˆç«¯è®¾ç½® HTTP ä»£ç†ï¼ˆåªå¯¹å½“å‰ç»ˆç«¯æœ‰æ•ˆï¼‰ï¼š 12$ export http_proxy=http://127.0.0.1:8118$ export https_proxy=http://127.0.0.1:8118 Linux ä¸­è®¾ç½® SOCKS5 ä»£ç†ï¼ˆåªå¯¹å½“å‰ç»ˆç«¯æœ‰æ•ˆï¼‰ï¼š 12$ export http_proxy=socks5://127.0.0.1:1080$ export https_proxy=socks5://127.0.0.1:1080 è®¾ç½®ç»ˆç«¯ä¸­çš„ wgetã€curl ç­‰éƒ½èµ° SOCKS5 ä»£ç†ï¼ˆåªå¯¹å½“å‰ç»ˆç«¯æœ‰æ•ˆï¼‰ï¼š 1$ export ALL_PROXY=socks5://127.0.0.1:1080 Linux ç»ˆç«¯ä¸­å–æ¶ˆä»£ç†è®¾ç½®ï¼š 123$ unset http_proxy$ unset https_proxy$ unset ALL_RPOXY æ°¸ä¹…ä»£ç†è®¾ç½®å°†ä»£ç†å‘½ä»¤å†™å…¥é…ç½®æ–‡ä»¶ ~/.profile æˆ– ~/.bashrc æˆ– ~/.zshrc ä¸­ï¼š 123# HTTP ä»£ç†è®¾ç½®export http_proxy=http://127.0.0.1:8118export https_proxy=http://127.0.0.1:8118 æˆ– 123# SOCKS5 ä»£ç†è®¾ç½®export http_proxy=socks5://127.0.0.1:1080export https_proxy=socks5://127.0.0.1:1080 æˆ– 12# å¼ºåˆ¶ç»ˆç«¯ä¸­çš„ wgetã€curl ç­‰éƒ½èµ° SOCKS5 ä»£ç†export ALL_PROXY=socks5://127.0.0.1:1080 æˆ–ç®€åŒ–æ“ä½œ 1alias pc="export ALL_PROXY=socks5://127.0.0.1:1080; echo 'Proxy on';" Git è®¾ç½®ä»£ç†ä»£ç†æ ¼å¼ [protocol://][user[:password]@]proxyhost[:port]å‚è€ƒ https://git-scm.com/docs/git-config è®¾ç½® HTTP ä»£ç†ï¼š 12git config --global http.proxy http://127.0.0.1:8118git config --global https.proxy http://127.0.0.1:8118 è®¾ç½® SOCKS5 ä»£ç†ï¼š 12git config --global http.proxy socks5://127.0.0.1:1080git config --global https.proxy socks5://127.0.0.1:1080 Git å–æ¶ˆä»£ç†è®¾ç½®ï¼š 12git config --global --unset http.proxygit config --global --unset https.proxy]]></content>
      <categories>
        <category>Tutorial</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>Terminal</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆæ­¥äº†è§£ Swift ä¸­çš„å¯é€‰ç±»åž‹å’Œæ–¹æ³•å‡½æ•°]]></title>
    <url>%2F2017%2F10%2F25%2FOptional%20types%20and%20method%20functions%20in%20Swift%2F</url>
    <content type="text"><![CDATA[å¯é€‰ç±»åž‹å’Œè§£åŒ…Swiftä¸­ï¼Œåœ¨æ•°ç»„çš„æ–¹æ‹¬å·å†…å¿…é¡»å†™ä¸Šç±»åž‹ï¼Œæˆ–è€…åœ¨ArrayåŽé¢çš„å°–æ‹¬å·&lt;&gt;å†…å†™ä¸Šç±»åž‹ã€‚ å¯¹äºŽå­—å…¸è€Œè¨€ï¼Œä½ ä¸€å…±éœ€è¦æä¾›ä¸¤ä¸ªç±»åž‹ï¼Œä¸€ä¸ªç”¨äºŽé”®ï¼Œè€Œå¦ä¸€ä¸ªç”¨äºŽå€¼ã€‚ Swiftè¦æ±‚æ‰€æœ‰çš„å˜é‡å’Œå¸¸é‡éƒ½å¿…é¡»æœ‰å€¼ã€‚ä½ å¯ä»¥åœ¨å£°æ˜Žå®ƒä»¬çš„æ—¶å€™ç»™å®ƒä»¬æŒ‡å®šä¸€ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡initæ–¹æ³•ç»™å®ƒä»¬åˆ†é…å€¼ã€‚ æœ‰æ—¶ï¼Œä½ éœ€è¦ä¸€ä¸ªå˜é‡å¯ä»¥æ²¡æœ‰å€¼ï¼Œè¿™ç§æƒ…å†µï¼Œä½ éœ€è¦å°†å˜é‡å£°æ˜Žä¸ºå¯é€‰åž‹ï¼š 1var checklistToEdit: Checklist? å¯æ˜¯ä½ ä¸èƒ½ç›´æŽ¥ä½¿ç”¨è¿™ç§ç±»åž‹çš„å˜é‡ï¼Œä½ å¿…é¡»åœ¨ä½¿ç”¨å®ƒä»¬ä¹‹å‰ï¼Œä¾¦æµ‹ä¸€ä¸‹å…¶ä¸­æ˜¯å¦æœ‰å€¼ï¼Œè¿™ä¸ªè¡Œä¸ºå°±å«åšå¯é€‰åž‹è§£åŒ…ï¼š 12345if let checklist = checklistToEdit &#123; // â€œchecklistâ€ now contains the real object&#125; else &#123; // the optional was nil&#125; ä¸‹é¢ä¾‹å­ä¸­çš„å˜é‡ageå°±æ˜¯ä¸€ä¸ªå¯é€‰åž‹ï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•ä¿è¯è¯´å­—å…¸ä¸­å­˜åœ¨ä¸€ä¸ªåä¸ºâ€Jony Iveâ€çš„é”®ï¼Œæ‰€ä»¥ageçš„ç±»åž‹æ˜¯Int?ï¼Œè€Œä¸æ˜¯Intï¼š 123if let age = dict["Jony Ive"] &#123;// ä½¿ç”¨ageå˜é‡&#125; å¦‚æžœä½ 100%çš„ç¡®å®šå­—å…¸ä¸­å­˜åœ¨ä¸€ä¸ªå«åšâ€Jony Iveâ€çš„é”®çš„è¯ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥å¯¹ageå˜é‡è¿›è¡Œå¼ºåˆ¶è§£åŒ…ï¼š 1var age = dict["Jony Ive"]! ä½ ä½¿ç”¨æ„Ÿå¹å·!æ¥é€šçŸ¥Swiftï¼Œâ€œè¿™ä¸ªå¯é€‰åž‹ä¸ä¼šä¸ºnilï¼Œæˆ‘ç”¨æˆ‘çš„åèª‰æ‰“èµŒï¼â€ï¼Œå½“ç„¶ï¼Œå¦‚æžœä½ é”™äº†çš„è¯ï¼Œè¿™ä¸ªå˜é‡çš„å€¼ä¸ºnilï¼Œé‚£ä¹ˆappå°±ä¼šæŒ‚æŽ‰ï¼Œä½ ä¹Ÿå°±åèª‰æ‰«åœ°äº†ï¼Œæ‰€ä»¥ä½ åœ¨ä½¿ç”¨å¼ºåˆ¶è§£åŒ…çš„æ—¶å€™ä¸€å®šè¦å°å¿ƒã€‚ å¦ä¸€ç§ç¨å¾®å®‰å…¨ç‚¹çš„å¼ºåˆ¶è§£åŒ…æ–¹å¼å«åšå¯é€‰åž‹é“¾æŽ¥ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„è¯­å¥ä¼šåœ¨navigationControllerä¸ºnilæ—¶æŠŠappæŒ‚æŽ‰ã€‚ 1navigationController!.delegate = self ä½†æ˜¯åƒè¿™æ ·åšåˆ™ä¸ä¼šæŠŠappæŒ‚æŽ‰ï¼š 1navigationController?.delegate = self ä½äºŽé—®å·åŽé¢çš„ä»»ä½•ä¸œè¥¿ï¼Œéƒ½ä¼šåœ¨navigationControllerä¸ºnilæ—¶æŠŠå®ƒå¿½è§†æŽ‰ã€‚è¿™ä¸ªä½¿ç”¨é—®å·å¼ºåˆ¶è§£åŒ…çš„è¯­å¥ç­‰ä»·äºŽä¸‹é¢çš„è¯­å¥ï¼š 123if navigationController != nil &#123; navigationController!.delegate = self&#125; åœ¨å£°æ˜Žå¯é€‰åž‹çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥ç”¨æ„Ÿå¹å·æ¥ä»£æ›¿é—®å·ï¼Œè¿™æ ·å°±æ˜¯ä¸€ä¸ªéšå¼è§£åŒ…å¯é€‰åž‹äº†ï¼š 1var dataModel: DataModel! è¿™æ ·çš„å˜é‡ä¼šå¸¦æ¥æ½œåœ¨çš„å±é™©ï¼Œå› ä¸ºä½ å¯ä»¥å¦‚åŒä½¿ç”¨å¸¸è§„å˜é‡é‚£æ ·ç›´æŽ¥ä½¿ç”¨å®ƒï¼Œå¹¶ä¸éœ€è¦å…ˆè§£åŒ…ã€‚ä¸€æ—¦å¦‚æžœå®ƒçš„å€¼ä¸ºç©ºï¼Œé‚£ä¹ˆappå°±æŒ‚äº†ã€‚è€Œå½“ä½¿ç”¨çš„å¸¸è§„å˜é‡ä¸ºç©ºæ—¶ï¼Œç¼–è¯‘å™¨åˆ™ä¼šæç¤ºä½ è¯¥æ€Žä¹ˆåšã€‚ å¯é€‰åž‹å¹³æ—¶è¢«åŒ…è£¹èµ·æ¥ï¼Œä»¥é¿å…appå´©æºƒï¼Œä½†æ˜¯ä½¿ç”¨äº†æ„Ÿå¹å·ä»¥åŽï¼Œå°±è§£é™¤äº†å¯é€‰åž‹çš„å®‰å…¨çº§åˆ«ã€‚ ç„¶è€Œï¼Œæœ‰æ—¶ä½¿ç”¨éšå¼è§£åŒ…å¯é€‰åž‹æ¯”ä½¿ç”¨å¯é€‰åž‹è¦æ–¹ä¾¿ä¸€äº›ã€‚å½“ä½ æ— æ³•ç»™ä¸€ä¸ªå˜é‡åˆå§‹å€¼ï¼Œä¹Ÿæ— æ³•ç”¨initæ–¹æ³•å¯¹å…¶åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä½ å°±ä¼šéœ€è¦åˆ°è¿™ç§éšå¼è§£åŒ…å¯é€‰åž‹ã€‚ å¦‚æžœä½ ç»™äº†ä¸€ä¸ªå˜é‡ä¸€ä¸ªå€¼åŽï¼Œå°±ä¸åº”è¯¥å†ä½¿å®ƒä¸ºnilï¼Œå¦‚æžœä¸€ä¸ªå˜é‡å¯ä»¥ä»Žæœ‰å€¼å˜ä¸ºnilï¼Œé‚£ä¹ˆä½ æœ€å¥½è¿˜æ˜¯ä½¿ç”¨ç”¨é—®å·å£°æ˜Žçš„å¯é€‰åž‹ã€‚ æ–¹æ³•ä¸Žå‡½æ•°ï¼ˆMethods and functionsï¼‰æœ‰è¿™æ ·çš„ä¸€ç§å¯¹è±¡ï¼Œå®ƒæ˜¯æ‰€æœ‰appçš„åŸºç¡€ç»„æˆéƒ¨åˆ†ï¼ŒåŒæ—¶å…·æœ‰æ•°æ®å’ŒåŠŸèƒ½ã€‚å®žä¾‹å˜é‡åŠå¸¸é‡æä¾›æ•°æ®ï¼Œæ–¹æ³•æä¾›åŠŸèƒ½ã€‚ æ–¹æ³•çš„è¿”å›žå€¼å½“ä½ è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œappå°±ä¼šè·³è½¬åˆ°æ–¹æ³•ä¸­ï¼Œé€æ¡çš„æ‰§è¡Œå…¶ä¸­çš„è¯­å¥ï¼Œå½“æ–¹æ³•ä¸­æœ€åŽä¸€æ¡è¯­å¥è¢«æ‰§è¡Œå®Œæ¯•åŽï¼Œappå°±ä¼šä¼šåˆ°ä¹‹å‰ç¦»å¼€çš„åœ°æ–¹ï¼š 12345678let result = performUselessCalculation(314)print(result)...func performUselessCalculation(_ a: Int) -&gt; Int &#123; var b = Int(arc4random_uniform(100)) var c = a / 2 return (a + b) * c&#125; æ–¹æ³•ç»å¸¸ä¼šè¿”å›žä¸€ä¸ªå€¼ç»™è°ƒç”¨è€…ï¼Œæ¯”å¦‚ä¸€ä¸ªè®¡ç®—ç»“æžœæˆ–è€…ä»Žä¸€ä¸ªé›†åˆä¸­æ‰¾åˆ°çš„ä¸€ä¸ªå¯¹è±¡ã€‚è¿”å›žå€¼çš„ç±»åž‹ä¼šå†™åœ¨-&gt;ç¬¦å·çš„åŽé¢ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œè¿”å›žå€¼çš„ç±»åž‹æ˜¯Intã€‚å¦‚æžœä¸å­˜åœ¨-&gt;è¿™ä¸ªç¬¦å·ï¼Œé‚£ä¹ˆå°±æ˜¯è¯´è¿™ä¸ªæ–¹æ³•ä¸è¿”å›žä»»ä½•å€¼ã€‚ æ–¹æ³•çš„è°ƒç”¨æ–¹æ³•å°±æ˜¯å±žäºŽæŸä¸€ç‰¹å®šå¯¹è±¡çš„å‡½æ•°ï¼ŒSwiftä¸­ä¹Ÿå­˜åœ¨ç‹¬ç«‹çš„å‡½æ•°ï¼Œæ¯”å¦‚print()æˆ–è€…arc4random_uniform()ã€‚ å‡½æ•°å’Œæ–¹æ³•çš„å·¥ä½œåŽŸç†ä¸€æ ·ï¼Œä¸€ä¸ªå¯é‡å¤ä½¿ç”¨çš„åŠŸèƒ½å—ï¼Œä½†æ˜¯å‡½æ•°ä¸å±žäºŽä»»ä½•å¯¹è±¡ã€‚åƒè¿™ç§å‡½æ•°ä¹Ÿè¢«ç§°ä¸ºè‡ªç”±å‡½æ•°æˆ–è€…å…¨å±€å‡½æ•°ã€‚ ä¸‹é¢æ˜¯ä¸€äº›å…³äºŽæ–¹æ³•çš„ä¾‹å­ï¼š 123456789101112131415161718192021222324// è¿™ä¸ªæ–¹æ³•æ²¡æœ‰è¿”å›žå€¼åŠå‚æ•°çš„æ–¹æ³•override func viewDidLoad()// è¿™ä¸ªæ–¹æ³•æœ‰ä¸€ä¸ªsliderå‚æ•°ï¼Œä½†æ˜¯ä¸€æ ·æ²¡æœ‰è¿”å›žå€¼// å…³é”®å­—@IBActionæ„å‘³ç€è¿™ä¸ªæ–¹æ³•å¯ä»¥è¢«è¿žæŽ¥åˆ°ç•Œé¢å»ºé€ å™¨çš„æŽ§ä»¶ä¸Š@IBAction func sliderMoved(_ slider: UISlider)// è¿™ä¸ªæ–¹æ³•æ²¡æœ‰å‚æ•°ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªIntåž‹çš„è¿”å›žå€¼func countUncheckedItems() -&gt; Int// è¿™ä¸ªæ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œcellå’Œitemï¼Œä½†æ˜¯æ²¡æœ‰è¿”å›žå€¼// æ³¨æ„ä¸€ä¸‹ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æœ‰ä¸€ä¸ªå¤–éƒ¨åç§°forï¼Œè€Œç¬¬äºŒä¸ªå‚æ•°æœ‰ä¸€ä¸ªå¤–éƒ¨åç§°withfunc configureCheckmarkFor(for cell: UITableViewCell, with item: ChecklistItem)// è¿™ä¸ªæ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°, tableViewå’Œsection. å¹¶ä¸”æœ‰ä¸€ä¸ªIntåž‹çš„è¿”å›žå€¼ã€‚// ç¬¬ä¸€ä¸ªå‚æ•°å‰çš„ä¸‹åˆ’çº¿ä»£è¡¨è¿™ä¸ªå‚æ•°æ²¡æœ‰å¤–éƒ¨åç§°ã€‚override func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int// è¿™ä¸ªæ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°, tableViewå’ŒindexPath.// é—®å·ä»£è¡¨å®ƒè¿”å›žä¸€ä¸ªä¸ºå¯é€‰åž‹çš„IndexPathå¯¹è±¡ã€‚override func tableView(_ tableView: UITableView, willSelectRowAt indexPath: IndexPath) -&gt; IndexPath? åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šè°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œè¯­æ³•æ˜¯object.method(parameters)ã€‚ä¾‹å¦‚ï¼š 1234// Calling a method on the lists object:lists.append(checklist)// Calling a method with more than one parameter:tableView.insertRows(at: indexPaths, with: .fade) ä½ å¯ä»¥æŠŠè°ƒç”¨æ–¹æ³•æƒ³è±¡ä¸ºä»Žä¸€ä¸ªå¯¹è±¡å‘å¦ä¸€ä¸ªå¯¹è±¡ä¼ é€’æ¶ˆæ¯ï¼šâ€œå—¨ listsï¼Œæˆ‘ä»Žchecklistå¯¹è±¡ä¸­å‘ä½ å‘é€äº†appendçš„æ¶ˆæ¯ã€‚â€ ä½ è°ƒç”¨æ¶ˆæ¯æ‰€å±žçš„å¯¹è±¡è¢«ç§°ä¸ºæ¶ˆæ¯çš„æŽ¥æ”¶è€…ã€‚ ä»ŽåŒä¸€ä¸ªå¯¹è±¡ä¸­è°ƒç”¨æ–¹æ³•éžå¸¸å¸¸è§ï¼Œä¸‹é¢çš„ä¾‹å­ä¸­ï¼ŒloadChecklists()è°ƒç”¨äº†sortChecklists()ã€‚å®ƒä»¬éƒ½æ˜¯DataModelå¯¹è±¡ä¸­çš„æˆå‘˜ï¼š 123456789class DataModel &#123; func loadChecklists() &#123; ... sortChecklists() &#125; func sortChecklists() &#123; ... &#125;&#125; æœ‰æ—¶ä½ ä¼šå†™ä¸ºä¸‹é¢è¿™ä¸ªæ ·å­ï¼š 1234func loadChecklists() &#123; ... self.sortChecklists()&#125; å…³é”®å­—selfæ¸…æ™°çš„è¡¨æ˜Žäº†DataModelå¯¹è±¡è‡ªå·±æ˜¯è¿™ä¸ªæ¶ˆæ¯çš„æŽ¥å—è€…ã€‚ âš ï¸ï¼šåœ¨æˆ‘ä»¬çš„è¯¾ç¨‹ä¸­ï¼Œè°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œæˆ‘çœç•¥äº†selfå…³é”®å­—ï¼Œå› ä¸ºå¹¶ä¸æ˜¯å¿…é¡»è¦è¿™æ ·åšã€‚Object-Cå¼€å‘è€…ä¼šéžå¸¸ä¹æ„åœ¨æ¯ä¸ªåœ°æ–¹éƒ½å†™ä¸Šselfï¼Œæ‰€ä»¥ä½ ä¹Ÿè®¸ä¼šè§åˆ°å®ƒåœ¨Swiftä¸­ä¹Ÿè¢«å¤§é‡ä½¿ç”¨ã€‚åˆ°åº•å†™ä¸Žä¸å†™ï¼Œè¿™æ˜¯ç¨‹åºå‘˜é—´å¯ä»¥å¼•å‘æˆ˜äº‰çš„ä¸€ä¸ªè¯é¢˜ï¼Œä½†æ˜¯æ— è®ºå¦‚ä½•ï¼Œappå¹¶ä¸æ˜¯å¤ªå…³å¿ƒè¿™ç‚¹ã€‚ åœ¨ä¸€ä¸ªæ–¹æ³•çš„å†…éƒ¨ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨selfå…³é”®å­—æ¥å¼•ç”¨è¿™ä¸ªå¯¹è±¡è‡ªå·±ï¼š 123@IBAction func cancel() &#123; delegate?.itemDetailViewControllerDidCancel(self)&#125; è¿™é‡Œcancel()æ–¹æ³•å°†å¯¹è±¡è‡ªèº«çš„å¼•ç”¨å‘é€ç»™delegateï¼Œæ‰€ä»¥delegateçŸ¥é“è°å‘é€äº†è¿™ä¸ªitemDetailViewControllerDidCancel()æ¶ˆæ¯ã€‚ åŒæ—¶æ³¨æ„ä¸€ä¸‹è¿™é‡Œçš„å¯é€‰åž‹é“¾æŽ¥ã€‚è¿™ä¸ªdelegateå±žæ€§æ˜¯ä¸ªå¯é€‰åž‹ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ä¸ºnilã€‚åœ¨è°ƒç”¨æ–¹æ³•å‰ä½¿ç”¨ä¸€ä¸ªé—®å·æ¥ç¡®ä¿delegateä¸ºnilæ—¶ï¼Œappä¸ä¼šæŒ‚æŽ‰ã€‚ æ–¹æ³•çš„å‚æ•°æ–¹æ³•ç»å¸¸ä¼šå…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œæ‰€ä»¥ä½ å¯ä»¥è®©å®ƒä»¬æŽ¥æ”¶ä¸åŒæ•°æ®æºä¸Šçš„æ•°æ®ã€‚ä¸€ä¸ªè¢«é™å®šäº†æ•°æ®æºçš„æ–¹æ³•ï¼Œå°±ä¸ä¼šéžå¸¸æœ‰ä»·å€¼ã€‚ä¾‹å¦‚ä¸‹é¢çš„sumValuesFormArray()æ–¹æ³•ï¼Œå®ƒæ²¡æœ‰å‚æ•°ï¼š 12345678910class MyObject &#123; var numbers = [Int]() func sunValuesFromArray() -&gt; Int &#123; var total = 0 for number in numbers &#123; total += number &#125; return total &#125;&#125; è¿™é‡Œï¼Œnumbersæ˜¯ä¸€ä¸ªå®žä¾‹å˜é‡ã€‚æ–¹æ³•sumValuesFromArray()è¢«è¿™ä¸ªå®žä¾‹å˜é‡ç»‘å®šæ­»äº†ï¼Œå¦‚æžœè¿™ä¸ªå˜é‡ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°±æ²¡ç”¨äº†ã€‚ å‡è®¾ä½ åœ¨è¿™ä¸ªappä¸­æ·»åŠ äº†ç¬¬äºŒæ•°ç»„ï¼Œä¹Ÿæƒ³è¦åº”ç”¨ä¸Šé¢çš„è®¡ç®—ï¼Œæ–¹æ³•ä¹‹ä¸€æ˜¯æŠŠè¿™ä¸ªæ–¹æ³•å¤åˆ¶ä¸€éï¼Œé‡æ–°å‘½åä¸ºä¸€ä¸ªæ–°çš„æ–¹æ³•æ¥å¤„ç†è¿™ä¸ªæ–°çš„æ•°ç»„ã€‚è¿™æ ·åšç¡®å®žå¯è¡Œï¼Œä½†æ˜¯è€…çœ‹èµ·æ¥ä¸é‚£ä¹ˆèªæ˜Žã€‚ å¦ä¸€ä¸ªå¥½ä¸€ç‚¹çš„é€‰æ‹©æ˜¯ï¼Œç»™è¿™ä¸ªæ–¹æ³•ä¸€ä¸ªå‚æ•°ï¼Œä½¿å¾—ä½ å¯ä»¥ä¼ é€ä»»ä½•ä½ æƒ³è¦è®¡ç®—çš„æ•°ç»„ï¼Œè¿™æ ·ï¼Œè¿™ä¸ªæ–¹æ³•å°±ä»Žå®žä¾‹å˜é‡ä¸­è§£æ”¾å‡ºæ¥äº†ï¼š 1234567func sumValues(from array: [Int]) -&gt; Int &#123; var total = 0 for number in array &#123; total += number &#125; return total&#125; çŽ°åœ¨ä½ å¯ä»¥ç”¨ä»»ä½•æ•´æ•°åž‹çš„æ•°ç»„ä½œä¸ºå®ƒçš„å‚æ•°äº†ã€‚ è¿™å¹¶ä¸æ˜¯è¯´æ–¹æ³•ä¸åº”è¯¥ä½¿ç”¨å®žä¾‹å˜é‡ï¼Œåªæ˜¯è¯´ä½ æƒ³è¦ä¸€ä¸ªæ–¹æ³•çš„åº”ç”¨æ›´åŠ å¹¿æ³›ï¼Œé‚£ä¹ˆç»™å®ƒä¸€ä¸ªå‚æ•°æ˜¯ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚ æ–¹æ³•çš„å‚æ•°ç»å¸¸ä¼šæœ‰ä¸¤ä¸ªåå­—ï¼Œä¸€ä¸ªå¤–éƒ¨åç§°ï¼Œä¸€ä¸ªå†…éƒ¨åç§°ï¼Œä¾‹å¦‚ï¼š 123func downloadImage(for searchResult: SearchResult,withTimeout timeout: TimeInterval,andPlaceOn button: UIButton) &#123; ...&#125; è¿™ä¸ªæ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°ï¼šsearchResultï¼Œtimeoutå’Œbuttonã€‚è¿™äº›æ˜¯å†…éƒ¨åç§°ï¼Œä½ åœ¨æ–¹æ³•çš„å†…éƒ¨ç”¨è¿™äº›åç§°æ¥è°ƒç”¨å‚æ•°ã€‚ æ–¹æ³•çš„å¤–éƒ¨åç§°æ˜¯æ–¹æ³•åç§°çš„ä¸€éƒ¨åˆ†ã€‚æ‰€ä»¥è¿™ä¸ªæ–¹æ³•çš„å…¨åæ˜¯downloadImage(for,withTimeout,andPlaceOn)ï¼ŒSwiftä¸­çš„æ–¹æ³•åç§°ç»å¸¸ä¼šç‰¹åˆ«çš„é•¿ã€‚ è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œä½ éœ€è¦ä½¿ç”¨å¤–éƒ¨åç§°ï¼š 1downloadImage(for:result,withTimeout:10,andPlaceButton) æœ‰æ—¶ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªæ–¹æ³•å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ²¡æœ‰å¤–éƒ¨åç§°ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸€ä¸ªä¸‹åˆ’çº¿ï¼š 1override func tableView(_ tableView: UITableView,numberOfRowsInSection section: Int)-&gt; Int è¿™ç§æƒ…å†µç»å¸¸å‡ºçŽ°åœ¨å§”æ‰˜æ–¹æ³•ä¸­ï¼Œå®ƒæ˜¯Object-Cçš„é—ç•™ç‰©ï¼Œç¬¬ä¸€ä¸ªå‚æ•°çš„å†…éƒ¨å’Œå¤–éƒ¨åç§°éƒ½ä¼šè¢«åŒ…å«åœ¨æ–¹æ³•åç§°ä¸­ï¼Œæ¯”å¦‚åœ¨Object-Cä¸­downloadImage()æ–¹æ³•çš„å…¨åä¼šæ˜¯downloadImageForSearchResultã€‚åƒè¿™æ ·çš„å‘½åæ–¹å¼ï¼Œä»¥åŽä¼šéžå¸¸å°‘è§ã€‚ å¦‚æžœæ˜¯åœ¨Object-Cä¸­ï¼Œè¿™ä¸ªæ–¹æ³•çš„åç§°ä¼šæ˜¯tableViewTableVIewï¼Œéžå¸¸å¤æ€ªæ˜¯å§ï¼Œè€ŒSwiftä¸­ï¼Œä»¥ä¸‹åˆ’çº¿ä»£æ›¿å¤–éƒ¨åç§°æ—¶ï¼Œæ–¹æ³•åç§°ä¸­å°±å¯ä»¥çœç•¥è¿™ä¸ªå‚æ•°çš„å¤–éƒ¨åç§°ï¼Œåœ¨Swiftä¸­ï¼Œè¿™ä¸ªæ–¹æ³•çš„å…¨åæ˜¯tableView(numberOfRowsInSection)ã€‚è¿™æ ·æ˜¯ä¸æ˜¯å®¹æ˜“æ˜Žç™½å¤šäº†ï¼ŸSwiftåœ¨å¯¹æ–¹æ³•å‘½åæ—¶æ›´åŠ çµæ´»ï¼Œä½†å®ƒè¿˜æ˜¯ä¼šä¿ç•™ä¸€äº›æ—§çš„æƒ¯ä¾‹ã€‚ å¾ªçŽ¯å’Œåˆ¤æ–­åœ¨ä¸€ä¸ªæ–¹æ³•çš„å†…éƒ¨ï¼Œä½ å¯ä»¥åšä»¥ä¸‹äº‹æƒ…ï¼š åˆ›å»ºå±€éƒ¨å˜é‡æˆ–è€…å¸¸é‡ è¿›è¡ŒåŸºæœ¬çš„æ•°å­¦è¿ç®—ï¼Œæ¯”å¦‚åŠ å‡ä¹˜é™¤ å°†ä¸€ä¸ªæ–°çš„å€¼æ”¾å…¥å˜é‡ï¼ˆå±€éƒ¨å˜é‡æˆ–å®žä¾‹å˜é‡ï¼‰ è°ƒç”¨å…¶ä»–æ–¹æ³• ä½¿ç”¨ifæˆ–è€…switchä½œå‡ºåˆ¤æ–­ ç”¨foræˆ–è€…whileè¿›è¡Œå¾ªçŽ¯å¤„ç† è¿”å›žä¸€ä¸ªå€¼ç»™è°ƒç”¨è€… è®©æˆ‘ä»¬æ¥çœ‹çœ‹ifå’Œforè¯­å¥çš„æ›´å¤šç»†èŠ‚ã€‚ åˆ¤æ–­ifè¯­å¥ifè¯­å¥çš„åŸºæœ¬ç»“æž„æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š 1234567if count == 0 &#123; text = "No Items"&#125; else if count == 1 &#123; text = "1 Item"&#125; else &#123; text = "\(count) Items"&#125; ifåŽé¢çš„è¡¨è¾¾å¼ç§°ä¹‹ä¸ºæ¡ä»¶ã€‚å¦‚æžœæ¡ä»¶ä¸ºçœŸï¼Œé‚£ä¹ˆifåŽé¢èŠ±æ‹¬å·å†…çš„è¯­å¥ä¼šè¢«æ‰§è¡Œã€‚å¦‚æžœæ²¡æœ‰ä¸€ä¸ªæ¡ä»¶ä¸ºçœŸï¼Œé‚£ä¹ˆæœ€åŽä¸€ä¸ªelseåŽé¢çš„èŠ±æ‹¬å·å†…çš„è¯­å¥ä¼šè¢«æ‰§è¡Œã€‚ é€šè¿‡ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦æ¥å¯¹ä¸¤ä¸ªå€¼è¿›è¡Œæ¯”è¾ƒï¼š == ç­‰äºŽ != ä¸ç­‰äºŽ &lt; å°äºŽ &lt;= å°äºŽç­‰äºŽ &gt; å¤§äºŽ &gt;= å¤§äºŽç­‰äºŽ ä½¿ç”¨ç­‰äºŽæ“ä½œæ—¶ï¼Œè¢«æ¯”è¾ƒçš„ä¸¤ä¸ªå¯¹è±¡ä»…åœ¨ç›¸ç­‰æ—¶è¿”å›žtrueï¼Œæ¯”å¦‚ï¼š 123let a = "Hello,world"let b = "Hello," + "world"print(a == b) //æ‰“å°ç»“æžœä¸ºtrue è¿™ä¸ªå’ŒObject-Cæœ‰æ‰€ä¸åŒï¼Œåœ¨Object-Cä¸­ï¼Œå¿…é¡»ä¸¤ä¸ªå¯¹è±¡æ˜¯å†…å­˜ä¸­çš„åŒä¸€ä¸ªå®žä¾‹ï¼Œæ‰ä¼šè¿”å›žä¸ºtrueã€‚è€ŒSwiftä¸­çš„==æ“ä½œï¼Œä»…ä»…æ˜¯æ¯”è¾ƒå¯¹è±¡çš„å€¼ï¼Œè€Œä¸ç®¡å®ƒåœ¨å†…å­˜ä¸­æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æžœåœ¨Swiftä¸­åƒåšè¿™ä¸ªæ“ä½œçš„è¯ï¼Œéœ€è¦ä½¿ç”¨è¿ç®—ç¬¦ ===ï¼Œä¸‰ä¸ªç­‰å·ã€‚ ä½ è¿˜å¯ä»¥ä½¿ç”¨é€»è¾‘æ“ä½œç¬¦æ¥è¿žæŽ¥ä¸¤ä¸ªè¡¨è¾¾å¼ï¼š &amp;&amp; ä¸Žæ“ä½œï¼Œa &amp;&amp; bå¿…é¡»åœ¨aå’Œbéƒ½ä¸ºtrueæ—¶æ‰è¿”å›žtrue || æˆ–æ“ä½œç¬¦ï¼Œa || bå½“aï¼Œbå…¶ä¸­ä¹‹ä¸€ä¸ºtrueæ—¶ï¼Œè¿”å›ž`true`` `ï¼ é€»è¾‘éžæ“ä½œç¬¦ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†åŽŸæœ¬çš„trueè½¬ä¸ºfalseï¼ŒåŽŸæœ¬çš„falseè½¬ä¸ºtrueã€‚ ä¸è¦å’Œå¯é€‰åž‹å¼„æ··äº†ï¼Œé€»è¾‘éžæ“ä½œç¬¦å‡ºçŽ°åœ¨å¯¹è±¡çš„å‰é¢ï¼Œè€Œå¯é€‰åž‹çš„æ„Ÿå¹å·å‡ºçŽ°åœ¨å¯¹è±¡çš„åŽé¢ å¯ä»¥ä½¿ç”¨æ‹¬å·()æ¥å¯¹è¡¨è¾¾å¼åˆ†ç»„ï¼š 123if ((this &amp;&amp; that) || (such &amp;&amp; so)) &amp;&amp; !other &#123;...&#125; å®ƒè¯»ä½œï¼š 123if ((this and that) or (such and so)) and not other &#123;...&#125; ä¸ºäº†çœ‹èµ·æ¥æ›´åŠ æ¸…æ™°ä¸€äº›ï¼Œæˆ‘ä»¬å†™çš„æœ‰å±‚æ¬¡ä¸€ç‚¹ï¼š 1234567if ( (this and that) or (such and so))and (not other) switchè¯­å¥å½“ç„¶ï¼Œä½ å¼„çš„è¶Šå¤æ‚ï¼Œè¶Šéš¾è®°æ¸…æ¥šè‡ªå·±åœ¨åšä»€ä¹ˆï¼ Swiftä¸­è¿˜æœ‰ä¸€ç§éžå¸¸å¼ºå¤§çš„ç»“æž„ï¼Œå¯ä»¥ç”¨æ¥åšå‡ºåˆ¤æ–­ï¼Œé‚£å°±æ˜¯switchè¯­å¥ï¼š 123456789switch condition &#123; case value1: //è¯­å¥ case value2: //è¯­å¥ case value3: //è¯­å¥ default: //è¯­å¥ å®ƒçš„æ•ˆæžœå’Œå¤šä¸ªif elseçš„æ•ˆæžœæ˜¯ä¸€è‡´çš„ï¼Œä¸Šé¢çš„ä»£ç ç­‰åŒäºŽï¼š 123456789if condition == value1 &#123; //è¯­å¥&#125; else if condition == value2 &#123; //è¯­å¥&#125; else if condition == value3 &#123; //è¯­å¥&#125; else &#123; //è¯­å¥&#125; ç›¸è¾ƒä¹‹ä¸‹ï¼Œswitchåœ¨è¿™ç§æƒ…å†µä¸­æ›´åŠ ä¾¿åˆ©ï¼Œè€Œä¸”æ„æ€æ¸…æ™°ã€‚è€Œä¸”Swiftç‰ˆçš„switchæ¯”Object-Cç‰ˆçš„æ›´åŠ å¼ºå¤§ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨åŒºé—´èŒƒå›´ï¼š 123456789switch difference &#123; case 0: title = "Perfect!" case 1..&lt;5: title = "You almost had it!" case 5..&lt;10: title = "Pretty good!" default: title = "Not even close..." è¿™é‡Œçš„..&lt;æ˜¯åŠå¼€åŒºé—´æ“ä½œç¬¦ã€‚å®ƒå¯ä»¥åˆ›å»ºä¸¤ä¸ªå€¼ä¹‹é—´çš„åŒºé—´ï¼Œå…¶ä¸­çš„å€¼éƒ½æ˜¯ä¸é‡å¤çš„ï¼ŒåŠå¼€åŒºé—´1..&lt;5ç­‰ä»·äºŽé—­åŒºé—´1...4ã€‚ æœ‰æ—¶ä½ ä¼šçœ‹åˆ°ä¸‹é¢è¿™ä¸ªæ ·å­çš„ä»£ç ï¼š 1234567891011121314func someMethod() &#123; if condition1 &#123; if condition2 &#123; if condition3 &#123; //è¯­å¥ &#125; else &#123; //è¯­å¥ &#125; &#125; else &#123; //è¯­å¥ &#125; else &#123; //è¯­å¥ &#125;&#125; è¿™ç§ä»£ç éžå¸¸éš¾è¯»ï¼Œæˆ‘å–œæ¬¢å°†å®ƒä»¬é‡æž„ä¸ºä¸‹é¢è¿™ä¸ªæ ·å­ï¼š 123456789101112131415func someMethod() &#123; if !condition1 &#123; //è¯­å¥&#125; if !condition2 &#123; //è¯­å¥&#125; if !condition3 &#123; //è¯­å¥&#125; //è¯­å¥&#125; è¿™ä¸¤æ®µä»£ç çš„ä½œç”¨å…¶å®žæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯åŽä¸€ç§æ›´åŠ å®¹æ˜“ç†è§£ã€‚ï¼ˆæ³¨æ„ä¸€ä¸‹ï¼Œç¬¬äºŒç§å†™æ³•ä¸­ä½¿ç”¨äº†ï¼é€»è¾‘éžæ¥è½¬æ¢äº†è¡¨è¾¾å¼çš„æ„æ€ï¼‰ Swiftä¸­æœ‰ä¸€ç§ç‰¹æ®Šçš„è¯­å¥ï¼Œguardæ¥å¸®åŠ©ä½ å¤„ç†è¿™ç§å¤æ‚çš„æƒ…å†µï¼Œç”¨guardé‡å†™ä¸€ä¸‹ä¸Šé¢çš„æ–¹æ³•å°±æ˜¯ï¼š 123456789101112func someMethod() &#123; guard condition1 else &#123; //è¯­å¥ return &#125; guard condition21 else &#123; //è¯­å¥ return &#125;... ä½ è¦è‡ªå·±å°è¯•è¿™äº›æ–¹æ³•ï¼Œæ¯”è¾ƒçœ‹çœ‹å“ªç§å¯è¯»æ€§æœ€å¥½ï¼Œå“ªç§çœ‹èµ·æ¥æœ€å¥½ï¼Œè¿™æ ·æ…¢æ…¢çš„ä½ å°±ä¼šå¾ˆæœ‰ç»éªŒäº†ã€‚ å¾ªçŽ¯forå¾ªçŽ¯ ä½ ä¹‹å‰å·²ç»è§è¯†è¿‡äº†ï¼Œå¦‚ä½•ç”¨for inæ¥åŽ†éä¸€ä¸ªæ•°ç»„ï¼š 12345for item in items &#123; if !item.checked &#123; count += 1 &#125;&#125; ä¹Ÿå¯ä»¥å†™ä½œï¼š 123for item in items where !item.checked &#123; count += 1&#125; for inä¸­çš„è¯­å¥ä¼šå¯¹æ¯ä¸ªitemsæ•°ç»„ä¸­çš„å¯¹è±¡æ‰§è¡Œä¸€éã€‚ æ³¨æ„ä¸€ä¸‹ï¼Œå˜é‡itemçš„ä»…åœ¨forè¯­å¥ä¸­æœ‰æ•ˆï¼Œä½ ä¸èƒ½åœ¨å¤–é¢å¼•ç”¨å®ƒï¼Œå®ƒçš„ç”Ÿå‘½æœŸæ¯”å±€éƒ¨å˜é‡è¿˜è¦çŸ­ã€‚ æœ‰äº›è¯­è¨€ï¼Œä¹ŸåŒ…æ‹¬Swift 2ï¼Œä¸­çš„forè¯­å¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š 123for var i = 0; i &lt; 5; ++i &#123; print(i)&#125; å½“ä½ è¿è¡Œè¿™ä¸ªä»£ç ï¼Œä¼šå¾—åˆ°å¦‚ä¸‹ç»“æžœï¼š 1234501234 ç„¶è€Œï¼Œåœ¨Swift 3ç§ï¼Œè¿™ç§forå¾ªçŽ¯å·²ç»è¢«æŠ›å¼ƒäº†ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ï¼Œä½ å¯ä»¥ç›´æŽ¥ä½¿ç”¨åŒºé—´èŒƒå›´ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š 123for i in 0 ... 4 &#123; print(i)&#125; é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œä¹Ÿå¯å†™ä½œï¼š 123for i in stride(from: 0,to: 5,by: 1) &#123; print(i)&#125; strideå‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªä¸“é—¨çš„å¯¹è±¡æ¥ä»£è¡¨ä»Ž1åˆ°5ï¼Œæ¯æ¬¡å¢žåŠ 1ã€‚å¦‚æžœä½ åªæƒ³è¦å¶æ•°ï¼Œä½ å¯ä»¥æŠŠbyå‚æ•°æ”¹ä¸º2ã€‚å¦‚æžœä½ ç»™byå‚æ•°ä¸€ä¸ªè´Ÿæ•°çš„è¯ï¼Œé‚£ä¹ˆstrideå°±å¯ä»¥å®žçŽ°å€’ç€æ•°çš„åŠŸèƒ½ã€‚ whileè¯­å¥ forè¯­å¥å¹¶ä¸æ˜¯å”¯ä¸€çš„æ‰§è¡Œå¾ªçŽ¯çš„è¯­å¥ï¼Œå¦ä¸€ä¸ªéžå¸¸å¼ºå¤§çš„å¾ªçŽ¯ç»“æž„å°±æ˜¯whileè¯­å¥ï¼š 123while something is true &#123; //è¯­å¥&#125; whileè¯­å¥ä¼šä¸€ç›´ä¿æŒå¾ªçŽ¯ï¼ŒçŸ¥é“æ¡ä»¶ä¸ºfalseä¸ºæ­¢ã€‚è¿˜å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ç§å½¢å¼ï¼š 123repeat &#123; //è¯­å¥&#125; while something is true åœ¨è¿™ç§æƒ…å†µä¸­ï¼Œæ¡ä»¶æ˜¯åœ¨è¯­å¥æ‰§è¡ŒåŽæ‰åˆ¤æ–­çš„ï¼Œæ‰€ä»¥æ‹¬å·å†…çš„è¯­å¥è‡³å°‘ä¹Ÿä¼šè¢«æ‰§è¡Œä¸€æ¬¡ã€‚ ä½ å¯ä»¥ä½¿ç”¨whileè¯­å¥é‡å†™ä¸€ä¸‹å¾ªçŽ¯Checklistsä¸­çš„å¯¹è±¡ï¼š 123456789var count = 0var i = 0while i &lt; items.count &#123; let item = items[i] if !item.checked &#123; count += 1 &#125; i += 1&#125; è¿™äº›å¾ªçŽ¯ç»“æž„çš„ä½œç”¨å¤§è‡´ç›¸åŒï¼Œåªæ˜¯çœ‹èµ·æ¥æœ‰äº›ä¸ä¸€æ ·ã€‚æ¯ä¸€ç§éƒ½å¯ä»¥ä½¿ä½ é‡å¤æ‰§è¡Œä¸€æ®µè¯­å¥ï¼Œç›´åˆ°æ¡ä»¶ä¸ç¬¦åˆä¸ºæ­¢ã€‚ ç„¶è€Œï¼Œä½¿ç”¨whileä¼šæ¯”for inè¦çœ‹èµ·æ¥å¤æ‚ä¸€äº›ï¼Œæ‰€ä»¥å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨for inã€‚ ä½¿ç”¨for inã€whileã€repeatå¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œåªæ˜¯å¯è¯»æ€§ä¸Šæœ‰æ‰€åŒºåˆ«ã€‚ âš ï¸ï¼šä¸Šé¢ä¾‹å­ä¸­çš„item.countå’Œcountæ˜¯ä¸¤ç§ä¸åŒçš„ä¸œè¥¿ï¼Œåªæ˜¯åå­—ä¸€æ ·ã€‚item.countä¸­çš„countæ˜¯æ•°ç»„itemsä¸­çš„å±žæ€§ç”¨äºŽè¿”å›žæ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼›åŽé¢çš„ä¸€ä¸ªcountæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œç”¨äºŽå¯¹æ²¡æœ‰æ¿€æ´»å¯¹å‹¾ç¬¦å·çš„itemå¯¹è±¡è®¡æ•°ã€‚ å°±ä½ å¯ä»¥åœ¨æ–¹æ³•ä¸­ä½¿ç”¨returné€€å‡ºæ–¹æ³•ä¸€æ ·ï¼Œä½ å¯ä»¥ä½¿ç”¨breakæ¥æå‰é€€å‡ºå¾ªçŽ¯ï¼š 1234567var found = falsefor item in array &#123; if item == searchText &#123; found = true break &#125;&#125; è¿™ä¸ªä¾‹å­ä¸­ï¼Œforè¯­å¥åœ¨æ•°ç»„ä¸­å¾ªçŽ¯ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸ŽsearchTextçš„å€¼ç›¸å½“çš„å€¼åŽï¼Œå°†foundè®¾ç½®ä¸ºtrueï¼Œç„¶åŽé€€å‡ºå¾ªçŽ¯ï¼Œä¸å†æŸ¥çœ‹æ•°ç»„ä¸­å‰©ä¸‹çš„å¯¹è±¡ã€‚å› ä¸ºä½ å·²ç»æ‰¾åˆ°äº†ä½ æƒ³è¦çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æ²¡æœ‰å¿…è¦æŠŠæ•´ä¸ªæ•°ç»„éƒ½å¾ªçŽ¯å®Œæ¯•ã€‚ è¿˜å­˜åœ¨ä¸€ä¸ªcontiueè¯­å¥ï¼Œå’Œbreakçš„ä½œç”¨æ­£å¥½ç›¸åã€‚å®ƒçš„ä½œç”¨æ˜¯ç«‹å³è·³åˆ°ä¸‹ä¸€ä¸ªè¿­ä»£ä¸­ï¼Œå½“ä½ ä½¿ç”¨contiueæ—¶ï¼Œä½ çš„æ„æ€å°±æ˜¯â€œç›®å‰è¿™ä¸ªitemå·²ç»ç»“æŸäº†ï¼Œæˆ‘ä»¬åŽ»çœ‹çœ‹ä¸‹ä¸€ä¸ªå§ï¼â€ å…¶ä»–è¯­å¥åœ¨å‡½æ•°ç¼–ç¨‹ä¸­ï¼Œå¾ªçŽ¯ç»å¸¸ä¼šè¢«mapï¼Œfilteræˆ–è€…reduceæ›¿ä»£ã€‚å®ƒä»¬æ˜¯ä¸€äº›æ“ä½œé›†åˆçš„å‡½æ•°ï¼Œå¯¹é›†åˆä¸­æ¯ä¸€ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ®µä»£ç ï¼Œå¹¶ä¸”è¿”å›žä¸€ä¸ªæ–°çš„é›†åˆä½œä¸ºç»“æžœã€‚ ä¾‹å¦‚ï¼Œåœ¨æ•°ç»„ä¸Šä½¿ç”¨filterï¼Œä¼šä¿ç•™ç¬¦åˆæŸäº›æ¡ä»¶çš„å…ƒç´ ã€‚æ¯”å¦‚è¦å¾—åˆ°æœªæ¿€æ´»å¯¹å‹¾ç¬¦å·çš„ChecklistItemå¯¹è±¡ï¼Œä½ å¯ä»¥è¿™æ ·å†™ï¼š 1var uncheckedItems = items.filter &#123; item in !item.checked&#125; è¿™æ ·å†™æ¯”å¾ªçŽ¯çœ‹èµ·æ¥è¦ç®€å•å¤šäº†ã€‚å‡½æ•°ç¼–ç¨‹æ˜¯ä¸€ä¸ªéžå¸¸å¤§çš„è¯é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæˆ‘ä»¬ä¸ä¼šå±•å¼€å¤ªå¤šã€‚ å¯¹è±¡ï¼ˆObjectsï¼‰å°†åŠŸèƒ½å’Œæ•°æ®ç»“åˆåœ¨ä¸€èµ·çš„å¯é‡ç”¨å•å…ƒï¼Œéƒ½æ˜¯å¯¹è±¡ã€‚ æ•°æ®æ˜¯ç”±å¯¹è±¡ä¸­çš„å®žä¾‹å˜é‡å’Œå®žä¾‹å¸¸é‡ç»„æˆã€‚æˆ‘ä»¬ç»å¸¸ä»¥å¯¹è±¡çš„å±žæ€§å½¢å¼å¼•ç”¨å®ƒä»¬ã€‚åŠŸèƒ½ç”±å¯¹è±¡çš„æ–¹æ³•æä¾›ã€‚ åœ¨ä½ çš„Swiftç¨‹åºä¸­ï¼Œä½ ä½¿ç”¨è¿‡å·²å­˜åœ¨çš„å¯¹è±¡ï¼Œæ¯”å¦‚Stringï¼ŒArrayï¼ŒDateï¼ŒUITableViewï¼Œä»¥åŠä½ è‡ªå·±åˆ›å»ºçš„å¯¹è±¡ã€‚ å®šä¹‰ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä½ éœ€è¦ä¸€ä¸ªæ–°çš„Swiftæ–‡ä»¶ï¼Œæ¯”å¦‚MyObject.swiftï¼Œå¹¶ä¸”åŒ…å«ä¸€ä¸ªç±»ï¼ˆclassï¼‰ã€‚æ¯”å¦‚ï¼š 12345678910111213class MyObject &#123; var text: String var count = 0 let maximum = 100 init() &#123; text = "Hello World" &#125; func doSomething() &#123; //è¯­å¥ &#125;&#125; åœ¨classçš„èŠ±æ‹¬å·å†…ï¼Œä½ æ·»åŠ äº†å±žæ€§ï¼ˆå®žä¾‹å˜é‡å’Œå®žä¾‹å¸¸é‡ï¼‰å’Œæ–¹æ³•ã€‚ å±žæ€§æœ‰ä¸¤ç§ç±»åž‹ï¼š å­˜å‚¨å±žæ€§ï¼Œå®ƒä»¬é€šå¸¸æ˜¯å®žä¾‹å˜é‡å’Œå®žä¾‹å¸¸é‡ã€‚ è®¡ç®—å±žæ€§ï¼Œä¸å­˜å‚¨ä¸œè¥¿ï¼Œè€Œæ˜¯æ‰§è¡ŒæŸäº›é€»è¾‘ ä¸‹é¢æ˜¯ä¸€ä¸ªå…³äºŽè®¡ç®—å±žæ€§çš„ä¾‹å­ï¼š 12345678var indexOfSelectedChecklist: Int &#123; get &#123; return UserDefaults.standard().integerForKey("ChecklistIndex") &#125; set &#123; UserDefaults.standard().set(newValue,forKey: "ChecklistIndex") &#125;&#125; indexOfSelectedChecklistå±žæ€§å¹¶ä¸å­˜å‚¨ä¸€ä¸ªå€¼ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ï¼Œæ¯æ¬¡æœ‰äººä½¿ç”¨è¿™ä¸ªå±žæ€§æ—¶ï¼Œå®ƒæ‰§è¡Œgetæˆ–è€…setå†…çš„ä»£ç ã€‚å¦ä¸€ä¸ªé€‰æ‹©æ˜¯ï¼Œåˆ†åˆ«å†™ä¸€ä¸ªsetIndexOfSelectedChecklist()å’ŒgetIndexOfSelectedChecklist()æ–¹æ³•ï¼Œä½†æ˜¯è¿™æ ·è¯»èµ·æ¥ä¸æ˜¯å¾ˆå¥½ã€‚ å…³é”®å­—@IBOutletçš„æ„æ€æ˜¯ï¼Œè¿™ä¸ªå±žæ€§å¯ä»¥è¢«ç•Œé¢å»ºé€ å™¨ä¸­çš„ç”¨æˆ·æŽ¥å£å…ƒç´ å¼•ç”¨ï¼Œæ¯”å¦‚labelå’Œbuttonã€‚è¿™ç§å±žæ€§é€šå¸¸éƒ½è¢«å£°æ˜Žä¸ºweakå’Œå¯é€‰åž‹ã€‚ç±»ä¼¼çš„ï¼Œ@IBActionå…³é”®å­—è¢«ç”¨äºŽå’Œç”¨æˆ·äº¤äº’æ—¶è¢«è§¦å‘çš„æ–¹æ³•ã€‚ è¿™é‡Œæœ‰ä¸‰ç§ç±»åž‹çš„æ–¹æ³•ï¼š å®žä¾‹æ–¹æ³• ç±»æ–¹æ³• initæ–¹æ³• ä½ å·²ç»çŸ¥é“äº†æ–¹æ³•å°±æ˜¯å±žäºŽæŸä¸€ä¸ªå¯¹è±¡çš„å‡½æ•°ã€‚è°ƒç”¨è¿™ç§ç±»åž‹çš„æ–¹æ³•ä½ é¦–å…ˆéœ€è¦ä¸€ä¸ªè¿™ä¸ªå¯¹è±¡çš„å®žä¾‹ï¼š 12let myInstance = MyObject() //åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„å®žä¾‹myInstance.doSomething() //è°ƒç”¨æ–¹æ³• ä½ ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªç±»æ–¹æ³•ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æ²¡æœ‰å®žä¾‹çš„æƒ…å†µä¸‹ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚äº‹å®žä¸Šï¼Œç±»æ–¹æ³•ç»å¸¸è¢«å½“ä½œâ€œå·¥åŽ‚â€æ–¹æ³•ä½¿ç”¨ï¼Œç”¨æ¥åˆ›å»ºæ–°çš„å®žä¾‹ï¼š 12345678910class MyObject &#123;... class fun makeObject(text: String)-&gt; MyObject &#123; let m = MyObject() m.text = text return m &#125;&#125;let MyInstance = MyObject.makeObject(text: "Hello world") initæ–¹æ³•ï¼Œæˆ–è€…å«åšåˆå§‹åŒ–è®¾ç½®ï¼Œåœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡å®žä¾‹çš„è¿‡ç¨‹ä¸­è¢«ä½¿ç”¨ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨initæ–¹æ³•æ¥å–ä»£ä¸Šé¢çš„é‚£ä¸ªå·¥åŽ‚æ–¹æ³•ï¼š 123456class MyObject &#123;... init(text: String) &#123; self.text = text &#125;&#125; initæ–¹æ³•çš„ä¸»è¦ç›®çš„æ˜¯å°†å¯¹è±¡ä¸­çš„å®žä¾‹å˜é‡å¡«æ»¡ã€‚ä»»ä½•æ²¡æœ‰å€¼çš„å®žä¾‹å˜é‡å’Œå®žä¾‹å¸¸é‡éƒ½å¿…é¡»åœ¨initæ–¹æ³•ä¸­è¢«ç»™äºˆä¸€ä¸ªå€¼ã€‚ Swiftä¸å…è®¸å˜é‡æˆ–è€…å¸¸é‡æ²¡æœ‰å€¼ï¼ˆå¯é€‰åž‹ä¾‹å¤–ï¼‰ï¼Œå¹¶ä¸”initæ–¹æ³•æ˜¯ä½ ç»™å˜é‡æˆ–è€…å¸¸é‡èµ‹å€¼çš„æœ€åŽä¸€æ¬¡æœºä¼šã€‚ å¯¹è±¡å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªä»¥ä¸Šçš„initæ–¹æ³•ï¼›å…·ä½“ä½¿ç”¨å“ªä¸€ä¸ªè¦ä¾æ®å…·ä½“æƒ…å†µè€Œå®šã€‚ ä¾‹å¦‚ï¼Œä¸€ä¸ªUITableViewControllerï¼Œä»Žæ•…äº‹æ¨¡ç‰ˆä¸­è‡ªåŠ¨è¢«è¯»å–æ—¶ï¼Œä½¿ç”¨init?(coder)åˆå§‹åŒ–ï¼Œæ‰‹åŠ¨ä»Žnibæ–‡ä»¶ä¸­è¯»å–æ—¶ï¼Œä½¿ç”¨init(nibName,bundle)åˆå§‹åŒ–ï¼Œæˆ–è€…æ²¡æœ‰ä»Žæ•…äº‹æ¨¡ç‰ˆå’Œnibæ–‡ä»¶ä¸­æž„é€ æ—¶ï¼Œä½¿ç”¨init(style)åˆå§‹åŒ–ã€‚æœ‰æ—¶ä½ ä¼šç”¨åˆ°è¿™ä¸ªï¼Œè€Œæœ‰æ—¶ä½ ä¼šç”¨åˆ°é‚£ä¸ªã€‚ å½“å¯¹è±¡ä¸å†è¢«ä½¿ç”¨æ—¶ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªdeinitæ–¹æ³•ã€‚åœ¨å¯¹è±¡è¢«ç ´åæŽ‰å‰è°ƒç”¨å®ƒã€‚ é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œclasså¹¶ä¸æ˜¯Swiftä¸­å”¯ä¸€å®šä¹‰å¯¹è±¡çš„æ–¹æ³•ã€‚è¿˜å­˜åœ¨å…¶ä»–ç±»åž‹çš„å¯¹è±¡ï¼Œæ¯”å¦‚structså’Œenumsã€‚ åè®®ï¼ˆProtocolsï¼‰ä¸€ä¸ªåè®®å°±æ˜¯ä¸€ç»„æ–¹æ³•åç§°çš„åˆ—è¡¨ï¼š 1234protocol MyProtocol &#123; func someMethod(value: Int) func anotherMethod()-&gt; String&#125; åè®®å°±ç±»ä¼¼äºŽå·¥ä½œåˆ—è¡¨ã€‚å®ƒåˆ—å‡ºäº†ä½ çš„å…¬å¸ä¸­æ¯ä¸ªå…·ä½“èŒä½çš„å·¥ä½œã€‚ ä½†æ˜¯åˆ—è¡¨è‡ªå·±æœ¬èº«å¹¶ä¸å·¥ä½œï¼Œå®ƒä»…ä»…æ˜¯æ‰“å°å‡ºæ¥ç»™å¤§å®¶çœ‹çš„ä¸œè¥¿ã€‚æ‰€ä»¥ä½ éœ€è¦é›‡ä½£å…·ä½“çš„å‘˜å·¥æ¥å®Œæˆåˆ—è¡¨ä¸Šçš„å·¥ä½œã€‚è€Œè¿™äº›å‘˜å·¥ï¼Œå°±æ˜¯å…·ä½“çš„å¯¹è±¡ã€‚ å¯¹è±¡éœ€è¦è¢«æŒ‡æ˜Žè‡ªå·±éœ€è¦éµå®ˆçš„åè®®ï¼š 123class MyObject: MyProtocol &#123; ...&#125; è¿™æ ·ï¼Œè¿™ä¸ªå¯¹è±¡å°±éœ€è¦å®Œæˆåè®®ä¸­åˆ—å‡ºçš„æ‰€æœ‰æ–¹æ³•ã€‚ï¼ˆå¦åˆ™ï¼Œå°±ç‚’äº†å®ƒï¼‰ æ­¤æ—¶ï¼Œä½ å°±å¯ä»¥å¼•ç”¨è¿™ä¸ªå¯¹è±¡ï¼ŒåŒæ—¶è¿˜æœ‰åè®®ï¼š 12var m1: MyObject = MyObject()var m2: MyProtocol = MyObject() å¯¹äºŽä»£ç ä¸­ä»»ä½•ä½¿ç”¨m2å˜é‡çš„éƒ¨åˆ†ï¼Œå®ƒæ˜¯å¦æ˜¯MyObjectå¯¹è±¡å¹¶ä¸é‡è¦ã€‚m2ç±»åž‹æ˜¯MyProtocolï¼Œä¸æ˜¯MyObjectã€‚ æ‰€æœ‰ä½ çš„ä»£ç çœ‹åˆ°çš„æ˜¯ï¼Œm2æ˜¯æŸä¸ªéµå®ˆMyProtocolåè®®çš„å¯¹è±¡ï¼Œä½†æ˜¯å…·ä½“æ˜¯ä»€ä¹ˆæ ·çš„å¯¹è±¡å¹¶ä¸é‡è¦ã€‚ æ¢è€Œè¨€ä¹‹ï¼Œä½ å¹¶ä¸å…³å¿ƒä½ é›‡ç”¨çš„å‘˜å·¥ï¼Œæ˜¯ä¸æ˜¯å…¼èŒå…¶ä»–å·¥ä½œï¼Œåªè¦ä»–å’Œä½ éœ€è¦çš„ä¸œè¥¿ä¸å†²çªï¼Œä½ å°±å¯ä»¥é›‡ä½£ä»–ã€‚]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çŸ©é˜µï¼Œå‘é‡æ±‚å¯¼æ³•åˆ™]]></title>
    <url>%2F2017%2F10%2F12%2FThe%20Derivation%20formula%20of%20matrix%20and%20vector%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Statistics</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C#ä¸­çš„abstractå’Œvirtual]]></title>
    <url>%2F2017%2F10%2F12%2FThe%20abstract%20and%20virtual%20in%20CSharp%2F</url>
    <content type="text"><![CDATA[abstract, newå’Œoverride æŠ½è±¡ï¼ˆabstractï¼‰æ–¹æ³•å¿…é¡»åœ¨æŠ½è±¡ç±»ä¸­å®šä¹‰ï¼Œä¸”æ²¡æœ‰æ–¹æ³•çš„å®žçŽ°ã€‚ åŸºç±»ä¸­çš„æŠ½è±¡ï¼ˆabstractï¼‰æ–¹æ³•å¿…é¡»åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™ï¼ˆoverrideï¼‰ã€‚ æŠ½è±¡ç±»æ— æ³•åˆ›å»ºåŸºå®žä¾‹ï¼Œåªèƒ½ç»§æ‰¿åŽåˆ›å»ºã€‚ æ´¾ç”Ÿç±»ä¸­å¦‚æžœé‡æ–°å®šä¹‰å’ŒåŸºç±»åŒåçš„æ–¹æ³•ï¼Œä½¿ç”¨newå…³é”®å­—ã€‚ æ´¾ç”Ÿç±»ä¸­å¦‚æžœè¦é‡å†™åŸºç±»ä¸­åŒåå·²ç»å®žçŽ°çš„æ–¹æ³•ï¼Œåˆ™åŸºç±»ä¸­çš„æ–¹æ³•ç”¨virtualå…³é”®å­—ï¼Œæ´¾ç”Ÿç±»ä¸­çš„åŒåæ–¹æ³•ç”¨overrideå…³é”®å­—é‡å†™ã€‚ virtualä¿®é¥°çš„æ³•æ³•å¿…é¡»è¦å®žçŽ°ã€‚ virtualå’Œabstractä¿®é¥°çš„æ–¹æ³•å¿…é¡»æ˜¯pubulicã€‚ virtualæ–¹æ³•å¿…é¡»å®žçŽ°ï¼Œabstractæ–¹æ³•ä¸ä¸€å®šè¦å®žçŽ°ã€‚ virtualæ–¹æ³•å¯ä»¥è¢«æ´¾ç”Ÿç±»é‡å†™ï¼Œabstractæ–¹æ³•å¿…é¡»åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™ã€‚]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>C#</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Scikit-learnçš„æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰]]></title>
    <url>%2F2017%2F10%2F05%2FSupport%20vector%20machine%20(SVM)%20for%20scikit-learn%2F</url>
    <content type="text"><![CDATA[æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰æ˜¯ç”¨äºŽåˆ†ç±»ï¼Œå›žå½’å’Œå¼‚å¸¸å€¼æ£€æµ‹çš„ç›‘ç£å­¦ä¹ æ–¹æ³•ã€‚ æ”¯æŒå‘é‡æœºçš„ä¼˜ç‚¹åŒ…æ‹¬ï¼š åœ¨é«˜ç»´ç©ºé—´ä¸­è¡Œä¹‹æœ‰æ•ˆã€‚ å½“ç»´æ•°å¤§äºŽæ ·æœ¬æ•°æ—¶ä»ç„¶å¯ç”¨ã€‚ åœ¨å†³ç­–å‡½æ•°ä¸­åªä½¿ç”¨è®­ç»ƒç‚¹çš„ä¸€ä¸ªå­é›†ï¼ˆç§°ä¸ºæ”¯æŒå‘é‡ï¼‰ï¼Œå¤§å¤§èŠ‚çœäº†å†…å­˜å¼€é”€ã€‚ ç”¨é€”å¹¿æ³›ï¼šå†³ç­–å‡½æ•°ä¸­å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ ¸å‡½æ•°ã€‚æä¾›äº†ä¸€ç§é€šç”¨çš„æ ¸ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æŒ‡å®šè‡ªå®šä¹‰çš„æ ¸ã€‚ è¿”å›žçš„åˆ†å‰²ç›´çº¿æ»¡è¶³marginæœ€å¤§çš„æ¡ä»¶ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªrobustçš„è§£ã€‚ SVMå¯¹æ•°æ®ç‚¹çš„ä¾èµ–æ˜¯ç¨€ç–çš„ï¼Œåªæœ‰å°‘é‡æ”¯æŒå‘é‡å¯¹æœ€ç»ˆç»“æžœæœ‰è´¡çŒ®ã€‚ è€Œå…¶åŠ£åŠ¿åœ¨äºŽ å¦‚æžœç‰¹å¾æ•°é‡è¿œå¤§äºŽæ ·æœ¬æ•°é‡ï¼Œåˆ™è¡¨çŽ°ä¼šæ¯”è¾ƒå·®ã€‚ SVMä¸ç›´æŽ¥æä¾›æ¦‚çŽ‡ä¼°è®¡ã€‚è¿™ä¸ªå€¼é€šè¿‡äº”æŠ˜äº¤å‰éªŒè¯è®¡ç®—ï¼Œä»£ä»·æ¯”è¾ƒé«˜ï¼ˆè§ä¸‹é¢â€œè·‘åˆ†ä¸Žæ¦‚çŽ‡â€ä¸€èŠ‚ï¼‰ã€‚ é¦–å…ˆSVMçš„ä¼˜åŒ–é—®é¢˜æ¯”è¾ƒå¤æ‚ï¼Œä¸ä»…äººéš¾ä»¥ç†è§£ï¼Œå†™èµ·ç¨‹åºæ¥ä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œå¿…é¡»è¦ç”¨åˆ°Sequential minimal optimizationï¼ˆSMOï¼‰ã€‚ å…¶æ¬¡ï¼Œä¼ ç»Ÿçš„SVMåªèƒ½å¤„ç†çº¿æ€§å¯åˆ†çš„é—®é¢˜ï¼Œå¹¶ä¸”å¯¹æ•°æ®ä¸­çš„å™ªéŸ³ä¹Ÿå¾ˆæ•æ„Ÿï¼Œå› æ­¤æˆ‘ä»¬å¿…è¦å¯¹ç®—æ³•è¿›è¡Œæ”¹é€ ã€‚ Scikit-learnä¸­çš„æ”¯æŒå‘é‡æœºåŒæ—¶æ”¯æŒå¯†é›†æ ·æœ¬å‘é‡ï¼ˆnumpy.ndarrayå’Œå¯é€šè¿‡numpy.asarrayè½¬åŒ–çš„æ•°æ®ç±»åž‹ï¼‰å’Œç¨€ç–æ ·æœ¬å‘é‡ï¼ˆä»»ä½•scipy.sparseå¯¹è±¡ï¼‰ã€‚ä½†æ˜¯å¦‚æžœæƒ³ç”¨SVMå¯¹ç¨€ç–æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œåˆ™å¿…é¡»å…ˆåœ¨è¿™äº›æ•°æ®ä¸Šæ‹Ÿåˆã€‚ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œåº”è¯¥ä½¿ç”¨Cé˜¶ï¼ˆC-Orderedï¼‰numpy.ndarrayï¼ˆå¯†é›†çš„ï¼‰æˆ–scipy.sparse.csr_matrixï¼ˆç¨€ç–çš„ï¼‰ï¼Œå¹¶æŒ‡å®šdtype=float64ã€‚ åˆ†ç±»è¦åœ¨æ•°æ®é›†ä¸Šè¿›è¡Œå¤šç±»åˆ«åˆ†ç±»ï¼Œå¯ä»¥ä½¿ç”¨SVCï¼ŒNuSVCå’ŒLinearSVCè¿™ä¸‰ä¸ªç±»ã€‚ SVCå’ŒNuSVCä¸¤ç§æ–¹æ³•ç±»ä¼¼ï¼Œä½†æ˜¯æŽ¥å—çš„å‚æ•°æœ‰ç»†å¾®ä¸åŒï¼Œè€Œä¸”åº•å±‚çš„æ•°å­¦åŽŸç†ä¸ä¸€æ ·ï¼ˆè§â€œæ•°å­¦åŽŸç†â€ä¸€èŠ‚ï¼‰ã€‚å¦ä¸€æ–¹é¢ï¼ŒLinearSVCæ˜¯å¯¹æ”¯æŒå‘é‡åˆ†ç±»çš„å¦ä¸€ç§å®žçŽ°ï¼Œä½¿ç”¨äº†çº¿æ€§æ ¸ã€‚æ³¨æ„LinearSVCä¸æŽ¥å—å…³é”®å­—kernelï¼Œå› ä¸ºæ ¸è¢«é¢„è®¾ä¸ºæ˜¯çº¿æ€§çš„ã€‚å…¶ä¸ŽSVCå’ŒNuSVCç›¸æ¯”è¿˜ç¼ºå°‘äº†ä¸€äº›æˆå‘˜ï¼Œå¦‚support_ã€‚ å’Œå…¶å®ƒåˆ†ç±»å™¨ä¸€æ ·ï¼ŒSVCï¼ŒNuSVCå’ŒLinearSVCæŽ¥å—ä¸¤ä¸ªæ•°ç»„ï¼šå¤§å°ä¸º[n_samples, n_features]çš„æ•°ç»„Xï¼ŒåŒ…å«è®­ç»ƒæ ·æœ¬ï¼›ä»¥åŠå¤§å°ä¸º[n_samples]çš„æ•°ç»„yï¼ŒåŒ…å«ç±»åˆ«æ ‡ç­¾ï¼ˆä»¥å­—ç¬¦ä¸²ç±»åž‹æˆ–æ•´åž‹å­˜å‚¨ï¼‰ï¼š 123456789&gt;&gt;&gt; from sklearn import svm&gt;&gt;&gt; X = [[0, 0], [1, 1]]&gt;&gt;&gt; y = [0, 1]&gt;&gt;&gt; clf = svm.SVC()&gt;&gt;&gt; clf.fit(X, y) SVC(C=1.0, cache_size=200, class_weight=None, coef0=0.0, decision_function_shape=None, degree=3, gamma='auto', kernel='rbf', max_iter=-1, probability=False, random_state=None, shrinking=True, tol=0.001, verbose=False) æ‹Ÿåˆä»¥åŽå°±å¯ä»¥ç”¨å¾—åˆ°çš„æ¨¡åž‹é¢„æµ‹æ–°å€¼ 12&gt;&gt;&gt; clf.predict([[2., 2.]])array([1]) SVMçš„å†³ç­–å‡½æ•°ä¾èµ–äºŽè®­ç»ƒæ•°æ®çš„ä¸€ä¸ªå­é›†ï¼Œç§°ä¸ºæ”¯æŒå‘é‡ã€‚å®ƒä»¬çš„ä¸€äº›å±žæ€§å¯ä»¥åœ¨æˆå‘˜å˜é‡support_vectors_ï¼Œsupport_å’Œn_supportä¸­æ‰¾åˆ° 12345678910&gt;&gt;&gt; # get support vectors&gt;&gt;&gt; clf.support_vectors_array([[ 0., 0.], [ 1., 1.]])&gt;&gt;&gt; # get indices of support vectors&gt;&gt;&gt; clf.support_ array([0, 1]...)&gt;&gt;&gt; # get number of support vectors for each class&gt;&gt;&gt; clf.n_support_ array([1, 1]...) å¤šç±»åˆ«åˆ†ç±»SVCå’ŒNuSVCä½¿ç”¨â€œä¸€å¯¹å¤šâ€æ–¹æ³•ï¼ˆKnerr et al., 1990ï¼‰æ¥å®žçŽ°å¤šç±»åˆ«åˆ†ç±»ã€‚å¦‚æžœn_classæ˜¯ç±»åˆ«çš„æ•°ç›®ï¼Œåˆ™è¯¥å®žçŽ°ä¼šæž„é€ n_class * (n_class - 1) / 2ä¸ªåˆ†ç±»å™¨ï¼Œæ¯ä¸ªåˆ†ç±»å™¨é’ˆå¯¹ä¸¤ä¸ªç±»åˆ«å¯¹æ•°æ®è¿›è¡Œè®­ç»ƒã€‚ä¸ºäº†æä¾›ä¸€ä¸ªå’Œå…¶å®ƒåˆ†ç±»å™¨ä¸€è‡´çš„æŽ¥å£ï¼Œé€‰é¡¹decision_function_shapeå…è®¸è°ƒç”¨è€…å°†æ‰€æœ‰â€œä¸€å¯¹ä¸€â€åˆ†ç±»å™¨çš„ç»“æžœèšåˆè¿›ä¸€ä¸ª(n_samples, n_classes)çš„å†³ç­–å‡½æ•° 123456789101112131415&gt;&gt;&gt; X = [[0], [1], [2], [3]]&gt;&gt;&gt; Y = [0, 1, 2, 3]&gt;&gt;&gt; clf = svm.SVC(decision_function_shape='ovo')&gt;&gt;&gt; clf.fit(X, Y) SVC(C=1.0, cache_size=200, class_weight=None, coef0=0.0, decision_function_shape='ovo', degree=3, gamma='auto', kernel='rbf', max_iter=-1, probability=False, random_state=None, shrinking=True, tol=0.001, verbose=False)&gt;&gt;&gt; dec = clf.decision_function([[1]])&gt;&gt;&gt; dec.shape[1] # 4 classes: 4*3/2 = 66&gt;&gt;&gt; clf.decision_function_shape = "ovr"&gt;&gt;&gt; dec = clf.decision_function([[1]])&gt;&gt;&gt; dec.shape[1] # 4 classes4 å¦ä¸€æ–¹é¢ï¼ŒLinearSVCå®žçŽ°äº†â€œä¸€å¯¹å¤šâ€åˆ†ç±»æ³•ï¼Œå› æ­¤ä¼šè®­ç»ƒn_classä¸ªæ¨¡åž‹ã€‚å¦‚æžœåªæœ‰ä¸¤ä¸ªç±»åˆ«ï¼Œé‚£ä¹ˆåªä¼šå¾—åˆ°ä¸€ä¸ªæ¨¡åž‹ï¼š 123456789&gt;&gt;&gt; lin_clf = svm.LinearSVC()&gt;&gt;&gt; lin_clf.fit(X, Y) LinearSVC(C=1.0, class_weight=None, dual=True, fit_intercept=True, intercept_scaling=1, loss='squared_hinge', max_iter=1000, multi_class='ovr', penalty='l2', random_state=None, tol=0.0001, verbose=0)&gt;&gt;&gt; dec = lin_clf.decision_function([[1]])&gt;&gt;&gt; dec.shape[1]4 å†³ç­–å‡½æ•°çš„å®Œæ•´æè¿°å¯è§â€œæ•°å­¦åŽŸç†â€ä¸€èŠ‚ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒLinearSVCè¿˜å®žçŽ°äº†å¦ä¸€ç§åˆ†ç±»ç­–ç•¥ï¼Œå³æ‰€è°“çš„å¤šç±»åˆ«SVMï¼ˆç”±Crammerå’ŒSingeræå‡ºï¼‰ã€‚é€šè¿‡æŒ‡å®šmulti_class=&#39;crammer_singer&#39;ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•ã€‚å®ƒå¾—åˆ°çš„ç»“æžœæ€»æ˜¯ä¸€è‡´çš„ï¼Œä½†æ˜¯ä¸€å¯¹å¤šåˆ†ç±»æ³•å¹¶ä¸èƒ½ä¿è¯è¿™ä¸€ç‚¹ã€‚ç„¶è€Œåœ¨å®žé™…åº”ç”¨ä¸­ï¼Œè¿˜æ˜¯ä¸€å¯¹å¤šåˆ†ç±»æ³•ç”¨çš„æ›´å¤šï¼Œå› ä¸ºé€šå¸¸æ¥è®²è¯¥æ–¹æ³•å¾—åˆ°çš„ç»“æžœå˜åŒ–ä¸ä¼šå¤ªå¤§ï¼ˆmostly similarï¼‰ï¼Œè€Œä¸”ç”¨çš„æ—¶é—´æ˜¾è‘—çš„çŸ­ã€‚ ä¸€å¯¹å¤šLinearSVCå¾—åˆ°çš„å±žæ€§ä¸­ï¼Œcoef_æ˜¯n_class * n_featuresç»´çŸ©é˜µï¼Œè€Œintercept_æ˜¯n_class * 1ç»´çš„ã€‚ç³»æ•°ä¸­çš„æ¯ä¸€è¡Œéƒ½å¯¹åº”äºŽn_classä¸ªâ€œä¸€å¯¹å¤šâ€åˆ†ç±»å™¨ä¸­çš„ä¸€ä¸ªï¼ˆæˆªè·ä¹Ÿæ˜¯ç±»ä¼¼ï¼‰ï¼ŒæŒ‰ç…§æ¯ä¸ªä¸Žå…¶å®ƒç±»åˆ«è¿›è¡Œæ¯”è¾ƒçš„ç±»åˆ«é¡ºåºæŽ’åºï¼ˆin the order of the â€œoneâ€ classï¼‰ã€‚ è€Œåœ¨â€œä¸€å¯¹ä¸€â€SVCä¸­ï¼Œå±žæ€§çš„æ ¼å¼ç•¥å¾®æœ‰äº›å¤æ‚éš¾æ‡‚ã€‚åœ¨æœ‰çº¿æ€§æ ¸çš„æƒ…å†µä¸‹ï¼Œcoef_å’Œintercept_çš„æ ¼å¼ä¸Žä¸Šé¢æ‰€è¿°LinearSVCçš„ç±»ä¼¼ï¼Œåªä¸è¿‡coefçš„å¤§å°ä¸º[n_class * (n_class - 1) / 2, n_features]ï¼ˆå¯¹åº”äºŽäºŒå…ƒåˆ†ç±»å™¨çš„ä¸ªæ•°ï¼‰ã€‚ç±»åˆ«0åˆ°nçš„é¡ºåºæ˜¯â€œ0 vs 1â€, â€œ0 vs 2â€ , â€¦ â€œ0 vs nâ€, â€œ1 vs 2â€, â€œ1 vs 3â€, â€œ1 vs nâ€, . . . â€œn-1 vs nâ€ã€‚ dual_coefçš„å¤§å°æ˜¯[n_class-1, n_SV]ï¼Œä¸è¿‡æ ¼å¼æœ‰äº›éš¾ä»¥æè¿°ã€‚åˆ—å¯¹åº”äºŽn_class * (n_class - 1) / 2ä¸ªâ€œä¸€å¯¹ä¸€â€åˆ†ç±»å™¨ä¸­å‡ºçŽ°çš„æ”¯æŒå‘é‡ã€‚æ¯ä¸ªæ”¯æŒå‘é‡è¢«ç”¨äºŽn_class - 1ä¸ªåˆ†ç±»å™¨ä¸­ã€‚æ¯ä¸€è¡Œä¸­n_class - 1ä¸ªé¡¹ç›®å¯¹åº”äºŽè¿™äº›åˆ†ç±»å™¨çš„å¯¹å¶ç³»æ•°ï¼ˆdual coefficientï¼‰ã€‚ å¾—åˆ†å’Œæ¦‚çŽ‡SVCä¸­çš„decision_functionæ–¹æ³•å¯¹æ¯ä¸ªæ ·æœ¬éƒ½ä¼šç»™å‡ºåœ¨å„ä¸ªç±»åˆ«ä¸Šçš„åˆ†æ•°ï¼ˆåœ¨äºŒå…ƒåˆ†ç±»é—®é¢˜ä¸­ï¼Œæ˜¯å¯¹æ¯ä¸ªæ ·æœ¬ç»™å‡ºä¸€ä¸ªåˆ†æ•°ï¼‰ã€‚å¦‚æžœæž„é€ å‡½æ•°çš„probabilityè¢«è®¾ä¸ºTrueï¼Œåˆ™å¯ä»¥å¾—åˆ°å±žäºŽæ¯ä¸ªç±»åˆ«çš„æ¦‚çŽ‡ä¼°è®¡ï¼ˆé€šè¿‡predict_probaå’Œpredict_log_probaæ–¹æ³•ï¼‰ã€‚åœ¨äºŒå…ƒåˆ†ç±»ä¸­ï¼Œæ¦‚çŽ‡ä½¿ç”¨Plattç¼©æ”¾è¿›è¡Œè°ƒæ•´ï¼šé€šè¿‡åœ¨è®­ç»ƒæœºä¸Šåšé¢å¤–çš„äº¤å‰æ£€éªŒæ¥æ‹Ÿåˆä¸€ä¸ªåœ¨SVMåˆ†æ•°ä¸Šçš„Logisticå›žå½’ã€‚åœ¨å¤šå…ƒåˆ†ç±»ä¸­ï¼Œè¿™ç§æ–¹æ³•è¢«Wu et al. (2004)æ‰©å±•äº†ã€‚ æ˜¾è€Œæ˜“è§çš„æ˜¯ï¼ŒPlattç¼©æ”¾ä¸­çš„äº¤å‰æ£€éªŒåœ¨å¤§æ•°æ®é›†ä¸Šæ˜¯ä¸€ä¸ªä»£ä»·å¾ˆé«˜çš„æ“ä½œã€‚æ­¤å¤–ï¼Œæ¦‚çŽ‡ä¼°è®¡ä¸Žå®žé™…å¾—åˆ†å¯èƒ½ä¼šä¸ä¸€è‡´ï¼Œå³ä½¿å¾—åˆ†å–å¾—äº†æœ€å¤§å€¼ï¼Œæ¦‚çŽ‡å¹¶ä¸ä¸€å®šä¹Ÿèƒ½å–åˆ°æœ€å¤§å€¼ã€‚ï¼ˆä¾‹å¦‚åœ¨äºŒå…ƒåˆ†ç±»ä¸­ï¼ŒæŸä¸ªæ ·æœ¬ç»ç”±predictæ–¹æ³•å¾—åˆ°çš„åˆ†ç±»æ ‡ç­¾ï¼Œå¦‚æžœä½¿ç”¨predict_probaè®¡ç®—å¯èƒ½æ¦‚çŽ‡å°äºŽ1/2ã€‚ï¼‰Plattçš„æ–¹æ³•åœ¨ç†è®ºä¸Šä¹Ÿæœ‰ä¸€äº›é—®é¢˜ã€‚å¦‚æžœéœ€è¦æ‹¿åˆ°ç½®ä¿¡åˆ†æ•°ï¼Œè€Œè¿™äº›åˆ†æ•°åˆä¸ä¸€å®šéžå¾—æ˜¯æ¦‚çŽ‡ï¼Œåˆ™å»ºè®®æŠŠprobabilityç½®ä¸ºFalseï¼Œå¹¶ä¸”ä½¿ç”¨decision_functionï¼Œè€Œä¸æ˜¯predict_probaã€‚ å‚è€ƒæ–‡çŒ®ï¼š Wu, Lin and Weng, â€œProbability estimates for multi-class classification by pairwise couplingâ€, JMLR 5:975-1005, 2004. Platt â€œProbabilistic outputs for SVMs and comparisons to regularized likelihood methodsâ€ . ä¸å¹³è¡¡é—®é¢˜åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸€äº›æŒ‡å®šçš„ç±»åˆ«æˆ–æŸå‡ ä¸ªæ ·æœ¬å…³é”®å­—å¯èƒ½æ›´åŠ é‡è¦ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨class_weightå’Œsample_weightã€‚ SVCï¼ˆä¸æ˜¯NuSVCï¼‰åœ¨fitæ–¹æ³•ä¸­å®žçŽ°äº†å…³é”®å­—class_weightã€‚è¯¥å…³é”®å­—æ˜¯å­—å…¸ç±»åž‹ï¼Œå½¢å¼ä¸º{class_label : value}ï¼Œè¿™é‡Œvalueæ˜¯ä¸€ä¸ªæ­£æµ®ç‚¹æ•°ï¼Œå°†ç±»åˆ«class_labelçš„å‚æ•°Cè®¾ä¸ºC * valueã€‚ SVCï¼ŒNuSVCï¼ŒSVRï¼ŒNuSVRå’ŒOneClassSVMåŒæ ·åœ¨fitæ–¹æ³•ä¸­é€šè¿‡å…³é”®å­—sample_weightå®žçŽ°äº†å¯¹å•ç‹¬æ ·æœ¬èµ‹äºˆç‰¹æ®Šæƒé‡çš„åŠŸèƒ½ã€‚ä¸Žclass_weightç±»ä¼¼ï¼Œå®ƒä»¬æŠŠç¬¬iä¸ªæ ·æœ¬çš„å‚æ•°Cè®¾ä¸ºC * sample_weight[i]ã€‚ åœ¨irisæ•°æ®é›†ä¸­è¯•éªŒä¸åŒçš„SVMåˆ†ç±»å™¨ï¼Œå¹¶ä½œå›¾æ¯”è¾ƒ SVMï¼šæœ€å¤§åŒ–é—´éš”åˆ†ç¦»è¶…å¹³é¢ SVMï¼šä¸å¹³è¡¡ç±»åˆ«çš„åˆ†ç¦»è¶…å¹³é¢ SVM-Anovaï¼šå¸¦æœ‰å•å˜é‡ç‰¹å¾é€‰æ‹©çš„SVM éžçº¿æ€§SVM SVMï¼šå¸¦æƒé‡é—®é¢˜çš„ä¾‹å­ å›žå½’æ”¯æŒå‘é‡åˆ†ç±»è¿™æ ·çš„æ–¹æ³•å¯ä»¥ç»æ‰©å±•ç”¨åœ¨å›žå½’é—®é¢˜ä¸Šï¼Œç§°ä½œæ”¯æŒå‘é‡å›žå½’ã€‚ æ”¯æŒå‘é‡åˆ†ç±»äº§ç”Ÿçš„æ¨¡åž‹ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œåªä¾èµ–äºŽè®­ç»ƒæ•°æ®çš„ä¸€ä¸ªå­é›†ã€‚å…¶åŽŸå› åœ¨äºŽï¼Œæž„é€ æ¨¡åž‹æ—¶ç”¨åˆ°çš„ä»£ä»·å‡½æ•°å¹¶ä¸å…³å¿ƒé‚£äº›ä¸åœ¨è¾¹ç•Œä¸Šçš„æ•°æ®ç‚¹ã€‚ç±»ä¼¼çš„ï¼Œæ”¯æŒå‘é‡å›žå½’æ‰€ç”Ÿæˆçš„æ¨¡åž‹ä¹Ÿåªä¾èµ–äºŽè®­ç»ƒæ•°æ®çš„ä¸€ä¸ªè‡ªå·±ï¼Œå› ä¸ºæž„é€ æ¨¡åž‹æ—¶ç”¨åˆ°çš„ä»£ä»·å‡½æ•°ç”¨ä¸ä¸Šé‚£äº›ä¸Žé¢„æµ‹å€¼å¾ˆæŽ¥è¿‘çš„è®­ç»ƒæ•°æ®ã€‚ æ”¯æŒå‘é‡å›žå½’æœ‰ä¸‰ç§ä¸åŒå®žçŽ°ï¼šSVR, NuSVRå’ŒLinearSVRã€‚LinearSVRæä¾›çš„å®žçŽ°æ¯”SVRå¿«ï¼Œä½†æ˜¯åªä½¿ç”¨çº¿æ€§æ ¸ã€‚NuSVRåˆ™æ˜¯ä½¿ç”¨äº†ä¸€ä¸ªç•¥ä¸åŒçš„æ•°å­¦åŽŸç†ã€‚ç»†èŠ‚è§åŽé¢â€œå®žçŽ°ç»†èŠ‚â€éƒ¨åˆ†ã€‚ ä¸Žåˆ†ç±»é—®é¢˜ç±»ä¼¼ï¼Œfitæ–¹æ³•æŽ¥å—å‘é‡Xå’Œyä½œä¸ºå‚æ•°ï¼Œä¸è¿‡è¿™é‡Œyåº”è¯¥æ˜¯æµ®ç‚¹åž‹è€Œä¸æ˜¯æ•´åž‹ï¼š 123456789&gt;&gt;&gt; from sklearn import svm&gt;&gt;&gt; X = [[0, 0], [2, 2]]&gt;&gt;&gt; y = [0.5, 2.5]&gt;&gt;&gt; clf = svm.SVR()&gt;&gt;&gt; clf.fit(X, y) SVR(C=1.0, cache_size=200, coef0=0.0, degree=3, epsilon=0.1, gamma='auto', kernel='rbf', max_iter=-1, shrinking=True, tol=0.001, verbose=False)&gt;&gt;&gt; clf.predict([[1, 1]])array([ 1.5]) ä½¿ç”¨çº¿æ€§æ ¸å’Œéžçº¿æ€§æ ¸è¿›è¡Œæ”¯æŒå‘é‡å›žå½’ï¼ˆSVR) å¯†åº¦ä¼°è®¡ä¸Žæ–°å¥‡å€¼æ£€æµ‹ï¼ˆnovelty detectionï¼‰å•ç±»åˆ«SVMå¯ç”¨äºŽæ–°å¥‡å€¼æ£€æµ‹ï¼Œå³ç»™å®šä¸€ç»„æ ·æœ¬ï¼Œæ£€æµ‹å‡ºè¯¥æ•°æ®é›†çš„è½¯è¾¹ç•Œï¼Œä»¥åˆ¤æ–­æ–°æ•°æ®ç‚¹æ˜¯å¦å±žäºŽè¯¥æ•°æ®é›†ã€‚OneClassSVMç±»å®žçŽ°è¯¥æ–¹æ³•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºŽè¿™æ˜¯ä¸€ç§æ— ç›‘ç£å­¦ä¹ ï¼Œæ•°æ®æ²¡æœ‰ç±»åˆ«æ ‡ç­¾ï¼Œå› æ­¤fitæ–¹æ³•åªæŽ¥å—æ•°ç»„Xä½œä¸ºè¾“å…¥ã€‚è§æ–°å¥‡å€¼ä¸Žå¼‚å¸¸å€¼æ£€æµ‹æ£€æµ‹ä¸€èŠ‚äº†è§£æ›´å¤šç”¨æ³•ã€‚ ä½¿ç”¨éžçº¿æ€§æ ¸ï¼ˆRBFï¼‰çš„å•ç±»åˆ«SVM ç§ç±»åˆ†å¸ƒå»ºæ¨¡ åº”ç”¨å»ºè®® é¿å…æ•°æ®æ‹·è´ï¼šå¯¹SVCã€SVRã€NuSVCå’ŒNuSVRï¼Œå¦‚æžœä¼ ç»™ç‰¹å®šæ–¹æ³•çš„æ•°æ®ä¸æ˜¯ä»¥Cè¯­è¨€æ‰€ä½¿ç”¨çš„é¡ºåºæŽ’åˆ—ï¼Œè€Œä¸”æ˜¯doubleç²¾åº¦ï¼Œé‚£ä¹ˆè¯¥æ•°æ®ä¼šåœ¨è°ƒç”¨åº•å±‚Cå®žçŽ°ä¹‹å‰è¢«æ‹·è´ä¸€ä»½ã€‚é€šè¿‡æ£€æŸ¥flagå±žæ€§ï¼Œå¯ä»¥æ£€æŸ¥ç»™å®šçš„numpyæ•°ç»„æ˜¯å¦æ˜¯ä»¥Cæ ¼å¼çš„è¿žç»­å­˜å‚¨æ–¹å¼æŽ’åˆ—çš„ã€‚å¯¹LinearSVCå’ŒLogisticRegressionï¼Œä»»ä½•ä»¥numpyæ•°ç»„å½¢å¼ä¼ å…¥çš„è¾“å…¥éƒ½ä¼šè¢«æ‹·è´ï¼Œç„¶åŽè½¬åŒ–ä¸ºliblinearå†…éƒ¨çš„ç¨€ç–æ•°æ®è¡¨ç¤ºå½¢å¼ï¼ˆåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œå¯¹éžé›¶å…ƒç´ å­˜å‚¨32ä½æ•´åž‹çš„ç´¢å¼•ï¼‰ã€‚å¦‚æžœä½ æƒ³è®­ç»ƒä¸€ä¸ªå¤§è§„æ¨¡çš„çº¿æ€§åˆ†ç±»å™¨ï¼Œè€Œåˆä¸æƒ³æ‹·è´ä¸€ä¸ªç¨ å¯†çš„numpy C-å­˜å‚¨åŒç²¾åº¦æ•°ç»„ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨SGDClassifierã€‚å¯ä»¥å¯¹å®ƒçš„ç›®æ ‡å‡½æ•°è¿›è¡Œé…ç½®ï¼Œä½¿å…¶ä¸ŽLinearSVCæ¨¡åž‹æ‰€ä½¿ç”¨çš„åŸºæœ¬ç›¸åŒã€‚ æ ¸ç¼“å­˜å¤§å°ï¼šå¯¹SVCã€SVRã€NuSVCå’ŒNuSVRï¼Œæ ¸ç¼“å­˜çš„å¤§å°å¯¹è¾ƒå¤§é—®é¢˜æ±‚è§£çš„è¿è¡Œæ—¶é—´æœ‰éžå¸¸å¼ºçš„å½±å“ã€‚å¦‚æžœä½ æœ‰è¶³å¤Ÿå†…å­˜ï¼Œå»ºè®®å°†cache_sizeè®¾ç½®ä¸ºä¸€ä¸ªé«˜äºŽé»˜è®¤å€¼200ï¼ˆMBï¼‰çš„å€¼ï¼Œæ¯”å¦‚500ï¼ˆMBï¼‰æˆ–1000ï¼ˆMBï¼‰ã€‚ è®¾ç½®Cï¼šé»˜è®¤æƒ…å†µä¸‹Cè®¾ä¸º1ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆç†çš„é€‰æ‹©ã€‚å¦‚æžœæ ·æœ¬ä¸­æœ‰è®¸å¤šå™ªéŸ³è§‚å¯Ÿç‚¹ï¼Œåˆ™åº”è¯¥å‡å°è¿™ä¸ªå€¼ã€‚è¿™æ„å‘³ç€å¯¹ä¼°è®¡ç»“æžœè¿›è¡Œæ›´ä¸¥æ ¼çš„æ­£åˆ™åŒ–ã€‚ SVMç®—æ³•ä¼šå—æ•°æ®å–å€¼èŒƒå›´çš„å½±å“ï¼Œæ‰€ä»¥å¼ºçƒˆå»ºè®®åœ¨ä½¿ç”¨ä¹‹å‰å¯¹æ•°æ®è¿›è¡Œç¼©æ”¾ã€‚ä¾‹å¦‚æŠŠè¾“å…¥å‘é‡Xçš„æ¯ä¸ªå±žæ€§ç¼©æ”¾åˆ°[0,1]æˆ–[-1,+1]å†…ï¼Œæˆ–è€…è¿›è¡Œæ ‡å‡†åŒ–ä½¿æ•°æ®çš„å‡å€¼ä¸º0æ–¹å·®ä¸º1ã€‚æ³¨æ„åœ¨æµ‹è¯•å‘é‡ä¸Šä¹Ÿè¦è¿›è¡ŒåŒæ ·çš„ç¼©æ”¾ï¼Œè¿™æ ·æ‰èƒ½å¾—åˆ°æœ‰æ„ä¹‰çš„ç»“æžœã€‚å…³äºŽæ•°æ®ç¼©æ”¾å’Œæ ‡å‡†åŒ–çš„æ›´å¤šç»†èŠ‚ï¼Œå‚è§å¤„ç†æ•°æ®ä¸€èŠ‚ NuSVC/OneClassVM/NuSVRä¸­çš„å‚æ•°muä¼°è®¡äº†è®­ç»ƒè¯¯å·®å’Œæ”¯æŒå‘é‡çš„æ¯”çŽ‡ åœ¨SVCä¸­ï¼Œå¦‚æžœè¦åˆ†ç±»çš„æ•°æ®æ˜¯ä¸å¹³è¡¡çš„ï¼ˆå¦‚æœ‰å¾ˆå¤šæ­£æ•°æ®ä½†æ˜¯å¾ˆå°‘è´Ÿæ•°æ®ï¼‰ï¼Œåº”è¯¥åŠ é€‰é¡¹class_weight=&#39;balanced&#39;ç„¶åŽ/æˆ–è€…å°è¯•ä¸åŒçš„æƒ©ç½šé¡¹å‚æ•°Cã€‚ LinearSVCçš„åº•å±‚å®žçŽ°ä½¿ç”¨äº†éšæœºæ•°ç”Ÿæˆå™¨æ¥åœ¨æ‹Ÿåˆæ¨¡åž‹æ—¶é€‰æ‹©ç‰¹å¾ã€‚å› æ­¤å¯¹åŒæ ·çš„è¾“å…¥æ•°æ®æœ‰ç•¥å¾®ä¸åŒçš„ç»“æžœä¸æ˜¯æ€ªäº‹ã€‚å¦‚æžœå‘ç”Ÿäº†è¿™æ ·çš„æƒ…å†µï¼Œè¯•ä¸€ä¸ªæ›´å°çš„tolå‚æ•° åˆ©ç”¨LinearSVC(loss=&#39;l2&#39;, penalty=&#39;l1&#39;, dual=False)æ¥å¼•å…¥L1æƒ©ç½šé¡¹ä¼šäº§ç”Ÿä¸€ä¸ªç¨€ç–è§£ï¼Œå³ç‰¹å¾æƒé‡ä¸­åªæœ‰ä¸€å°‘éƒ¨åˆ†ä¸ä¸º0ï¼Œä¼šå¯¹å†³ç­–å‡½æ•°äº§ç”Ÿè´¡çŒ®ã€‚å¢žåŠ Cä¼šäº§ç”Ÿä¸€ä¸ªæ›´å¤æ‚çš„æ¨¡åž‹ï¼ˆæœ‰æ›´å¤šç‰¹å¾è¢«é€‰æ‹©ï¼‰ã€‚å¯ä»¥é€šè¿‡l1_min_cæ¥è®¡ç®—äº§ç”Ÿâ€œç©ºâ€æ¨¡åž‹ï¼ˆæ‰€æœ‰æƒé‡éƒ½æ˜¯0ï¼‰çš„Cå€¼ã€‚ å†…æ ¸å‡½æ•°å‡ç»´çš„æ€æƒ³ç®€å•è¯´æ¥å°±æ˜¯ï¼šåœ¨åŽŸæ¥featureçš„åŸºç¡€ä¸Šäººä¸ºçš„æž„é€ ä¸€äº›æ–°çš„featureï¼Œåœ¨æ›´é«˜ç»´åº¦çš„ç©ºé—´é‡Œï¼ŒåŽŸæ¥ä¸çº¿æ€§å¯åˆ†çš„é—®é¢˜å°±ä¼šå˜æˆçº¿æ€§å¯åˆ†çš„é—®é¢˜ï¼Œå°±åˆå¯ä»¥ç”¨svmäº†ã€‚ å¯¹é«˜ç»´ç©ºé—´é‡Œçš„çº¿æ€§å¯åˆ† å‡ç»´çš„æ€æƒ³ç¡®å®žå¾ˆæ¼‚äº®ï¼Œä½†æ˜¯çŽ°å®žå¾€å¾€æ˜¯å¾ˆéª¨æ„Ÿçš„ï¼šå¦‚æžœå¯¹ä¸åŒçš„æ•°æ®é›†ï¼Œæ¯æ¬¡éƒ½è¦å¯»æ‰¾ä¸€ä¸ªåˆé€‚çš„å‡½æ•°ï¼Œæ¥æŠŠä½Žç»´ç©ºé—´ä¸­çš„ç‚¹xæ˜ å°„åˆ°é«˜ç»´ç©ºé—´ä¸­åŽ»æ˜¯ä¸€ä»¶å¾ˆå›°éš¾çš„äº‹æƒ…ã€‚ä½†æ˜¯å›žæƒ³ä¸€ä¸‹svmé‡Œçš„æœ€ç»ˆè¡¨è¾¾å¼ï¼Œå…¶å®žå…·ä½“çš„è¡¨è¾¾å¼å¹¶ä¸åœ¨æœ€ç»ˆç»“æžœé‡Œå‡ºçŽ°ï¼Œå‡ºçŽ°çš„åªæœ‰å†…ç§¯ã€‚å¦‚æžœæœ‰åŠžæ³•ç›´æŽ¥ç®—å‡ºé«˜ç»´ç©ºé—´ä¸­çš„æ–°å†…ç§¯ï¼Œå°±ä¸éœ€è¦è´¹åŠ›åŽ»æž„é€ ã€‚ æ ¸å‡½æ•°ï¼ˆKernel methodï¼‰æ­£æ˜¯åŸºäºŽè¿™ä¸€æ€æƒ³çš„æŠ€å·§ã€‚æˆ‘ä»¬å¯ä»¥æŠŠkernelæƒ³è±¡æˆï¼Œç„¶åŽä¸åŽ»æ“å¿ƒf(x)ï¼Œè€Œæ˜¯å°è¯•ä¸åŒçš„æ ¸å‡½æ•°å°±å¯ä»¥äº†ã€‚ æ ¸å‡½æ•°å¯ä»¥æœ‰ä»¥ä¸‹å‡ ç§é€‰æ‹©ï¼š çº¿æ€§ï¼ˆlinearï¼‰æ ¸ï¼š $\langle x,x^{â€˜}\rangle$ ã€‚ å¤šé¡¹å¼ï¼ˆpolynomialï¼‰æ ¸ï¼š $\left (\gamma \left \langle x, {x}â€™ \right \rangle +r \right )^{d}$ ã€‚å…¶ä¸­ $d$ ç”±é€‰é¡¹degreeæŒ‡å®šï¼Œ$r$ ç”±coef0æŒ‡å®š å¾„å‘åŸºGaussianï¼ˆRBFï¼‰å‡½æ•°ï¼š $ exp( - gamma | x-xâ€™ | ^ 2)$ ã€‚å…¶ä¸­ $\gamma$ ç”±é€‰é¡¹gammaæŒ‡å®šï¼Œå¿…é¡»å¤§äºŽ0 sigmoidå‡½æ•° $\tanhï¼ˆ\gamma \langle xï¼Œxâ€™\rangle + rï¼‰$ ï¼Œå…¶ä¸­ç”±é€‰é¡¹coef0æŒ‡å®š åœ¨åˆå§‹åŒ–æ—¶é€šè¿‡é€‰é¡¹kernelæŒ‡å®šç”¨ä»€ä¹ˆæ ¸ 123456&gt;&gt;&gt; linear_svc = svm.SVC(kernel='linear')&gt;&gt;&gt; linear_svc.kernel'linear'&gt;&gt;&gt; rbf_svc = svm.SVC(kernel='rbf')&gt;&gt;&gt; rbf_svc.kernel'rbf' è‡ªå®šä¹‰æ ¸Scikitæä¾›ä¸¤ç§æ–¹æ³•æ¥è‡ªå®šä¹‰æ ¸å‡½æ•°ï¼šç»™å‚æ•°kernelä¼ å…¥ä¸€ä¸ªpythonå‡½æ•°ï¼Œæˆ–è€…æå‰è®¡ç®—å¥½GramçŸ©é˜µã€‚ä½¿ç”¨è‡ªå®šä¹‰æ ¸çš„åˆ†ç±»å™¨å’Œå…¶å®ƒåˆ†ç±»å™¨æœ‰ç±»ä¼¼çš„è¡Œä¸ºï¼Œä¸è¿‡ä»¥ä¸‹ä¸¤ç‚¹é™¤å¤–ï¼š support_vectors_åŸŸä¸ºç©ºï¼Œåªåœ¨support_é‡Œé¢å­˜å‚¨æ”¯æŒå‘é‡çš„ç´¢å¼• ä¼šä¸ºfit()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å­˜å‚¨ä¸€ä¸ªå¼•ç”¨ï¼ˆä¸æ˜¯æ‹·è´ï¼‰ï¼Œæ¥ä¸ºä»¥åŽå¼•ç”¨ä¹‹åšå‡†å¤‡ã€‚å¦‚æžœåœ¨è°ƒç”¨fit()ä¹‹åŽï¼Œåœ¨è°ƒç”¨predict()ä¹‹å‰ä¿®æ”¹è¿™ä¸ªæ•°ç»„ï¼Œåˆ™ä¼šäº§ç”Ÿä¸€äº›ä¸å¯é¢„çŸ¥çš„ç»“æžœã€‚ ä½¿ç”¨Pythonå‡½æ•°ä½œä¸ºæ ¸å¯ä»¥åœ¨æž„é€ å‡½æ•°ä¸­å‘å‚æ•°kernelä¼ è¿›ä¸€ä¸ªå‡½æ•°ï¼Œæ¥ä½¿ç”¨è‡ªå®šä¹‰çš„æ ¸ã€‚è¯¥å‡½æ•°å¿…é¡»æŽ¥å—ä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º(n_samples_1, n_features), (n_samples_2, n_features)çš„çŸ©é˜µä½œä¸ºå‚æ•°ï¼Œè¿”å›žä¸€ä¸ªå¤§å°ä¸º(n_samples_1, n_samples_2)çš„æ ¸çŸ©é˜µã€‚ å¦‚ä¸‹ä»£ç å®šä¹‰äº†ä¸€ä¸ªçº¿æ€§æ ¸ï¼Œå¹¶ä½¿ç”¨è¯¥æ ¸åˆ›å»ºäº†ä¸€ä¸ªåˆ†ç±»å™¨å®žä¾‹ 123456&gt;&gt;&gt; import numpy as np&gt;&gt;&gt; from sklearn import svm&gt;&gt;&gt; def my_kernel(X, Y):... return np.dot(X, Y.T)...&gt;&gt;&gt; clf = svm.SVC(kernel=my_kernel) ä½¿ç”¨è‡ªå®šä¹‰æ ¸çš„SVM æ•°å­¦åŽŸç†æ”¯æŒå‘é‡æœºçš„åŽŸç†æ˜¯åœ¨é«˜ç»´ç”šè‡³æ— é™ç»´ç©ºé—´ä¸­æž„å»ºä¸€ä¸ªè¶…å¹³é¢æˆ–è€…è‹¥å¹²è¶…å¹³é¢ç»„æˆçš„é›†åˆï¼Œå¹¶è—‰æ­¤ç”¨äºŽåˆ†ç±»ã€å›žå½’æˆ–å…¶å®ƒä»»åŠ¡ã€‚ä»Žç›´è§‰ä¸Šæ¥è®²ï¼Œå¥½çš„åˆ†éš”é¢æ˜¯ç”±ä½¿å¾—å‡½æ•°é—´éš”æœ€å¤§çš„è¶…å¹³é¢å¾—åˆ°ï¼ˆå³è¯¥è¶…å¹³é¢åˆ°ä»»ä½•ç±»åˆ«æœ€è¿‘è®­ç»ƒæ•°æ®ç‚¹çš„è·ç¦»éƒ½å–å¾—æœ€å¤§å€¼ï¼‰ï¼Œå› ä¸ºæ€»ä½“ä¸Šæ¥è®²ï¼Œé—´éš”è¶Šå¤§ï¼Œåˆ†ç±»å™¨çš„æ³›åŒ–è¯¯å·®è¶Šå°ã€‚ SVCç»™å®šå¯èƒ½å±žäºŽæŸä¸¤ç§ç±»åˆ«çš„è®­ç»ƒå‘é‡ $x_i \in \mathbb{R}, i=1,2,â€¦,n$ å’Œå‘é‡ $y \in \left\{ 1,-1 \right\}^{n}$ ï¼ŒSVCè§£å†³çš„é¦–è¦é—®é¢˜æ˜¯ \min_{\omega ,b,\zeta} \frac{1}{2}\omega^{T}\omega + C \sum_{i=1}^{n}\zeta_i \\ subject \ to \ y_i (\omega^{T}\phi(x_i)+b) \geqslant 1-\zeta_i, \\ \zeta_i \geqslant 0,i=1,2,...,nå…¶å¯¹å¶å½¢å¼ä¸º \min_{\alpha} \frac{1}{2} \alpha^{T}Q\alpha-e^{T}\alpha \\ subject\ to\ y^{T}\alpha=0\\ 0 \leqslant \alpha_i \leqslant C,i=1,2,...,nå…¶ä¸­ $e$ æ˜¯å…¨ $1$ å‘é‡ï¼Œ $C &gt; 0$ æ˜¯ä¸Šç•Œï¼Œ $Q$ æ˜¯ä¸€ä¸ªåŠæ­£å®šçŸ©é˜µï¼Œ$Q_{ij} \equiv y_i y_j K(x_i,x_j)$ ï¼Œå…¶ä¸­ $K(x_i,x_j) \equiv \phi(x_i)^{T} \phi(x_j)$ æ˜¯æ ¸ã€‚è¿™é‡Œè®­ç»ƒå‘é‡é€šè¿‡å‡½æ•°è¢«éšå¼æ˜ å°„åˆ°ä¸€ä¸ªé«˜ç»´ï¼ˆç”šè‡³æ— é™ç»´ï¼‰ç©ºé—´ $\phi$ ã€‚ å†³ç­–å‡½æ•°æ˜¯ æ³¨æ„ï¼šè™½ç„¶ä»Žlibsvmå’Œliblinearå¯¼å‡ºçš„SVMæ¨¡åž‹ä½¿ç”¨ $C$ ä½œä¸ºæ­£åˆ™åŒ–å‚æ•°ï¼Œä½†å®žé™…ä¸Šå…¶å®ƒæ›´å¤šé¢„æµ‹å™¨ä½¿ç”¨çš„æ˜¯alphaã€‚è¿™ä¸¤ä¸ªå‚æ•°ä¹‹é—´çš„å…³ç³»æ˜¯ \mathop{\rm sgn}(\sum_{i=1}^n y_i \alpha_i K(x_i,x_j)+\rho)è¿™äº›å‚æ•°å¯ä»¥é€šè¿‡å„ä¸ªæˆå‘˜å˜é‡è®¿é—®ï¼šdual_coef_å­˜æ”¾ä¹˜ç§¯ï¼Œsupport_vectorså­˜æ”¾æ”¯æŒå‘é‡ï¼Œintercept_å­˜æ”¾ç‹¬ç«‹é¡¹ï¼š å‚è€ƒæ–‡çŒ®ï¼š â€œAutomatic Capacity Tuning of Very Large VC-dimension Classifiersâ€, I. Guyon, B. Boser, V. Vapnik - Advances in neural information processing 1993. â€œSupport-vector networksâ€, C. Cortes, V. Vapnik - Machine Learning, 20, 273-297 (1995). NuSVCå…¶æä¾›äº†ä¸€ä¸ªæ–°çš„å‚æ•°ï¼ŒæŽ§åˆ¶æ”¯æŒå‘é‡çš„ä¸ªæ•°å’Œè®­ç»ƒè¯¯å·®ã€‚å‚æ•° $v \in \left (0,1 \right ]$ æ˜¯è®­ç»ƒè¯¯å·®çš„ä¸Šé™å’Œæ”¯æŒå‘é‡çš„ä¸‹é™ã€‚ å¯ä»¥çœ‹åˆ°v-SVCæ˜¯C-SVCçš„ä¸€ç§é‡å‚æ•°åŒ–å½¢å¼ï¼Œå› æ­¤ä¸¤è€…åœ¨æ•°å­¦ä¸Šæ˜¯ç­‰ä»·çš„ã€‚ SVRç»™å®šè®­ç»ƒå‘é‡ç»„ $x_i \in \mathbb{R}^p , i=1,2,â€¦,n$ å’Œå‘é‡ $y \in \mathbb{R}^n , \varepsilon-SVR$ è¦è§£å†³çš„ä¸»è¦é—®é¢˜å¦‚ä¸‹æ‰€ç¤ºï¼š \min_{\omega ,b,\zeta, \zeta^*} \frac{1}{2}\omega^{T}\omega + C \sum_{i=1}^{n}(\zeta_i+\zeta^*) \\ subject \ to \ y_i - \omega^T \phi(x_i) - b \leqslant \varepsilon + \zeta_i, \\ \omega^T \phi(x_i) + b - y_i \leqslant \varepsilon + \zeta_i^*, \\ \zeta_i, \zeta_{i}^* \geqslant 0,i=1,2,...,nå…¶å¯¹å¶ä¸º \min_{\alpha, \alpha^*} \frac{1}{2} (\alpha - \alpha^*)^{T}Q(\alpha - \alpha^*) + \varepsilon e^T (\alpha + \alpha^*) -y^T (\alpha - \alpha^*)\\ subject\ to\ e^{T} (\alpha - \alpha^*) =0\\ 0 \leqslant \alpha_i,\alpha_i^* \leqslant C,i=1,2,...,nå…¶ä¸­ $e$ æ˜¯å…¨ $1$ å‘é‡ï¼Œ$C &gt; 0$ æ˜¯ä¸Šç•Œï¼Œ$Q$ æ˜¯ä¸€ä¸ªåŠæ­£å®šçŸ©é˜µï¼Œ $Q_{ij} \equiv K(x_i,x_j) = \phi(x_i)^T \phi(x_j)$ æ˜¯å†…æ ¸ã€‚è¿™é‡Œè®­ç»ƒå‘é‡é€šè¿‡å‡½æ•°è¢«éšå¼æ˜ å°„åˆ°ä¸€ä¸ªé«˜ç»´ï¼ˆç”šè‡³æ— é™ç»´ï¼‰ç©ºé—´ $\phi$ ã€‚ å†³ç­–å‡½æ•°ä¸º \sum_{i=1}^n (\alpha - \alpha^*)K(x_i,x) + \rhoè¿™äº›å‚æ•°å¯ä»¥é€šè¿‡å„ä¸ªæˆå‘˜å˜é‡è®¿é—®ã€‚å…¶ä¿æŒçš„å·® $\alpha - \alpha^*$ ï¼Œå…¶ä¸­å˜é‡dual_coef_å­˜å‚¨ï¼Œsupport_vectors_å­˜å‚¨æ”¯æŒå‘é‡ï¼Œintercept_å­˜å‚¨ç‹¬ç«‹é¡¹ $\rho$ ã€‚ å‚è€ƒæ–‡çŒ®ï¼š â€œA Tutorial on Support Vector Regressionâ€, Alex J. Smola, Bernhard SchÃ¶lkopf - Statistics and Computing archive Volume 14 Issue 3, August 2004, p. 199-222. åº•å±‚å®žçŽ°åœ¨åº•å±‚ï¼Œä½¿ç”¨ libsvm å’Œ liblinear æ¥å¤„ç†æ‰€æœ‰è®¡ç®—é€»è¾‘ã€‚è¿™äº›åº“æ˜¯è¢«Cå’ŒCythonåŒ…è£…çš„ã€‚ å‚è€ƒæ–‡çŒ®ï¼š LIBSVM: a library for Support Vector Machines LIBLINEAR â€“ A Library for Large Linear Classification]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
        <tag>Python</tag>
        <tag>SVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®è¡¨æŸ¥è¯¢]]></title>
    <url>%2F2017%2F09%2F19%2FQuery%20database%2F</url>
    <content type="text"><![CDATA[æ•°æ®æŸ¥è¯¢æ˜¯æ•°æ®åº“æ“ä½œçš„æ ¸å¿ƒæ“ä½œã€‚SQLæä¾›äº†SELECTè¯­å¥è¿›è¡Œæ•°æ®æŸ¥è¯¢ï¼Œå…¶ä¸€èˆ¬æ ¼å¼ä¸ºï¼š SELECT [ALL | DISTINCT] &lt;ç›®æ ‡åˆ—è¡¨è¾¾å¼&gt; FROM &lt;è¡¨åæˆ–è§†å›¾å&gt; (&lt;SELECT è¯­å¥&gt;) [AS] &lt;åˆ«å&gt; [WHERE&lt;æ¡ä»¶è¡¨è¾¾å¼&gt;] ä»¥ä¸‹æ“ä½œï¼Œéƒ½ä»¥ä¸‹è¡¨ä¸ºæ¨¡åž‹ã€‚ Student Sno Sname Ssex Sage Sdept 201215121 Yong Li M 20 CS 201215122 Chen Liu F 19 CS 201215123 Min Wang F 18 MA 201215125 Li Zhang M 19 IS Course Cno Cname Cpno Ccredit 1 Data base 5 4 2 Mathematics 2 3 Information system 1 4 4 Operating system 6 3 5 Data structure 7 4 6 Data processing 2 7 PASCAL language 6 4 SC Sno Cno Grade 201215121 1 92 201215121 2 85 201215121 3 88 201215122 2 90 201215122 3 80 å•è¡¨æŸ¥è¯¢é€‰æ‹©è¡¨ä¸­çš„è‹¥å¹²åˆ—é€‰æ‹©è¡¨ä¸­çš„å…¨éƒ¨æˆ–è‹¥å¹²åˆ—å³å…³ç³»ä»£æ•°çš„æŠ•å½±è¿ç®—ã€‚ æŸ¥è¯¢æŒ‡å®šåˆ—æŸ¥è¯¢å…¨ä½“å­¦ç”Ÿçš„å­¦å·å’Œå§“å12select SNO, SNAME from Student; ç›®æ ‡è¡¨è¾¾å¼ä¸­çš„å„åˆ—å…ˆåŽé¡ºåºå¯ä»¥ä¸åŒ æŸ¥è¯¢å…¨éƒ¨åˆ—æŸ¥è¯¢å…¨ä½“å­¦ç”Ÿçš„è¯¦ç»†è®°å½•12select * from Student; æŸ¥è¯¢ç»è¿‡è®¡ç®—çš„å€¼æŸ¥è¯¢å…¨ä½“å­¦ç”Ÿçš„å§“ååŠå‡ºç”Ÿå¹´ä»½12select SNAME, 2017-SAGE from Student; æŸ¥è¯¢ç»“æžœä¸­ç¬¬ 2 åˆ—ä¸æ˜¯åˆ—åï¼Œè€Œæ˜¯ä¸€ä¸ªè®¡ç®—è¡¨è¾¾å¼ï¼Œç”¨å½“å‰å¹´ä»½å‡åŽ»å­¦ç”Ÿå¹´é¾„ï¼Œæ‰€å¾—åˆ°çš„å³æ˜¯å­¦ç”Ÿçš„å‡ºç”Ÿå¹´ä»½ã€‚ æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿå§“åã€å‡ºç”Ÿå¹´ä»½å’Œæ‰€åœ¨é™¢ç³»ï¼Œè¦æ±‚ç”¨å°å†™å­—æ¯è¡¨ç¤ºç³»å12select SNAME, 2017-SAGE, lower(SDEPT) from Student; æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿå§“åã€å‡ºç”Ÿå¹´ä»½å’Œæ‰€åœ¨é™¢ç³»ï¼Œè¦æ±‚ç”¨å°å†™å­—æ¯è¡¨ç¤ºç³»åï¼Œå¹¶åˆ†åˆ«ä½¿ç”¨åˆ«åæ ‡è¯†12select SNAME as NAME, 2017-SAGE as BIRTHDAY, lower(SDEPT) as DEPARTMENT from Student; å…¶ä¸­aså¯ä»¥çœç•¥ é€‰æ‹©è¡¨ä¸­è‹¥å¹²å…ƒç»„æ¶ˆé™¤å–å€¼é‡å¤çš„è¡ŒæŸ¥è¯¢é€‰ä¿®äº†è¯¾ç¨‹çš„å­¦ç”Ÿå­¦å·12select distinct SNO from SC; å¦‚æžœæ²¡æœ‰distinctå…³é”®è¯ï¼Œåˆ™é»˜è®¤ä¸ºallã€‚ æŸ¥è¯¢æ»¡è¶³æ¡ä»¶çš„å…ƒç»„æ¯”è¾ƒå¤§å°æŸ¥è¯¢æ‰€æœ‰å¹´é¾„å°äºŽ20å²çš„å­¦ç”Ÿå§“ååŠå¹´é¾„123select SNAME, SAGE from Student where SAGE&lt;20; ç¡®å®šèŒƒå›´æŸ¥è¯¢å¹´é¾„åœ¨20~23å²ä¹‹é—´çš„å­¦ç”Ÿå§“åï¼Œç³»åˆ«å’Œå¹´é¾„ã€‚123select SNAME, SDEPT, SAGE from Student where SAGE between 20 and 23; æŸ¥è¯¢å¹´é¾„ä¸åœ¨20~23å²ä¹‹é—´çš„å­¦ç”Ÿå§“åï¼Œç³»åˆ«å’Œå¹´é¾„ã€‚123select SNAME, SDEPT, SAGE from Student where SAGE not between 20 and 23; ç¡®å®šé›†åˆæŸ¥è¯¢CSï¼ŒMAï¼ŒISå­¦ç”Ÿçš„å§“åå’Œæ€§åˆ«123select SNAME, SSEX from Student where SDEPT in ('CS', 'MA', 'IS'); æŸ¥è¯¢ä¸åœ¨CSï¼ŒMAï¼ŒISå­¦ç”Ÿçš„å§“åå’Œæ€§åˆ«123select SNAME, SSEX from Student where SDEPT not in ('CS', 'MA', 'IS'); å­—ç¬¦åŒ¹é…è°“è¯LIKEå¯ä»¥ç”¨æ¥è¿›è¡Œå­—ç¬¦ä¸²çš„åŒ¹é…ã€‚å…¶ä¸€èˆ¬è¯­æ³•æ ¼å¼ä¸ºï¼š [NOT] LIKE &#39;&lt;åŒ¹é…ä¸²&gt;&#39; [ESCAPE &#39;&lt;è½¬ç å­—ç¬¦&gt;&#39;] %ä»£è¡¨ä»»æ„é•¿åº¦ï¼ˆé•¿åº¦å¯ä»¥æ˜¯0ï¼‰çš„å­—ç¬¦ä¸²ã€‚ _ä»£è¡¨ä»»æ„å•ä¸ªå­—ç¬¦ã€‚ åœ¨æŸ¥è¯¢åŒ¹é…å­—ç¬¦ä¸²ä¸­å¦‚æžœæœ¬èº«å«æœ‰%æˆ–_ï¼Œè¿™æ—¶éœ€è¦ä½¿ç”¨ESCAPE &#39;&lt;è½¬ç å­—ç¬¦&gt;&#39;çŸ­è¯­å¯¹é€šé…ç¬¦è¿›è¡Œè½¬ä¹‰ã€‚ æŸ¥è¯¢å­¦å·ä¸ºâ€™201215121â€™çš„å­¦ç”Ÿçš„è¯¦ç»†æƒ…å†µ123select * from Student where SNO like '201215121'; æŸ¥è¯¢æ‰€æœ‰å§“â€™Liuâ€™çš„å­¦ç”Ÿå§“åï¼Œå­¦å·å’Œæ€§åˆ«lite123select SNAME, SNO, SSEX from Studentwhere SNAME like 'Liu%'; æŸ¥è¯¢DB_Designè¯¾ç¨‹çš„è¯¾ç¨‹å·å’Œå­¦åˆ†123select CNO, CCREDIT from Course where CNAME like 'DB\_Design' escape '\'; æ¶‰åŠç©ºå€¼çš„æŸ¥è¯¢æŸ¥è¯¢æ‰€æœ‰æœ‰æˆç»©çš„å­¦ç”Ÿçš„å­¦å·å’Œæˆç»©123select SNO, GRADE from SC where GRADE is not null; å¤šé‡æ¡ä»¶æŸ¥è¯¢æŸ¥æ–°CSç³»å¹´é¾„åœ¨20å²ä»¥ä¸‹çš„å­¦ç”Ÿå§“å123select SNAME from SCwhere SAGE&lt;20 and SDEPT='CS'; ORDER BY å­å¥å¯ä»¥ç”¨ORDER BYå­å¥å¯¹æŸ¥è¯¢ç»“æžœè¿›è¡Œå‡åºï¼ˆASCï¼‰æˆ–é™åºï¼ˆDESCï¼‰æŽ’åˆ—ã€‚é»˜è®¤ä¸ºå‡åºã€‚ æŸ¥è¯¢é€‰ä¿®äº†3å·è¯¾ç¨‹çš„å­¦ç”Ÿçš„å­¦å·å’Œæˆç»©ï¼ŒæŸ¥è¯¢ç»“æžœæŒ‰åˆ†æ•°é™åºæŽ’åˆ—ã€‚1234select SNO, Grade from SCwhere Cno='3'order by GRADE desc; èšé›†å‡½æ•°ä¸ºè¿›ä¸€æ­¥æ–¹ä¾¿ç”¨æˆ·ï¼Œå¢žå¼ºæ£€ç´¢åŠŸèƒ½ï¼ŒSQLæä¾›äº†å¦‚ä¸‹èšé›†å‡½æ•°ï¼š å‡½æ•°å åŠŸèƒ½ COUNT(*) ç»Ÿè®¡å…ƒç»„ä¸ªæ•° COUNT([DISTINCT\ALL] &lt;åˆ—å&gt;) ç»Ÿè®¡ä¸€åˆ—ä¸­å€¼å¾—ä¸ªæ•° SUM([DISTINCT\ALL] &lt;åˆ—å&gt;) è®¡ç®—ä¸€åˆ—å€¼å¾—æ€»å’Œï¼ˆæ­¤åˆ—å¿…é¡»æ˜¯æ•°å€¼ç±»åž‹ï¼‰ AVG([DISTINCT\ALL] &lt;åˆ—å&gt;) è®¡ç®—ä¸€åˆ—å€¼å¾—å¹³å‡å€¼ï¼ˆæ­¤åˆ—å¿…é¡»æ˜¯æ•°å€¼ç±»åž‹ï¼‰ MAX([DISTINCT\ALL] &lt;åˆ—å&gt;) æ±‚ä¸€åˆ—å€¼ä¸­çš„æœ€å¤§å€¼ MIN([DISTINCT\ALL] &lt;åˆ—å&gt;) æ±‚ä¸€åˆ—å€¼ä¸­çš„æœ€å°å€¼ æŸ¥è¯¢å­¦ç”Ÿæ€»äººæ•°12select count(*)from Student; æŸ¥è¯¢é€‰ä¿®äº†è¯¾ç¨‹çš„å­¦ç”Ÿäººæ•°12select count(distinct SNO)from SC; è®¡ç®—é€‰ä¿®1å·è¯¾ç¨‹çš„å­¦ç”Ÿå¹³å‡æˆç»©123select avg(Grade)from SCwhere SNO='1'; æŸ¥æ–°é€‰ä¿®1å·è¯¾ç¨‹çš„å­¦ç”Ÿæœ€é«˜åˆ†æ•°123select max(Grade)from SCwhere CNO='1'; GROUP BYå­å¥GROUP BYå­å¥å°†æŸ¥è¯¢ç»“æžœæŒ‰æŸä¸€åˆ—æˆ–å¤šåˆ—çš„å€¼åˆ†ç»„ï¼Œå€¼ç›¸ç­‰ä¸ºä¸€ç»„ã€‚ åˆ†ç»„åŽèšé›†å‡½æ•°å°†ä½œç”¨ä¸Žæ¯ä¸€ä¸ªç»„ï¼Œå³æ¯ä¸€ç»„éƒ½æœ‰ä¸€ä¸ªå‡½æ•°å€¼ã€‚ æ±‚å„ä¸ªè¯¾ç¨‹å·åŠç›¸åº”çš„é€‰è¯¾äººæ•°123select CNO, count(SNO)from SCgroup by CNO; æŸ¥è¯¢å¹³å‡æˆç»©å¤§äºŽç­‰äºŽ90åˆ†çš„å­¦ç”Ÿå­¦å·å’Œå¹³å‡æˆç»©1234select SNO, avg(Grade)from SCgroup by SNOhaving avg(Grade)&gt;=90 WHEREå­å¥ä¸­æ˜¯ä¸èƒ½ç”¨èšé›†å‡½æ•°ä½œä¸ºæ¡ä»¶è¡¨è¾¾å¼ï¼Œåº”ç”¨HAVING è¿žæŽ¥æŸ¥è¯¢ç­‰å€¼äºŽéžç­‰å€¼è¿žæŽ¥æŸ¥è¯¢è¿žæŽ¥æŸ¥è¯¢çš„WHEREå­å¥ä¸­ç”¨æ¥è¿žæŽ¥ä¸¤ä¸ªè¡¨çš„æ¡ä»¶ç§°ä¸ºè¿žæŽ¥æ¡ä»¶æˆ–è¿žæŽ¥è°“è¯ï¼Œæ ¼å¼ä¸ºï¼š [&lt;è¡¨å1&gt;.] &lt;åˆ—å1&gt;&lt;æ¯”è¾ƒè¿ç®—ç¬¦&gt; [&lt;è¡¨å2&gt;.] &lt;åˆ—å2&gt; [&lt;è¡¨å1&gt;.] &lt;åˆ—å1&gt;BETWEEN [&lt;è¡¨å2&gt;.] &lt;åˆ—å2&gt;AND [&lt;è¡¨å3&gt;.] &lt;åˆ—å3&gt; æŸ¥è¯¢æ¯ä¸ªå­¦ç”ŸåŠå…¶é€‰ä¿®è¯¾ç¨‹æƒ…å†µ123select Student.*, SC.*from Student, SCwhere Student.SNO=SC.SNO; æŸ¥è¯¢é€‰ä¿®2å·è¯¾ç¨‹ä¸”æˆç»©åœ¨90åˆ†ä»¥ä¸Šçš„æ‰€æœ‰å­¦ç”Ÿçš„å­¦å·å’Œå§“å123select Student.SNO, Snamefrom Student, SCwhere Student.SNO=SC.SNO and SC.CNO='2' and SC.Grade&gt;90; è‡ªèº«è¿žæŽ¥æŸ¥è¯¢æ¯ä¸€é—¨è¯¾çš„é—´æŽ¥å…ˆä¿®è¯¾123select FIRST.CNO, SECOND.CPNOfrom Course FIRST, Course SECONDwhere FIRST.SPNO=SECOND.CNO; å¤–è¿žæŽ¥æŸ¥è¯¢æ¯ä¸ªå­¦ç”ŸåŠå…¶é€‰ä¿®è¯¾ç¨‹æƒ…å†µ12select Student.SNO, SNAME, SSEX, SAGE, SDEPT, CNO, GRADEfrom Student left outer join SC on (Student.SNO=SC.SNO); å¤šè¡¨è¿žæŽ¥æŸ¥è¯¢æ¯ä¸ªå­¦ç”Ÿçš„å­¦å·ï¼Œå§“åï¼Œé€‰ä¿®çš„è¯¾ç¨‹åç§°åŠæˆç»©123select Student.SNO, SNAME, CNAME, GRADEfrom Student, SC, Coursewhere Student.SNO=SC.SNO and SC.CNO=Course.CNO;]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>DataBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VPSæ­è½½sså®žçŽ°ç§‘å­¦ä¸Šç½‘]]></title>
    <url>%2F2017%2F09%2F18%2FThe%20Usage%20of%20traffic-proxy%20in%20Shadowsocks%20at%20VPS%2F</url>
    <content type="text"><![CDATA[ç®€è€Œè¨€ä¹‹ï¼Œæƒ³ä½¿ç”¨shadowsocksç¿»å¢™ï¼Œéœ€è¦ä¸€ä¸ªå®¢æˆ·ç«¯å’Œä¸€ä¸ªæœåŠ¡ç«¯ã€‚ è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯å¦‚ä½•åœ¨VPSä¸Šé…ç½®shadowsocksï¼Œå¹¶ä½¿ç”¨ä»£ç†å®žçŽ°ç§‘å­¦ä¸Šç½‘ã€‚ ç™»å½•VPSæœåŠ¡å™¨åœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š 1ssh -i [PATH_TO_PRIVATE_KEY] [USERNAME]@[EXTERNAL_IP_ADDRESS] [PATH_TO_PRIVATE_KEY]æ˜¯ç§é’¥è·¯å¾„ã€‚ [USERNAME]æ˜¯è¿žæŽ¥åˆ°VPSçš„ç”¨æˆ·çš„åç§°ã€‚ [EXTERNAL_IP_ADDRESS] æ˜¯VPSçš„å¤–éƒ¨IPåœ°å€ã€‚ ä¸‹è½½shadowsockså®¢æˆ·ç«¯CentOS12yum install python-setuptools &amp;&amp; easy_install pippip install shadowsocks Debian/Ubuntu:12apt-get install python-pippip install shadowsocks æœ‰æ—¶Ubuntuä¼šé‡åˆ°ç¬¬ä¸€ä¸ªå‘½ä»¤å®‰è£…python-pipæ—¶æ‰¾ä¸åˆ°åŒ…çš„æƒ…å†µã€‚pipå®˜æ–¹ç»™å‡ºäº†ä¸€ä¸ªå®‰è£…è„šæœ¬ï¼Œå¯ä»¥è‡ªåŠ¨å®‰è£…pipã€‚å…ˆä¸‹è½½è„šæœ¬ï¼Œç„¶åŽæ‰§è¡Œå³å¯ï¼š 12wget https://bootstrap.pypa.io/get-pip.pypython get-pip.py æˆ–è€…ä½¿ç”¨easy_installå®‰è£…ï¼š 1sudo easy_install shadowsocks ç¼–å†™é…ç½®æ–‡ä»¶shadowsockså¯åŠ¨æ—¶çš„å‚æ•°ï¼Œå¦‚æœåŠ¡å™¨ç«¯å£ï¼Œä»£ç†ç«¯å£ï¼Œç™»å½•å¯†ç ç­‰ï¼Œå¯ä»¥é€šè¿‡å¯åŠ¨æ—¶çš„å‘½ä»¤è¡Œå‚æ•°æ¥è®¾å®šï¼Œä¹Ÿå¯ä»¥é€šè¿‡jsonæ ¼å¼çš„é…ç½®æ–‡ä»¶è®¾å®šã€‚æŽ¨èä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œæ–¹ä¾¿æŸ¥çœ‹å’Œä¿®æ”¹ã€‚ ç”¨viæ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼š 1vi /etc/shadowsocks.json ç„¶åŽè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š 1234567891011121314151617181920212223&#123; "server": "0.0.0.0", "server_ipv6": "::", "server_port": 443, "local_address": "127.0.0.1", "local_port": 1081, "port_password":&#123; "port_1":"password_1", "port_2":"pawwword_2" &#125;, "timeout": 120, "udp_timeout": 60, "method": "chacha20", "protocol": "auth_sha1_v4_compatible", "protocol_param": "", "obfs": "tls1.2_ticket_auth_compatible", "obfs_param": "", "dns_ipv6": false, "connect_verbose_info": 1, "redirect": "", "fast_open": false, "workers": 1&#125; ç®€å•è¯´æ˜Žä¸€ä¸‹å„ä¸ªé…ç½®é¡¹ï¼š serverä½ çš„VPSæœåŠ¡å™¨çš„IPåœ°å€ server_portä½ çš„shadowsocksæœåŠ¡ç«¯å£ã€‚ä¸€èˆ¬å¯ä»¥å¡«ä¸€ä¸ª1025åˆ°49151ä¹‹é—´çš„æ•°å­—ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„æ˜¯å¤–éƒ¨ç«¯å£ï¼Œä½¿ç”¨æ—¶åº”é¿å…å’Œå…¶å®ƒç«¯å£é‡å¤ local_addressæœ¬åœ°IPåœ°å€ï¼Œä½œä¸ºæœåŠ¡å™¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥ä¸ç”¨å…³æ³¨ï¼Œå¡«127.0.0.1å³å¯ã€‚ local_portæœ¬åœ°ç«¯å£ï¼Œä¹Ÿä¸ç”¨å…³æ³¨ã€‚ port_passwordä½ çš„shadowsocksç«¯å£å’ŒæœåŠ¡å¯†ç ï¼Œå®¢æˆ·ç«¯è¿žæŽ¥æ—¶éœ€è¦å¡«å†™çš„ã€‚å¦‚æžœéœ€è¦å¤šäººå…±äº«ï¼Œåˆ™æ¯ä¸ªä¹‹é—´ç”¨ , éš”å¼€ã€‚ç«¯å£ä½¿ç”¨æ—¶åº”æ³¨æ„æ˜¯å¦è¢«é˜²ç«å¢™éš”ç¦»ã€‚ timeoutè¶…æ—¶æ—¶é—´ï¼Œå¦‚æžœå½“å¿ƒç½‘ç»œä¸å¥½å¯ä»¥è®¾ç½®å¤§ä¸€ç‚¹ã€‚ methodåŠ å¯†æ–¹å¼ã€‚ fast_openåœ¨Ubuntuä¸Šå»ºè®®å¡«Trueã€‚ å¡«å¥½ä»¥åŽä¿å­˜é€€å‡ºã€‚ å¯åŠ¨shadowsockså¦‚æžœå·²ç»å†™å¥½äº†é…ç½®æ–‡ä»¶ï¼Œå¯åŠ¨shadowsocksæœåŠ¡å™¨çš„å‘½ä»¤å¦‚ä¸‹ï¼š 1ssserver -c /etc/shadowsocks.json åŽå°å¯åŠ¨å’Œåœæ­¢shadowsocksæœåŠ¡å™¨ï¼š 12ssserver -c /etc/shadowsocks.json -d startssserver -c /etc/shadowsocks.json -d stop shadowsocksçš„æ—¥å¿—ä¿å­˜åœ¨ 1/var/log/shadowsocks.log å®‰è£…é”é€Ÿå®‰è£…ï¼š1wget -N --no-check-certificate https://raw.githubusercontent.com/91yun/serverspeeder/master/serverspeeder-all.sh &amp;&amp; bash serverspeeder-all.sh å¸è½½ï¼š1chattr -i /serverspeeder/etc/apx* &amp;&amp; /serverspeeder/bin/serverSpeeder.sh uninstall -f å¼€å¯ï¼š1service serverSpeeder start æŸ¥çœ‹çŠ¶æ€ï¼š1service serverSpeeder status éœ€è¦åœ¨rootæ¨¡å¼ä¸‹è¿›è¡Œ]]></content>
      <categories>
        <category>Tutorial</category>
      </categories>
      <tags>
        <tag>ShadowSocks</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQLä¿®æ”¹rootç”¨æˆ·å¯†ç ]]></title>
    <url>%2F2017%2F09%2F08%2FChanges%20the%20root%20user%20password%20for%20MySQL%2F</url>
    <content type="text"><![CDATA[æ–°å®‰è£…äº†MySQLï¼Œå®‰è£…ä¹‹åŽç²—å¿ƒæŠŠå¯†ç ç»™æžä¸¢äº†ï¼Œè¿›å…¥MySQLæ—¶æŠ¥é”™ï¼šERROR 1045 (28000): Access denied for user â€˜rootâ€™@â€™localhostâ€™ (using password: NO). é€šè¿‡ä»¥ä¸‹æ­¥éª¤ä¿®æ”¹å¯†ç ã€‚ Step 1å…³é—­MySQLæœåŠ¡ 1sudo /usr/local/mysql/support-files/mysql.server stop â‘  é€šè¿‡DMGå®‰è£…çš„MySQLé€šè¿‡â€™&#39;System Prefrences&#39; &gt; MySQL &gt; &#39;Stop MySQL Server&#39;æ¥ç»“æŸMySQLæœåŠ¡ã€‚ å¦‚æžœæŠ¥é”™ï¼šERROR! MySQL server PID file could not be found! åˆ™ç›´æŽ¥ç”¨ â‘  çš„æ–¹æ³•å…³é—­å³å¯ã€‚ åŒç†æ‰“å¼€æœåŠ¡ä¸ºï¼š 12&gt; sudo /usr/local/mysql/support-files/mysql.server start&gt; Step 2ä½¿ç”¨å®‰å…¨æ¨¡å¼å¯åŠ¨MySQL 1sudo /usr/local/mysql/bin/mysqld_safe --skip-grant-tables Step 3åœ¨æ–°çš„Terminalä¸­è¾“å…¥ï¼š 1mysql -u root åœ¨æ‰“å¼€çš„MySQLå‘½ä»¤è¡Œçª—å£ä¾æ¬¡è¾“å…¥ï¼š 123UPDATE mysql.user SET authentication_string=PASSWORD(&apos;YOUR_NEW_PASSWORD&apos;) WHERE User=&apos;root&apos;;FLUSH PRIVILEGES;\q è¿™é‡Œæ³¨æ„ç»“å°¾çš„ ;ä¸èƒ½å°‘ã€‚ YOUR_NEW_PASSWORD æ˜¯ä½ çš„æ–°å¯†ç  5.7ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œmysql.userè¡¨é‡Œé¢çš„authentication_stringå­—æ®µæ”¹æˆäº†ï¼špassword æµ‹è¯•é‡å¯MySQLåŽè¿è¡Œä»¥ä¸‹å‘½ä»¤æµ‹è¯•å¯†ç æ˜¯å¦ä¿®æ”¹æˆåŠŸ 1mysql -u root -p]]></content>
      <categories>
        <category>Tutorial</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git å¿«é€Ÿå¼€å§‹ç®€æ˜Žæ•™ç¨‹]]></title>
    <url>%2F2017%2F03%2F19%2FThe%20introductory%20of%20Git%2F</url>
    <content type="text"><![CDATA[Git æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿï¼Œå³æ¯ä¸ªç»ˆç«¯éƒ½æœ‰ä¸€å¥—å®Œæ•´çš„é¡¹ç›®ä»£ç ï¼ˆåŒ…æ‹¬åŽ†å²æ–‡ä»¶ï¼‰ã€‚ä¸ºäº†ä½¿ç”¨ Gitï¼Œå…ˆè¦å®‰è£… Gitã€‚å¯ä»¥åœ¨ Command Line æˆ–è€… Terminal ä¸­è¾“å…¥gitå‘½ä»¤æ£€æŸ¥æ˜¯å¦å·²ç»å®‰è£…ã€‚ å¼€å§‹ä½¿ç”¨ åˆ›å»ºæœ¬åœ°å·¥ä½œç›®å½•å…ˆè¦åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹æ¥ä¿å­˜é¡¹ç›®ä»£ç ã€‚ä¾‹å¦‚æˆ‘ä½¿ç”¨å¦‚ä¸‹ç›®å½•ï¼š 1/Users/renfei/Sites/project å‘½ä»¤è¡Œä¸­cdåˆ°è¿™ä¸ªç›®å½•ï¼Œç„¶åŽæ‰§è¡Œgit init å‘½ä»¤æ¥åˆå§‹åŒ–ï¼š 123bogon:~ renfei$ cd /Users/renfei/Sites/project bogon:project renfei$ git initInitialized empty Git repository in /Users/renfei/Sites/project/.git/ æ·»åŠ è¿œç¨‹ä»“åº“ä½¿ç”¨git remote addå‘½ä»¤ï¼š 1bogon:buaa-weixin renfei$ git remote add proj https://renfeisong@bitbucket.org/developers/proj.git ä¸Šé¢çš„ proj æ˜¯ä¸€ä¸ªæœ¬åœ°åˆ«åï¼Œå¯ä»¥èµ·å¾—çŸ­ä¸€äº›ï¼Œä»¥ä¾¿ä»¥åŽä½¿ç”¨ã€‚åŽé¢çš„åœ°å€åˆ™æ˜¯è¿œç¨‹ä»“åº“å¾—åœ°å€ã€‚æ·»åŠ ä¹‹åŽï¼Œå¯ä»¥ä½¿ç”¨git remoteå‘½ä»¤æŸ¥çœ‹å½“å‰å·²æœ‰çš„è¿œç¨‹ä»“åº“ã€‚ ä»Žè¿œç¨‹ä»“åº“å¾—åˆ°æ•°æ®ä½¿ç”¨ git fetch å‘½ä»¤ã€‚ 12345678bogon:project renfei$ git fetch projremote: Counting objects: 39, done.remote: Compressing objects: 100% (34/34), done.remote: Total 39 (delta 5), reused 0 (delta 0)Unpacking objects: 100% (39/39), done.From https://bitbucket.org/renfeisong/project * [new branch] develop -&gt; proj/develop * [new branch] master -&gt; proj/master ä¼šçœ‹åˆ°å¾—åˆ°äº†æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ï¼Œä»¥åŠä¸¤ä¸ªåˆ†æ”¯ï¼Œdevelop å’Œ masterã€‚è¿™é‡Œå¾—åˆ°å¾—åˆ†æ”¯æ•°ç›®å–å†³äºŽè¿œç¨‹ä»“åº“çš„å†…å®¹ã€‚è™½ç„¶å¾—åˆ°äº†è¿™äº›ä¸œè¥¿ï¼Œä½†æ˜¯çŽ°åœ¨è¿™äº›æ–‡ä»¶è¿˜æ²¡æœ‰å‡ºçŽ°åœ¨ä½ çš„å·¥ä½œç›®å½•ä¸­ã€‚ è¿™æ˜¯å› ä¸ºï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨git checkoutå‘½ä»¤ã€Œæ£€å‡ºã€ï¼ˆå®žé™…å°±æ˜¯æŠŠå·¥ä½œç›®å½•åˆ‡æ¢åˆ°æŸä¸ªåˆ†æ”¯ï¼‰ï¼Œæ‰å¯ä»¥çœ‹åˆ°å¯¹åº”åˆ†æ”¯ä¸‹çš„é‚£äº›æ–‡ä»¶ã€‚ åˆ‡æ¢åˆ†æ”¯ä½¿ç”¨ checkout å‘½ä»¤ã€‚ 123bogon:project renfei$ git checkout developBranch develop set up to track remote branch develop from proj.Switched to a new branch 'develop' ä¾‹å­ä¸­æˆ‘ä»¬åˆ‡æ¢åˆ°äº† develop åˆ†æ”¯ï¼Œå…¶ä¸­å¯¹åº”çš„æ–‡ä»¶å°±éƒ½å‡ºçŽ°äº†ï¼ˆå¦‚æžœæœ‰çš„è¯ï¼‰ã€‚ å†è¯´åˆ†æ”¯åˆ†æ”¯æ˜¯ Git çš„ä¸€ä¸ªå¾ˆé‡è¦çš„åŠŸèƒ½ï¼Œå› æ­¤æœ‰å¿…è¦è§£é‡Šä¸€ä¸‹ã€‚å¦‚æžœæŠŠéšç€æ—¶é—´çš„æŽ¨ç§»ï¼Œä»£ç çš„å˜åŒ–æƒ³è±¡æˆå‰è¿›çš„è·¯çº¿ï¼Œé‚£ä¹ˆåˆ†æ”¯å°±æ˜¯ä»Žè·¯çº¿ä¸Šçš„æŸä¸€ç‚¹è¡ç”Ÿå‡ºæ¥çš„ä¸€æ¡æ”¯çº¿ï¼Œåœ¨è¿™æ¡æ”¯çº¿ä¸Šçš„å¼€å‘ä¸ä¼šå¯¹åŽŸå…ˆè·¯çº¿çš„ä»£ç é€ æˆä»»ä½•å½±å“ã€‚ä¾‹å¦‚ï¼ŒçŽ°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ª master åˆ†æ”¯å’Œä¸€ä¸ª develop åˆ†æ”¯ï¼Œmaster åˆ†æ”¯å‘å¸ƒç¨³å®šç‰ˆæœ¬çš„åº”ç”¨ï¼Œè€Œ develop åˆ†æ”¯åˆ™è¿›è¡Œæ—¥å¸¸å¼€å‘ã€‚ä¸€æ—¦è¾¾åˆ°æŸä¸ªè¿›åº¦èŠ‚ç‚¹ï¼Œdevelop åˆ†æ”¯ä¸Šçš„ä»£ç è¶³å¤Ÿç¨³å®šå¯ä»¥å‘å¸ƒï¼Œå°±æŠŠ develop åˆ†æ”¯åˆå¹¶ï¼ˆmergeï¼‰åˆ° master åˆ†æ”¯ï¼ŒåŒæ—¶ç»§ç»­ develop åˆ†æ”¯çš„å¼€å‘ã€‚ å†å¦‚ï¼Œdevelop åˆ†æ”¯å¼€å‘çš„è¿‡ç¨‹ä¸­å‡ºçŽ°äº†æŸä¸ª bugï¼Œä¸€ä¸ªå¼€å‘äººå‘˜æƒ³è§£å†³è¿™ä¸ª bugï¼Œé‚£ä¹ˆä¸ºäº†ä¸å½±å“å…¶ä»–äººçš„å·¥ä½œï¼Œä»–å¯ä»¥ä»Ž develop åˆ†æ”¯å†åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ hotfixï¼Œç„¶åŽåœ¨è¿™ä¸ªåˆ†æ”¯ä¸‹ä¿®æ”¹ï¼Œå®ŒæˆåŽæŠŠå®ƒåˆå¹¶å›ž develop åˆ†æ”¯ï¼Œå¹¶åˆ é™¤ hotfix åˆ†æ”¯ï¼ˆå®ƒçš„åŽ†å²ä½¿å‘½å·²ç»å®Œæˆï¼‰ã€‚ å¯ä»¥çœ‹å‡ºï¼Œæ¯ä¸ªåˆ†æ”¯éƒ½æœ‰ä¸€å¥—ä»£ç ã€‚æ¯ä¸ªå¼€å‘äººå‘˜æœ¬åœ°éƒ½ä¿å­˜äº†å…¨éƒ¨åˆ†æ”¯çš„å…¨éƒ¨ä»£ç ï¼ˆè¿™äº›ä»£ç è¿žåŒå…¶ä»–ä¿¡æ¯è¢« git æœ‰åºåœ°ç»„ç»‡åœ¨äº†å·¥ä½œç›®å½•ä¸‹ .git ç›®å½•ä¸­ï¼Œè¿™ä¸ªç›®å½•åº”å½“æ˜¯éšè—çš„ï¼‰ï¼Œå½“é€šè¿‡checkout branch_nameåˆ‡æ¢åˆ†æ”¯æ—¶ï¼Œå·¥ä½œç›®å½•ä¸‹å¯è§çš„æ–‡ä»¶ä¹Ÿä¼šè¢«åˆ‡æ¢æˆå½“å‰åˆ†æ”¯ä¸‹çš„æ–‡ä»¶ã€‚è€Œå…¶ä»–åˆ†æ”¯çš„æ–‡ä»¶ä¹Ÿå¹¶æ²¡æœ‰ä¸¢å¤±ï¼Œæ‰€ä»¥éžå¸¸æ–¹ä¾¿ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦åˆ‡æ¢åˆ†æ”¯è¿›è¡Œä¸åŒçš„å·¥ä½œã€‚ æ–‡ä»¶æ“ä½œ æ·»åŠ æ–°æ–‡ä»¶åœ¨å·¥ä½œç›®å½•ä¸­åˆ›å»ºçš„æ–°æ–‡ä»¶å¤„äºŽ untracked çŠ¶æ€ï¼Œå³æ²¡æœ‰è¢« git è·Ÿè¸ªã€‚æ–°æ–‡ä»¶ä¸ä¼šè‡ªåŠ¨è¢« git è·Ÿè¸ªï¼Œå› ä¸ºè®¸å¤šä¸´æ—¶æ–‡ä»¶ã€æ—¥å¿—æ–‡ä»¶ä¸éœ€è¦ä¿å­˜åˆ°ä»“åº“ä¸­ã€‚å¦‚æžœè¦å¾€ä»“åº“ä¸­æ·»åŠ æ–‡ä»¶ï¼Œä½¿ç”¨ git add å‘½ä»¤ã€‚ 1bogon:project renfei$ git add * ä¸Šè¿°åšæ³•æ·»åŠ æ‰€æœ‰æ–‡ä»¶ã€‚å¦‚æžœåŒ…å«æ–‡ä»¶å¤¹ï¼Œåˆ™ä¼šé€’å½’åœ°æ·»åŠ é‡Œé¢çš„æ–‡ä»¶ã€‚ä¹Ÿå¯ä»¥æ·»åŠ å•ç‹¬çš„æ–‡ä»¶æˆ–è€…åœ¨æ–‡ä»¶åä¸­ä½¿ç”¨é€šé…ç¬¦ã€‚ è¦æŸ¥çœ‹å½“å‰çŠ¶æ€ï¼ˆå“ªäº›æ–‡ä»¶ untrackedï¼Œå“ªäº›æ–‡ä»¶å¤„äºŽå…¶ä»–çŠ¶æ€ç­‰ï¼‰å¯ä»¥ä½¿ç”¨ git status å‘½ä»¤ã€‚ æ‰§è¡Œ git add åŽï¼Œæ–°æ·»åŠ çš„æ–‡ä»¶çŠ¶æ€ï¼ˆå¯é€šè¿‡git statusæŸ¥çœ‹ï¼‰å˜ä¸º change to be committedï¼Œæˆ–è€…ç§°ä¸º stagedï¼Œæš‚å­˜ã€‚æ„æ€å°±æ˜¯ï¼Œåªè¦æŠŠå®ƒ commit ä¸ŠåŽ»å°±å¯ä»¥äº†ã€‚ ä¿®æ”¹æ–‡ä»¶å¦‚æžœä¿®æ”¹äº†æŸä¸ªå·²è·Ÿè¸ªçš„æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶ä¼šå˜ä¸º modifiedï¼Œnot stagedï¼Œæœªæš‚å­˜ã€‚æ­¤æ—¶å¿…é¡»å†æ¬¡ git add è¿™ä¸ªæ–‡ä»¶ä½¿å®ƒå˜æˆ staged çŠ¶æ€ï¼Œæ‰èƒ½å¤Ÿè¢« commit ä¸ŠåŽ»ã€‚ æäº¤å½“æœ‰æ–‡ä»¶çŠ¶æ€ä¸ºæš‚å­˜çš„ï¼ˆstagedï¼‰æ—¶ï¼Œå°±å¯ä»¥æ‰§è¡Œ git commit å‘½ä»¤ã€‚è¿™ä¸ªå‘½ä»¤ä¼šæäº¤æš‚å­˜çš„æ–‡ä»¶ã€‚git è¦æ±‚ä¸ºæ¯æ¬¡æäº¤æ·»åŠ ä¸€ä¸ªè¯´æ˜Žï¼Œå› æ­¤ä¸€èˆ¬ä½¿ç”¨ä¸€ä¸ª-mé€‰é¡¹æ¥æ·»åŠ è¯´æ˜Žã€‚ä¾‹å¦‚ï¼š 12345678910111213141516171819bogon:project renfei$ git commit -m "background admin site (backend) added"[develop 7d17136] background admin site (backend) added 16 files changed, 10372 insertions(+) create mode 100644 bootstrap/v2/css/bootstrap-responsive.css create mode 100644 bootstrap/v2/css/bootstrap-responsive.min.css create mode 100644 bootstrap/v2/css/bootstrap.css create mode 100644 bootstrap/v2/css/bootstrap.min.css create mode 100644 bootstrap/v2/img/glyphicons-halflings-white.png create mode 100644 bootstrap/v2/img/glyphicons-halflings.png create mode 100644 bootstrap/v2/js/bootstrap.js create mode 100644 bootstrap/v2/js/bootstrap.min.js create mode 100644 define.php create mode 100644 index.php create mode 100644 jquery/jquery-1.10.2.min.js create mode 100644 login.php create mode 100644 logout.php create mode 100644 pref.php create mode 100644 signup.php create mode 100644 util.php è¿™ä¸ªæ“ä½œå®ŒæˆåŽï¼Œä»£ç å°±è¢«æäº¤åˆ°äº†æœ¬åœ°ä»“åº“ã€‚æ¯æ¬¡è¿›è¡Œ commit åŽéƒ½ä¼šå¯¹æ•´ä¸ªé¡¹ç›®åšä¸€ä¸ªå¿«ç…§ï¼Œä»¥åŽå¯ä»¥éšæ—¶å›žæ»šåˆ°æŸä¸ªå¿«ç…§ä¸­ã€‚ å¦‚æžœå¸Œæœ›çœç•¥ add è¿‡ç¨‹è€Œç›´æŽ¥æäº¤æ‰€æœ‰è·Ÿè¸ªçš„æ–‡ä»¶ï¼Œå¯ä»¥ç»™ commit å‘½ä»¤åŠ ä¸Š-aé€‰é¡¹ã€‚å¦‚ä¸‹ï¼š 1bogon:project renfei$ git commit -a -m "background admin site (backend) added" æŽ¨é€åˆ°è¿œç¨‹ä»“åº“commitä»…ä»…æŠŠæ›´æ”¹æäº¤åˆ°äº†æœ¬åœ°ä»“åº“ã€‚å¦‚æžœæƒ³æŽ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œéœ€è¦ä½¿ç”¨ git push å‘½ä»¤ã€‚ 12345678bogon:project renfei$ git push proj developCounting objects: 25, done.Delta compression using up to 8 threads.Compressing objects: 100% (22/22), done.Writing objects: 100% (24/24), 122.16 KiB | 0 bytes/s, done.Total 24 (delta 1), reused 0 (delta 0)To https://renfeisong@bitbucket.org/renfeisong/project.git d4eeb86..7d17136 develop -&gt; develop å…¶ä¸­ proj æ˜¯ä¹‹å‰è®¾å®šçš„ä»£å·ï¼Œè€Œ develop è¡¨ç¤ºæŽ¨é€æœ¬åœ°ä»“åº“çš„ develop åˆ†æ”¯ã€‚ æ›´æ–°æœ¬åœ°ä»“åº“æ­¤æ—¶ï¼Œå¯ä»¥éšæ—¶ä½¿ç”¨ git pull å‘½ä»¤æ¥ä»Žè¿œç¨‹ä»“åº“æ‹‰å–æ›´æ–°ã€‚ 12bogon:project renfei$ git pullAlready up-to-date. å¦‚æžœæ²¡æœ‰æ›´æ–°ï¼Œå°±ä¼šæ˜¾ç¤º Already up-to-date. è¡¥å…… Git è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šåŠŸèƒ½ï¼Œæ¯”å¦‚ä»Žä»“åº“ç§»é™¤æ–‡ä»¶ã€é‡å‘½åã€æ¯”è¾ƒç­‰ã€‚å¯ä»¥å‚è€ƒ Pro Git è¿™æœ¬ä¹¦ï¼Œæ˜¯åŸºäºŽ CC åè®®å‘å¸ƒçš„ã€‚åœ°å€ï¼šhttp://git-scm.com/book/zh]]></content>
      <categories>
        <category>Tutorial</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>Terminal</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntu é…ç½® Apache, MySQL, PHP ä»¥åŠ phpMyAdmin è¿‡ç¨‹è®°å½•]]></title>
    <url>%2F2017%2F03%2F17%2FThe%20process%20of%20configures%20Apache%2C%20MySQL%2C%20PHP%2C%20and%20phpMyAdmin%20at%20Ubuntu%2F</url>
    <content type="text"><![CDATA[Apacheå®‰è£…1$ sudo apt-get install apache2 è£…å¥½åŽï¼Œé…ç½®æ–‡ä»¶åº”è¯¥ä½äºŽ/etc/apache2ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹æ— éœ€ä¿®æ”¹å³å¯ä½¿ç”¨ã€‚é»˜è®¤çš„ç½‘ç«™ç›®å½•ä¸º/var/www/ã€‚ å¯åŠ¨ Apache çš„æ–¹æ³•ï¼š 1$ sudo /etc/init.d/apache2 start é‡å¯ Apacheï¼š 1$ sudo /etc/init.d/apache2 restart åœæ­¢ Apacheï¼š 1$ sudo /etc/init.d/apache2 stop ä¸Šè¿°å‘½ä»¤ä¹Ÿå¯ä»¥å†™æˆè¿™ç§å½¢å¼ï¼ˆä»¥å¯åŠ¨ä¸ºä¾‹ï¼‰ï¼š 1$ sudo service apache2 start æµ‹è¯•è£…å¥½å¹¶å¯åŠ¨ Apache æœåŠ¡åŽï¼Œæœ¬åœ°æœåŠ¡å™¨åº”è¯¥å°±å¯ä»¥ç”¨äº†ã€‚å¯ä»¥åˆ©ç”¨curlè®¿é—® localhost æ¥æµ‹è¯•ï¼š 1$ curl localhost Apache çš„é”™è¯¯æ—¥å¿—æ–‡ä»¶é»˜è®¤ä¸º/var/log/apache2/error.logã€‚ å…¶ä»–å¯åŠ¨çš„æ—¶å€™å¯èƒ½ä¼šå‡ºçŽ°å¦‚ä¸‹è­¦å‘Šï¼š 1apache2: Could not determine the server's fully qualified domain name, using 127.0.0.1 for ServerName è¯´æ˜Žä½ æ²¡æœ‰æŒ‡å®šServerNameã€‚å¦‚æžœæƒ³åŽ»æŽ‰è¿™ä¸ªé”™è¯¯ï¼Œå¯ä»¥ä¿®æ”¹/etc/apache2/apache2.confæ–‡ä»¶ï¼š 1$ sudo vi /etc/apache2/apache2.conf æ·»åŠ å¦‚ä¸‹è¡Œï¼š 1ServerName localhost PHP å®‰è£… PHPåŒæ ·ä½¿ç”¨apt-getå‘½ä»¤å®‰è£… PHPï¼š 1$ sudo apt-get install php5 æ‰§è¡Œä¹‹åŽï¼ŒPHP åº”è¯¥å°±å·²ç»éƒ¨ç½²å®Œæ¯•äº†ã€‚å¯ä»¥ä½¿ç”¨phpinfo()å‡½æ•°æ¥æµ‹è¯• PHP æ˜¯å¦å·²ç»å°±ç»ªï¼š 1$ sudo vi /var/www/phpinfo.php åœ¨æ–‡ä»¶é‡Œè¾“å…¥ï¼š 1&lt;?php phpinfo(); ?&gt; ç„¶åŽcurl localhost/phpinfo.phpæ¥æŸ¥çœ‹ã€‚ å®‰è£…å…¶ä»– PHP æ¨¡å—1$ sudo apt-get install php5-mysql php5-curl php5-gd php5-intl php-pear php5-imagick php5-imap php5-mcrypt php5-memcache php5-ming php5-ps php5-pspell php5-recode php5-snmp php5-sqlite php5-tidy php5-xmlrpc php5-xsl MySQL 1$ sudo apt-get install mysql-server å®‰è£…è¿‡ç¨‹ä¸­éœ€è¦è®¾å®š root è´¦æˆ·çš„å¯†ç ã€‚è‡³æ­¤ï¼ŒLAMP çŽ¯å¢ƒå·²ç»é…å¥½ã€‚ phpMyAdmin å®‰è£…é¦–å…ˆæ‰§è¡Œï¼š 1$ sudo apt-get install phpmyadmin å®‰è£…è¿‡ç¨‹æ¯”è¾ƒé•¿ï¼Œä¼šæœ‰å‡ ä¸ªé€‰é¡¹ï¼Œä¾æ¬¡å¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰é€‰æ‹©æœåŠ¡å™¨è½¯ä»¶ã€‚è¿™é‡Œé€‰æ‹©åˆšåˆšå®‰è£…çš„ Apache2ã€‚ ï¼ˆ2ï¼‰é€‰æ‹©æ‰‹åŠ¨è®¾å®šã€‚ ï¼ˆ3ï¼‰è¾“å…¥ä¹‹å‰å®‰è£… MySQL æ—¶è®¾çš„ MySQL root è´¦æˆ·çš„å¯†ç ã€‚ ï¼ˆ4ï¼‰è®¾å®š phpMyAdmin çš„ç™»å½•å¯†ç ã€‚ æ³¨æ„ï¼ŒphpMyAdmin çš„é…ç½®æ–‡ä»¶ä¸ºï¼š/etc/phpmyadmin/config.inc.phpã€‚ åŒ…å« pma çš„é…ç½®æ–‡ä»¶åˆ° Apacheå®‰è£…åŽï¼Œè¿˜ä¸èƒ½ç«‹å³ä½¿ç”¨ phpMyAdminï¼Œå› ä¸ºå®ƒä¸åœ¨ç½‘ç«™ç›®å½•ä¸‹ã€‚ä¸ºäº†æ­£å¸¸ä½¿ç”¨ï¼Œåªéœ€æŠŠ phpMyAdmin çš„é…ç½®æ–‡ä»¶åŒ…å«åˆ° Apache çš„é…ç½®ä¸­ã€‚ç¼–è¾‘apache2.confï¼š 1$ sudo vi /etc/apache2/apache2.conf åœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è¡Œï¼š 1Include /etc/phpmyadmin/apache.conf é‡å¯æœåŠ¡å™¨ï¼š 1$ sudo service apache2 restart è‡³æ­¤ï¼Œä½ å°±å¯ä»¥é€šè¿‡yourdomain/phpmyadminæ¥è®¿é—® phpMyAdmin äº†ã€‚ mcrypt æ¨¡å—ä¸¢å¤±çš„é”™è¯¯ä¸€ä¸ª bug å¯èƒ½å¯¼è‡´è®¿é—® phpMyAdmin æ—¶å‡ºçŽ° mcrypt æ¨¡å—ä¸¢å¤±çš„é”™è¯¯ã€‚å¦‚æžœé‡åˆ°ï¼Œåˆ™å¯ä»¥é‡‡ç”¨ä¸‹é¢çš„åŠžæ³•ä¿®å¤ï¼š 123$ sudo ln -s /etc/php5/conf.d/mcrypt.ini /etc/php5/mods-available/$ sudo php5enmod mcrypt$ sudo service apache2 restart å…¨å±€ç¦ç”¨ Index Index å°±æ˜¯è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨ index.htmlã€index.php ç­‰æ–‡ä»¶çš„ç›®å½•æ—¶æœåŠ¡å™¨åˆ—å‡ºçš„æ–‡ä»¶åˆ—è¡¨ï¼Œè¿™æ ·ä¼šå¯¹ç”¨æˆ·å±•ç¤ºæ–‡ä»¶ç»“æž„ï¼Œå¦‚æžœæƒ³ç¦ç”¨ï¼Œå¯ä»¥ä¿®æ”¹ Apache çš„é…ç½®æ–‡ä»¶ï¼š 1$ sudo vi /etc/apache2/apache2.conf æ‰¾åˆ°å¹¶ä¿®æ”¹ä¸º 123456&lt;Directory /var/www/&gt; Options -Indexes Options FollowSymLinks AllowOverride None Require all granted&lt;/Directory&gt;]]></content>
      <categories>
        <category>Tutorial</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mac OS X Terminal 101ï¼šç»ˆç«¯ä½¿ç”¨åˆçº§æ•™ç¨‹]]></title>
    <url>%2F2017%2F03%2F17%2FThe%20introductory%20of%20macOS%20Terminal%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘å­¦ä¹ è‹¹æžœè®¤è¯çš„ã€ŠMac OS X Support Essentialsã€‹æ•™ç¨‹ï¼Œçœ‹åˆ° Command Line ä¸€èŠ‚æœ‰å¾ˆå¤šå®žç”¨çš„çŸ¥è¯†ï¼Œä¸‹é¢é€‰å–ä¸€éƒ¨åˆ†ç¿»è¯‘ + ç¬”è®°ï¼Œæ•´ç†æˆæ­¤æ–‡ã€‚ ä½ å¯ä»¥æ•´å¤©é©¾é©¶æ±½è½¦è€Œä¸ç”¨çŸ¥é“å¦‚ä½•ä¿®ç†å®ƒä»¬ï¼Œä½†æ˜¯å¦‚æžœä½ å¸Œæœ›å½“ä¸€ä¸ªç»´æŠ¤å‘˜ï¼Œä½ å°±éœ€è¦çŸ¥é“äº‹æƒ…æ˜¯å¦‚ä½•è¿ä½œçš„ã€‚åŒæ ·çš„äº‹æƒ…ä¹Ÿå‘ç”Ÿåœ¨äº† Mac OS X ä¸Šï¼›ä½ å¯ä»¥ä¸€ç›´ä½¿ç”¨ Mac è€Œä¸ç”¨çŸ¥é“å¦‚ä½•ä¿®ç†å®ƒï¼Œä½†æ˜¯å¦‚æžœä½ æƒ³å¯¹ç³»ç»Ÿåšä¸€äº›ç»´æŠ¤æˆ–è§£å†³ä¸€äº›é—®é¢˜ï¼Œé‚£ä¹ˆä½ éœ€è¦çŸ¥é“å¦‚ä½•ä½¿ç”¨ command-lineã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å‘½ä»¤è¡Œ/å¦‚ä½•å¼€å¯å‘½ä»¤è¡Œï¼Ÿ è®¸å¤šåŠŸèƒ½åœ¨å›¾å½¢ç•Œé¢ä¸æä¾›ï¼Œåªæœ‰é€šè¿‡å‘½ä»¤è¡Œæ¥å®žçŽ°ã€‚ Finderä¼šéšè—è®¸å¤šä½ ä¸å¤ªä¼šéœ€è¦çš„æ–‡ä»¶ï¼Œç„¶è€Œ command line ä¼šå…è®¸ä½ è®¿é—®æ‰€æœ‰æ–‡ä»¶ã€‚ é€šè¿‡ command line å¯ä»¥è¿œç¨‹è®¿é—®ä½ çš„ Macï¼ˆåˆ©ç”¨ SSHï¼‰ã€‚ administrators ç”¨æˆ·å¯ä»¥é€šè¿‡ sudo å‘½ä»¤èŽ·å¾— root ç”¨æˆ·æƒé™ã€‚ é€šè¿‡ command-line script å¯ä»¥ä½¿å·¥ä½œæ›´é«˜æ•ˆã€‚ Terminalï¼ˆç»ˆç«¯ï¼‰ç¨‹åºå¯ä»¥åœ¨â€œå®žç”¨å·¥å…·â€é‡Œæ‰¾åˆ°ã€‚ å¦‚æžœä½ å¼€å¯æ‰‹åŠ¨è¾“å…¥ç”¨æˆ·åç™»é™†æ¨¡å¼ï¼Œç™»é™†æ—¶åœ¨ç”¨æˆ·åå¤„è¾“å…¥ &gt;console å¯ä»¥ç›´æŽ¥è¿›å…¥å‘½ä»¤è¡Œç•Œé¢ã€‚éšåŽä½ ä»ç„¶éœ€è¦ç™»å½•åˆ°ä¸€ä¸ªè´¦æˆ·ã€‚ åˆè¯†Command Line è®¸å¤šå‘½ä»¤ä¼šèŠ±è´¹ä¸€äº›æ—¶é—´æ¥æ‰§è¡Œï¼Œç„¶è€Œè¿™ä¸­é—´ä¸ä¼šç»™å‡ºä»»ä½•æç¤ºæˆ–è€…è¿›åº¦æ¡ã€‚ä¸€èˆ¬ç»“æŸåŽä¼šå‡ºçŽ°ä¸€ä¸ªâ€œç”¨æˆ·å$â€çš„æ ‡è®°ã€‚å¦‚æžœæ²¡æœ‰å‡ºçŽ°ï¼Œé‚£ä¹ˆè¯´æ˜Žæœ€åŽä¸€æ¡å‘½ä»¤æ­£åœ¨æ‰§è¡Œã€‚ ä¸€æ¡å‘½ä»¤åŒ…æ‹¬ Command Nameã€Optionsã€Argumentsã€Extras å››ä¸ªéƒ¨åˆ†ï¼Œä½†æ˜¯åŽä¸‰ä¸ªéƒ¨åˆ†æœ‰æ—¶æ˜¯å¯é€‰çš„ã€‚Options éƒ¨åˆ†ç”¨-ä½œä¸ºå‰å¯¼ç¬¦ã€‚å…¶ä¸­è®¸å¤šå‘½ä»¤çš„ Options éƒ¨åˆ†åªåŒ…å«å•ä¸ªå­—æ¯ï¼Œè¿™æ—¶å¯ä»¥åˆå¹¶ã€‚ä¾‹å¦‚ï¼Œls -lAå’Œls -l -Aæ˜¯ç­‰æ•ˆçš„ã€‚Arguments éƒ¨åˆ†ç”¨æ¥ç»†åŒ–è¿™ä¸ªå‘½ä»¤æˆ–æŒ‡å®šè¿™ä¸ªå‘½ä»¤å…·ä½“çš„å®žæ–½å¯¹è±¡ï¼ŒExtras éƒ¨åˆ†åˆ™ç”¨æ¥è¿›ä¸€æ­¥å®žçŽ°å…¶ä»–åŠŸèƒ½ã€‚ ä¸¾ä¾‹ï¼šä¸‹åˆ—å‘½ä»¤åŒ…å«å‰ä¸‰ä¸ªéƒ¨åˆ†ï¼Œç”¨äºŽåˆ é™¤ Junk è¿™ä¸ªç¨‹åºã€‚ michelle$ rm -R /Applications/Junk.app å¦‚æžœä½ è¾“å…¥äº†ä¸€äº›é”™è¯¯çš„å‘½ä»¤ï¼Œç³»ç»Ÿä¼šè¿”å›žä¸€äº›é”™è¯¯ä¿¡æ¯ã€‚ä½†æ˜¯ç³»ç»Ÿå´ä¸ä¼šé˜»æ­¢ä½ åšå‚»äº‹ï¼ˆä¾‹å¦‚åˆ é™¤æ•´ä¸ªç”¨æˆ·æ–‡ä»¶å¤¹ï¼‰ã€‚ å…³äºŽ man å‘½ä»¤ è™½ç„¶æœ‰ä¸Šåƒæ¡å‘½ä»¤ï¼Œæ¯æ¡å‘½ä»¤è¿˜æœ‰è®¸å¤šå¯é€‰å‚æ•°å’Œå…·ä½“çš„ä½¿ç”¨æ–¹å¼ï¼Œä½†æ˜¯ä½ å´ä¸éœ€è¦è®°ä½è¿™äº›å‘½ä»¤ã€‚ä½ åªéœ€è¦è®°ä½ä¸€ä¸ªï¼šman å¤§å¤šæ•°å‘½ä»¤éƒ½ä¼šåŒ…å«ä¸€ä¸ªä½¿ç”¨æŒ‡å—ï¼Œä¼šå‘Šè¯‰ä½ ä»»ä½•ä½ éœ€è¦çŸ¥é“çš„å…³äºŽè¿™ä¸ªå‘½ä»¤çš„æ‰€æœ‰ç»†èŠ‚ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ man command-name å³å¯èŽ·å–ã€‚ä¾‹å¦‚ï¼Œä½ æƒ³çŸ¥é“lsè¿™ä¸ªå‘½ä»¤æ€Žä¹ˆä½¿ç”¨ï¼Œè¾“å…¥man lså³å¯è¿›å…¥ä½¿ç”¨æŒ‡å—é¡µé¢ã€‚ ä½¿ç”¨æŒ‡å—å¾€å¾€å¾ˆé•¿ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨â–²ï¼ˆä¸Šç®­å¤´ï¼‰æˆ–â–¼ï¼ˆä¸‹ç®­å¤´ï¼‰æ¥ä¸Šä¸‹ç§»åŠ¨ï¼Œä½¿ç”¨ Speace æ¥ç¿»é¡µï¼Œè¾“å…¥/å’Œå…³é”®å­—æ¥æŒ‰ç…§å…³é”®å­—æœç´¢ï¼ŒæŒ‰Qæ¥é€€å‡ºä½¿ç”¨æŒ‡å—é¡µé¢ã€‚ é‚£ä¹ˆâ€”â€”å¦‚æžœä½ è¿žå‘½ä»¤åç§°éƒ½ä¸çŸ¥é“æ€Žä¹ˆåŠžå‘¢ï¼Ÿè¾“å…¥man -kå’Œå…³é”®å­—æ¥å¯¹æ•´ä¸ªä½¿ç”¨æŒ‡å—æ•°æ®åº“è¿›è¡Œæœç´¢ã€‚ å‘½ä»¤è¡Œï¼Œæ–‡ä»¶å’Œè·¯å¾„å¦‚æžœçŸ¥é“å¦‚ä½•ä½¿ç”¨å‘½ä»¤æ˜¯æŽŒæ¡ command line çš„ç¬¬ä¸€æ­¥ï¼Œé‚£ä¹ˆç¬¬äºŒæ­¥å°±æ˜¯å­¦ä¹ å¦‚ä½•åœ¨ command line ä¸­ä½¿ç”¨æ–‡ä»¶è·¯å¾„ã€‚å¦‚æžœä½ æŽŒæ¡äº†æ–‡ä»¶è·¯å¾„ï¼Œä½ å°†ä¼šå‘çŽ°è¿™æ¯”ä½¿ç”¨ Finder æ›´åŠ å¿«æ·ã€‚ æ³¨æ„ command line å·¥å…·æ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œå¹¶ä¸”å¯¹äºŽæ–‡ä»¶åï¼Œå¿…é¡»åŒ…æ‹¬æ‰©å±•åã€‚ä¾‹å¦‚ï¼Œä½ æƒ³æ‰¾iTunesè¿™ä¸ªç¨‹åºï¼Œè¾“å…¥itunesæ˜¯æ— æ•ˆçš„ï¼Œå¿…é¡»è¾“å…¥iTunes.appã€‚ Mac OSä¼ ç»Ÿä¸Šå–œæ¬¢ä½¿ç”¨â€œæ–‡ä»¶å¤¹â€ï¼ˆfoldersï¼‰è¿™ä¸ªåç§°ï¼Œä½†æ˜¯åœ¨ command line ä¸­ï¼Œä¸»è¦ä½¿ç”¨â€œç›®å½•â€ï¼ˆdirectoryï¼‰è¿™ä¸ªè¯ã€‚è¿™å’Œ UNIX æ˜¯ä¸€è‡´çš„ã€‚ ä¸¤ç§è·¯å¾„ï¼šç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„ ç»å¯¹è·¯å¾„ï¼šå®Œæ•´æè¿°ä¸€ä¸ªæ–‡ä»¶çš„ä½ç½®ï¼Œæ€»æ˜¯ä»¥æ–œæ ï¼ˆ/ï¼‰ï¼ˆforward slashï¼‰å¼€å¤´ã€‚ä¾‹å¦‚/Users/michelle/Public/Drop Boxã€‚ ç›¸å¯¹è·¯å¾„ï¼šåªæè¿°ä¸€éƒ¨åˆ†ä½ç½®ä¿¡æ¯ï¼Œå®ƒå’Œä½ åœ¨ command line ç›®å‰çš„ç›®å½•æœ‰å…³ã€‚å½“ä½ æ‰“å¼€æ–°çš„ Terminal ç¨‹åºæ—¶ï¼Œcommand line ä¼šè¯çš„ç›®å½•åº”è¯¥æ˜¯ä½ çš„ home folderã€‚è¿™æ—¶ä¸Šé¢ä¾‹å­æ–‡ä»¶å¤¹çš„ç›¸å¯¹è·¯å¾„å†™ä½œPublic/Drop Boxã€‚æ˜¾ç„¶å®ƒä»Žå½“å‰ç›®å½•å¼€å§‹ã€‚å’Œhtmlç±»ä¼¼ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç‚¹ï¼ˆâ€œ..â€ï¼‰æ¥ä»£è¡¨çˆ¶ç›®å½•ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ç”¨ç›¸å¯¹è·¯å¾„è¡¨ç¤ºä¸Šçº§æˆ–åŒçº§ç›®å½•äº†ã€‚ä¾‹å¦‚ä½ å¯ä»¥è¾“å…¥cd ..ç”šè‡³cd ../.. åˆ‡æ¢åˆ°å…¶ä»–è·¯å¾„å’Œç›®å½•å¦‚æžœä½ æƒ³å°†å½“å‰ command line ä¼šè¯åˆ‡æ¢åˆ°å…¶ä»–ç›®å½•ï¼Œéœ€è¦ç”¨åˆ°ä¸‰ä¸ªå‘½ä»¤ï¼špwdï¼Œlså’Œcdã€‚ pwdçš„å«ä¹‰æ˜¯â€œprint working directoryâ€ï¼Œä¼šæ˜¾ç¤ºå½“å‰ç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚ lsçš„å«ä¹‰æ˜¯â€œlist directory contentsâ€ï¼Œå®ƒä¼šåˆ—å‡ºå½“å‰ç›®å½•çš„å†…å®¹ã€‚è¿™ä¸ªå‘½ä»¤è¿˜æœ‰å…¶ä»–å‚æ•°å¯é€‰ã€‚ cdçš„å«ä¹‰æ˜¯â€œchange directoryâ€ï¼Œå®ƒä¼šæ”¹å˜å½“å‰ç›®å½•åˆ°ä½ æŒ‡å®šçš„ç›®å½•ã€‚å¦‚æžœä½ ä¸æŒ‡å®šï¼Œåˆ™ä¼šè¿”å›žä½ çš„ home folderã€‚ å¤„ç†ç‰¹æ®Šå­—ç¬¦å¦‚æžœç›®å½•ä¸­æœ‰ç‰¹æ®Šå­—ç¬¦ï¼ˆç©ºæ ¼ï¼Œæ‹¬å·ï¼Œå¼•å·ï¼Œ[]ï¼Œ!ï¼Œ$ï¼Œ&amp;ï¼Œ*ï¼Œ;ï¼Œ|ï¼Œ\ï¼‰ï¼Œé‚£ä¹ˆç›´æŽ¥è¾“å…¥ç©ºæ ¼ä¼šé€ æˆç³»ç»Ÿè¯†åˆ«å›°éš¾ï¼Œå¿…é¡»ä½¿ç”¨ç‰¹æ®Šçš„è¯­æ³•æ¥è¡¨ç¤ºè¿™äº›å­—ç¬¦ã€‚ä¾‹å¦‚ä¸Šä¾‹ä¸­ï¼Œç©ºæ ¼å‰æ·»åŠ åæ–œæ â€œ\â€ï¼ˆback slashï¼‰å³å¯ï¼šcd Punlic/Drop\ Box/ã€‚é™¤äº†åæ–œæ ï¼Œä¹Ÿå¯ä»¥ç”¨å¼•å·çš„æ–¹æ³•ï¼šcd &quot;Public/Drop Box&quot;ã€‚ â€”â€”å¦‚æžœä¸æƒ³æ‰‹åŠ¨è¾“å…¥ï¼Œä¹Ÿå¯ä»¥æŠŠæ–‡ä»¶ä»Ž Finder æ‹–åˆ° Terminal çª—å£æ¥åˆ›å»ºç»å¯¹è·¯å¾„ï¼Œè¿™ä¼šæ–¹ä¾¿ä¸€äº›ï¼Œå› ä¸ºä¸Šé¢æåˆ°çš„æ‰€æœ‰ç‰¹æ®Šå­—ç¬¦åœ¨æ‹–åŠ¨åŽéƒ½ä¼šè‡ªåŠ¨å˜æˆç³»ç»Ÿå¯è¯†åˆ«çš„è¡¨ç¤ºæ–¹æ³•ã€‚å…¶å®žï¼Œæ›´æœ‰æ•ˆçŽ‡çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ Tab Complete åŠŸèƒ½ã€‚ Tab Complete æ˜¯ command line ä¸­æœ€èƒ½ç»™ä½ èŠ‚çœæ—¶é—´çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œåˆ©ç”¨å®ƒçš„è‡ªåŠ¨å®Œæˆæ–‡ä»¶ã€ç›®å½•åç§°åŠŸèƒ½è¿˜å¯ä»¥é˜²æ­¢ä½ è¾“å…¥é”™è¯¯ã€‚ä½¿ç”¨cdè¿›å…¥ä½ çš„ home folderï¼Œä½¿ç”¨cd På‘½ä»¤ï¼Œç„¶åŽæŒ‰ä¸‹tabæŒ‰é”®ã€‚ä½ å¯èƒ½ä¼šå¬åˆ°é”™è¯¯éŸ³ï¼Œå› ä¸ºä½ çš„ home folder å†…æœ‰å¤šä¸ª P å¼€å¤´çš„æ–‡ä»¶å¤¹ã€‚å†æŒ‰ä¸€æ¬¡tabï¼ŒTerminal å°†ä¼šä¸ºä½ åˆ—å‡º P å¼€å¤´çš„ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼šPublic å’Œ Picturesã€‚æŒ‰Uï¼Œå†æŒ‰tabï¼ŒTerminal åˆ™ä¼šè‡ªåŠ¨ä¸ºä½ è¡¥å…¨Public/ã€‚Tab complete åŒæ ·ä¼šå¤„ç†é‚£äº›ç‰¹æ®Šå­—ç¬¦ã€‚æ³¨æ„ï¼Œè¿™ä¼šåœ¨æœ«å°¾ä¿ç•™/ç¬¦å·ï¼Œå¤§éƒ¨åˆ†æ—¶å€™è¿™æ²¡é—®é¢˜ï¼Œä½†å¦‚æžœå‡ºé”™ï¼Œç§»é™¤å¤šä½™çš„/è¯•ä¸€è¯•ã€‚ å¦å¤–ï¼Œé„‚åŒ–ç¬¦~ï¼ˆtildeï¼‰åœ¨command line ä¸­å¯ä»¥ä»£è¡¨å½“å‰ç”¨æˆ·çš„ home folderã€‚ä¾‹å¦‚~/Public/Drop\ Box/æ˜¯åˆæ³•çš„ã€‚ æŸ¥çœ‹éšè—æ–‡ä»¶ä¸ºäº†ç®€åŒ–å·¥ä½œï¼Œcommand line å’Œ Finder éƒ½ä¼šéšè—è®¸å¤šæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œè¿™äº›å†…å®¹é€šå¸¸æ˜¯ç³»ç»Ÿéœ€è¦çš„ã€‚ä¸å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·è®© Finder æ˜¾ç¤ºéšè—æ–‡ä»¶æ¯”è¾ƒå›°éš¾ï¼Œä½†æ˜¯åœ¨ command line ä¸­å´éžå¸¸ç®€å•ã€‚é¦–å…ˆï¼Œè®¸å¤šéšè—æ–‡ä»¶çš„éšè—æ˜¯é€šè¿‡éšè—å±žæ€§åœ¨ Finder ä¸­éšè—çš„ï¼Œè€Œ command line ä¼šå¿½ç•¥è¿™äº›å±žæ€§ï¼Œæ‰€ä»¥è¿™äº›æ–‡ä»¶ä¼šåœ¨ command line ä¸­æ˜¾ç¤ºã€‚å¦å¤–ï¼Œlså‘½ä»¤ä¼šéšè—æ–‡ä»¶åä»¥.å¼€å¤´çš„æ–‡ä»¶ï¼Œä½†æ˜¯è¿™äº›æ–‡ä»¶å´å¯ä»¥è¢«æ˜¾ç¤ºå‡ºæ¥ï¼Œæ–¹æ³•æ˜¯åˆ©ç”¨-aé€‰é¡¹ã€‚ä¾‹å¦‚ï¼š 1michelle$ ls -la æˆ‘ä»¬è¿˜æ·»åŠ äº†-lé€‰é¡¹ï¼Œç›®çš„æ˜¯æŽ§åˆ¶è¾“å‡ºæ ¼å¼ã€‚å¦‚æžœä½ æ³¨æ„è¾“å‡ºå†…å®¹çš„è¯ï¼Œä¼šå‘çŽ°è¿˜åŒ…æ‹¬.å’Œ..ä¸¤é¡¹ï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºå½“å‰æ–‡ä»¶å¤¹å’Œçˆ¶æ–‡ä»¶å¤¹ï¼ˆå¦‚å›¾ï¼‰ã€‚å¦‚æžœä½ ä¸æƒ³æ˜¾ç¤ºè¿™ä¸¤é¡¹ï¼Œåªéœ€è¦æŠŠ-aæ”¹æˆ-Aå³å¯ã€‚ å‰å¾€å…¶ä»–å·åœ¨ command line ä¸­ï¼Œç³»ç»Ÿå·ï¼ˆä¹Ÿç§°ä¸º root volumeï¼‰æ˜¯ç”±å¼€å§‹çš„ä¸€ä¸ªæ­£æ–œæ è¡¨ç¤ºçš„ã€‚ç„¶è€Œä¹Ÿè®¸å¬èµ·æ¥ä¸å¯æ€è®®ï¼Œåœ¨ command line ä¸­å…¶ä»–å·çœ‹èµ·æ¥å°±åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ä¸€ä¸ªå«åš Volumes çš„æ–‡ä»¶å¤¹ä¸­ã€‚ä¸‹é¢çš„å‘½ä»¤æ¸…æ™°åœ°æ˜¾ç¤ºå‡ºè¿™ç§é€»è¾‘å…³ç³»ï¼šæˆ‘ä»Žæˆ‘çš„ home folder å‡ºå‘ï¼Œæœ€ç»ˆå‰å¾€ä¸€ä¸ªå« Time Machine çš„å·ï¼Œè¯¥å·æ˜¯å¤–æŽ¥åœ¨ Mac ä¸Šçš„ã€‚ 12345678910bogon:~ renfei$ pwd/Users/renfeibogon:~ renfei$ cd /Volumes/bogon:Volumes renfei$ pwd/Volumesbogon:Volumes renfei$ lsMacintosh SSD &amp;nbsp; &amp;nbsp; &amp;nbsp;Time Machinebogon:Volumes renfei$ cd Time\ Machine/bogon:Time Machine renfei$ pwd/Volumes/Time Machine ç”¨Command-Lineç®¡ç†æ–‡ä»¶æ£€è§†æ–‡ä»¶æœ‰è®¸å¤šåŸºç¡€å‘½ä»¤ç”¨æ¥å®šä½ã€æ£€è§†æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ŒåŒ…æ‹¬cat, less, which, fileä»¥åŠfindã€‚åˆ«å¿˜äº†ï¼Œä½ å¯ä»¥åˆ©ç”¨manå‘½ä»¤æ¥æŸ¥é˜…æ¯ä¸ªå‘½ä»¤çš„ä½¿ç”¨æŒ‡å—ã€‚ catcatæ˜¯â€œconcatenateâ€çš„æ„æ€ï¼Œä¼šæŒ‰é¡ºåºè¯»å–æ–‡ä»¶å¹¶è¾“å‡ºåˆ° Terminal çª—å£ï¼Œè¯­æ³•ä¸ºcatåŽæŽ¥ä½ éœ€è¦æŸ¥çœ‹çš„æ–‡ä»¶çš„è·¯å¾„ã€‚catå‘½ä»¤ä¹Ÿå¯ä»¥ç”¨&gt;&gt;æ¥å¢žåŠ æ–‡æœ¬æ–‡ä»¶çš„å†…å®¹ï¼Œä¾‹å¦‚å‘½ä»¤cat ../textOne.txt &gt;&gt; textTwo.txtä¼šæŠŠ textOne.txt çš„å†…å®¹æ·»åŠ åˆ° textTwo.txt çš„ç»“å°¾ã€‚è¿™ä¸ª&gt;&gt;å°±å±žäºŽä¸Šä¸€ç¯‡æåˆ°çš„â€œExtrasâ€ã€‚ lessè¿™ä¸ªå‘½ä»¤æ›´é€‚åˆç”¨æ¥æŸ¥çœ‹é•¿æ–‡æœ¬æ–‡ä»¶ï¼Œå› ä¸ºå®ƒä¼šå…è®¸ä½ æŸ¥æ‰¾æ–‡æœ¬ã€‚è¯­æ³•ä¸º lessåŽæŽ¥æ–‡ä»¶è·¯å¾„ï¼Œå’Œcatä¸€æ ·ã€‚ç”¨lesså‘½ä»¤æ‰“å¼€çš„æ–‡ä»¶å…¶å®žå’Œä½ æŸ¥çœ‹å‘½ä»¤ä½¿ç”¨æŒ‡å—çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªæŸ¥çœ‹å™¨ï¼Œæ‰€ä»¥æ“ä½œæ˜¯ç›¸åŒçš„ï¼ŒåŒæ ·å¯ä»¥ä½¿ç”¨â–²ï¼ˆä¸Šç®­å¤´ï¼‰æˆ–â–¼ï¼ˆä¸‹ç®­å¤´ï¼‰æ¥ä¸Šä¸‹ç§»åŠ¨æ–‡æœ¬ï¼Œä½¿ç”¨ ç©ºæ ¼ æ¥ç¿»é¡µï¼Œè¾“å…¥/å’Œå…³é”®å­—æ¥æŒ‰ç…§å…³é”®å­—æœç´¢ï¼ŒæŒ‰Qæ¥é€€å‡ºä½¿ç”¨æŒ‡å—é¡µé¢ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒæŒ‰Vé”®æ¥ä½¿ç”¨viæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ whichè¿™ä¸ªå‘½ä»¤ä¼šå®šä½æŸä¸ªå‘½ä»¤çš„æ–‡ä»¶è·¯å¾„ã€‚æ¢è¨€ä¹‹ï¼Œå®ƒä¼šå‘Šè¯‰ä½ ä½ æ‰§è¡ŒæŸä¸ªå…·ä½“å‘½ä»¤çš„æ—¶å€™ï¼Œåœ¨ä½¿ç”¨å“ªä¸ªæ–‡ä»¶ã€‚è¯­æ³•ä¸ºwhichåŽæŽ¥æŸä¸ªå‘½ä»¤ã€‚å¦‚å›¾ï¼š fileè¿™ä¸ªå‘½ä»¤ä¼šå°è¯•æ ¹æ®æ–‡ä»¶çš„å†…å®¹è¾“å‡ºæ–‡ä»¶ç±»åž‹ã€‚å¦‚æžœä¸€ä¸ªæ–‡ä»¶ç¼ºå¤±äº†æ‰©å±•åï¼Œé‚£ä¹ˆè¿™ä¸ªå‘½ä»¤å¯èƒ½ä¼šéžå¸¸æœ‰ç”¨ã€‚è¯­æ³•ä¸ºfileåŽæŽ¥æ–‡ä»¶è·¯å¾„ã€‚å¦‚å›¾ï¼Œæ­¤ä¾‹ä¸ºä¸€ä¸ª PNG æ–‡ä»¶ï¼Œè¿˜ç»™å‡ºäº†å®ƒçš„å°ºå¯¸ã€é¢œè‰²æ•°ç­‰ä¿¡æ¯ã€‚ findè¿™ä¸ªå‘½ä»¤ç”¨æ¥æ ¹æ®æœç´¢å…³é”®è¯å®šä½æ–‡ä»¶è·¯å¾„ã€‚ findå‘½ä»¤ä¸ä½¿ç”¨ Spotlight æœç´¢æœåŠ¡ï¼Œä½†æ˜¯å®ƒå…è®¸ä½ è®¾ç½®éžå¸¸å…·ä½“çš„æœç´¢æ¡ä»¶ï¼Œä»¥åŠé€šé…ç¬¦ï¼ˆç¨åŽä»‹ç»ï¼‰ã€‚è¯­æ³•ä¸ºfindåŽæŽ¥æœç´¢çš„èµ·å§‹è·¯å¾„ï¼ŒåŽæŽ¥å®šä¹‰æœç´¢çš„é€‰é¡¹ï¼ŒåŽæŽ¥æœç´¢å†…å®¹ï¼ˆåŒ…å«åœ¨å¼•å·é‡Œï¼‰ã€‚ä¾‹å¦‚ï¼š æ³¨æ„ å¦‚æžœä½ è¦æœç´¢æ ¹ç›®å½•ï¼Œä¹Ÿè®¸ä½ æƒ³ä½¿ç”¨-xé€‰é¡¹æ¥é¿å…æœç´¢ /Volumes æ–‡ä»¶å¤¹ã€‚ å¦‚æžœæƒ³ä½¿ç”¨ Soptlight æœç´¢æœåŠ¡ï¼Œä½¿ç”¨mdfindå‘½ä»¤åŽæŽ¥æœç´¢å…³é”®è¯å³å¯ã€‚ ä½¿ç”¨é€šé…ç¬¦ï¼ˆWildcard Charactersï¼‰ä¸‹é¢æ˜¯å¸¸ç”¨çš„é€šé…ç¬¦ï¼š æ˜Ÿå·ï¼ˆï¼Šï¼ŒAsteriskï¼‰â€”â€”ä»£è¡¨ä»»ä½•é•¿åº¦çš„ä»»ä½•å­—ç¬¦ã€‚ä¾‹å¦‚*.tiffä»£è¡¨æ‰€æœ‰æ ¼å¼ä¸ºtiffçš„æ–‡ä»¶ã€‚ é—®å·ï¼ˆ?ï¼ŒQuestion markï¼‰â€”â€”ä»£è¡¨ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚b?okåŒ¹é… book ä½†æ˜¯ä¸åŒ¹é… brookã€‚ æ–¹æ‹¬å·ï¼ˆ[]ï¼ŒSquare bracketsï¼‰â€”â€”å®šä¹‰ä¸€å®šèŒƒå›´çš„å­—ç¬¦ï¼Œä¾‹å¦‚[Dd]ocumentåŒ¹é… Document ä»¥åŠ documentï¼›doc[1-9]åŒ¹é…doc1, doc2, â€¦, doc9ã€‚ é…åˆä½¿ç”¨ä¸Šé¢ä¸‰ç§é€šé…ç¬¦å¯ä»¥å¤§å¤§æé«˜æ•ˆçŽ‡ã€‚ ä½¿ç”¨é€’å½’å‘½ä»¤ç®€å•æ¥è¯´ï¼Œé€’å½’å‘½ä»¤å¯ä»¥å…è®¸å‘½ä»¤ä¸æ‰§è¡ŒäºŽä¸€ä¸ªç‰¹å®šæ–‡ä»¶ï¼Œè€Œæ˜¯æŒ‡å®šçš„è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚å¤§å¤šæ•°å‘½ä»¤åŒ…å«ä¸€ä¸ª-ræˆ–è€…-Ré€‰é¡¹ï¼Œæ¥è®¾å®šä½ æƒ³é€’å½’åœ°æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ã€‚ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼Œå±•ç¤ºäº†æ·»åŠ -RåŽlså‘½ä»¤çš„æ‰§è¡Œæ–¹å¼ï¼š ç¼–è¾‘æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æœ‰è®¸å¤šåŸºç¡€çš„å‘½ä»¤ç”¨æ¥ç¼–è¾‘æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ŒåŒ…æ‹¬mkdir, cp, mv, rm, rmdirä»¥åŠviã€‚ä¸‹é¢æˆ‘ä»¬æ¥ç®€è¦åœ°ä»‹ç»ä¸€ä¸‹è¿™äº›å‘½ä»¤ã€‚ mkdirâ€œmake diretoryâ€çš„ç¼©å†™ï¼Œç”¨æ¥åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œè¯­æ³•ä¸ºmkdiråŽæŽ¥æ–°æ–‡ä»¶å¤¹çš„ç›®å½•ã€‚å¯ä»¥ç”¨-pé€‰é¡¹ï¼Œæ¥ä¸€èµ·åˆ›å»ºè·¯å¾„ä¸­ä¸å­˜åœ¨çš„æ–‡ä»¶å¤¹ï¼ˆè¿™æ ·ä½ å°±ä¸ç”¨æŒ¨å±‚åˆ›å»ºäº†ï¼‰ã€‚ cpâ€œcopyâ€çš„ç¼©å†™ï¼Œç”¨æ¥æŠŠæ–‡ä»¶ä»Žä¸€å¤„å¤åˆ¶åˆ°å¦ä¸€å¤„ã€‚è¯­æ³•ä¸ºcpåŽæŽ¥åŽŸå§‹è·¯å¾„ï¼ŒåŽæŽ¥ç›®æ ‡è·¯å¾„ã€‚å¦‚æžœä½ æƒ³å¤åˆ¶æ•´ä¸ªæ–‡ä»¶å¤¹å’Œæ‰€æœ‰å†…å®¹ï¼Œéœ€è¦æ·»åŠ -Ré€‰é¡¹ã€‚å¦‚æžœæŒ‡å®šçš„ç›®æ ‡è·¯å¾„ä¸å«æ–‡ä»¶åï¼Œåˆ™ cp å‘½ä»¤ä¼šæŒ‰åŽŸåå¤åˆ¶ã€‚å¦‚æžœæŒ‡å®šçš„ç›®æ ‡è·¯å¾„åŒ…æ‹¬æ–‡ä»¶åï¼Œåˆ™ä¼šå¤åˆ¶ä¸ºä½ æŒ‡å®šçš„æ–‡ä»¶åã€‚å¦‚æžœä»…æŒ‡å®šæ–°æ–‡ä»¶åï¼Œåˆ™ä¼šåœ¨åŽŸå¤„ä»¥æ–°åç§°åˆ›å»ºæ–‡ä»¶å‰¯æœ¬ã€‚æ³¨æ„ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ›¿æ¢åŒåæ–‡ä»¶è€Œä¸å‡ºçŽ°æç¤ºã€‚ mvâ€œmoveâ€çš„ç¼©å†™ï¼Œç”¨æ¥ç§»åŠ¨æ–‡ä»¶ã€‚è¯­æ³•ä¸ºmvåŽæŽ¥åŽŸè·¯å¾„ï¼ŒåŽæŽ¥æ–°è·¯å¾„ã€‚mv çš„æŒ‡å®šè·¯å¾„è§„åˆ™å’Œ cp æ˜¯ä¸€æ ·çš„ï¼ˆæ²¡é”™ï¼Œå¦‚æžœä»…æŒ‡å®šæ–°æ–‡ä»¶åï¼Œå®ƒå°±æˆäº†é‡å‘½åå‘½ä»¤ï¼‰ã€‚ rmâ€œremoveâ€çš„ç¼©å†™ï¼Œä¼šæ°¸ä¹…åˆ é™¤æ–‡ä»¶ã€‚æ³¨æ„ï¼Œcommand-lineä¸­æ²¡æœ‰åºŸçº¸ç¯“ã€‚è¯­æ³•ä¸ºrmåŽæŽ¥æ–‡ä»¶è·¯å¾„ã€‚ç„¶è€Œï¼Œä½¿ç”¨ rm å‘½ä»¤åˆ é™¤çš„æ–‡ä»¶æœ‰å¯èƒ½å¯ä»¥é€šè¿‡æ•°æ®æ¢å¤å·¥å…·æ¢å¤ã€‚å¦‚æžœå¸Œæœ›å®‰å…¨åˆ é™¤æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨srmå‘½ä»¤ã€‚ rmdirå’Œrm -Rrmdiræ˜¯â€œremove directoryâ€çš„ç¼©å†™ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šæ°¸ä¹…åˆ é™¤æ–‡ä»¶å¤¹ã€‚å†å¼ºè°ƒä¸€éï¼ŒCLI ä¸­æœ¨æœ‰åºŸçº¸ç¯“ã€‚è¯­æ³•ä¸ºrmdiråŽæŽ¥å¸Œæœ›åˆ é™¤ç›®å½•çš„è·¯å¾„ã€‚ç„¶è€Œï¼Œrmdir å‘½ä»¤æ— æ³•åˆ é™¤å«æœ‰ä»»ä½•å…¶ä»–æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥å¤§å¤šæ•°æƒ…å½¢ä¸‹rmdirå‘½ä»¤æ˜¯ä¸é€‚ç”¨çš„ã€‚ä¸è¿‡ï¼Œä½ å¯ä»¥åˆ©ç”¨rmæ·»åŠ -Ré€‰é¡¹æ¥åˆ é™¤æ–‡ä»¶å¤¹åŠåŒ…å«çš„æ‰€æœ‰æ–‡ä»¶ã€‚ viä»£è¡¨â€œvisualâ€ï¼ˆè§†è§‰çš„ï¼‰ï¼Œç„¶è€Œè¿™ä¸ªåç§°ç›¸å½“å…·æœ‰è®½åˆºæ„å‘³ï¼šviå¯èƒ½æ˜¯å¯è§†åŒ–æ•ˆæžœæœ€å·®çš„æ–‡æœ¬ç¼–è¾‘å™¨äº†ã€‚ç„¶è€Œï¼Œvi æ˜¯ command line ä¸­æœ€å¸¸è§çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ç”¨viæ‰“å¼€æ–‡æœ¬æ–‡ä»¶ï¼Œåªéœ€è¦è¾“å…¥viåŽæŽ¥æ–‡ä»¶è·¯å¾„å³å¯ã€‚Mac OS X è¿˜æä¾›äº†nanoï¼Œä¸€ä¸ªæ›´åŠ çŽ°ä»£çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚å®ƒä¹Ÿæ›´åŠ æ–¹ä¾¿ï¼Œä¾‹å¦‚åœ¨åº•éƒ¨åŒ…å«äº†ä¸€ä¸ªä½œå¼Šå°æ¡ï¼ˆ=_=ï¼‰ï¼Œä¸Šé¢æœ‰å¸¸ç”¨çš„å¿«æ·é”®åˆ—è¡¨ï¼ˆä½ å°±ä¸ç”¨èƒŒä¸‹æ¥å®ƒä»¬äº†ï¼‰ã€‚ç„¶è€Œï¼Œviå´æœ‰æ—¶æ˜¯é»˜è®¤çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ‰€ä»¥æŽŒæ¡viæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚ å’Œlesså‘½ä»¤ç±»ä¼¼ï¼Œviå‘½ä»¤ä¼šå ç”¨æ•´ä¸ª Terminal ç©ºé—´æ¥æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ã€‚æ‰“å¼€åŽï¼Œåœ¨â€œcommandæ¨¡å¼â€ï¼Œvi ä¼šç­‰ä½ è¾“å…¥ä¸€äº›é¢„å®šä¹‰å­—ç¬¦æ¥å‘Šè¯‰ vi ä½ æƒ³åšä»€ä¹ˆã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨é”®ç›˜ä¸Šçš„ç®­å¤´é”®å•çº¯åœ°æµè§ˆæ–‡ä»¶ã€‚ä½ æƒ³ç¼–è¾‘æ—¶ï¼ŒæŒ‰Aå¼€å§‹ï¼ˆä¼šè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼‰ã€‚æ–‡å­—ä¼šæ’å…¥åˆ°å…‰æ ‡å¤„ã€‚å¦‚æžœä½ æƒ³ä¿å­˜ï¼Œéœ€è¦å…ˆé€€å‡ºç¼–è¾‘æ¨¡å¼è¿›å…¥ command æ¨¡å¼ã€‚æ–¹æ³•æ˜¯æŒ‰ä¸‹escé”®ã€‚å›žåˆ° command æ¨¡å¼åŽï¼ŒæŒ‰ä½shiftåŒæ—¶æŒ‰ä¸¤æ¬¡Zæ¥ä¿å­˜å¹¶é€€å‡ºã€‚å¦‚æžœä½ ä¸æƒ³ä¿å­˜ï¼Œåœ¨ command æ¨¡å¼è¾“å…¥:quit!å¹¶æŒ‰ enter/return ç›´æŽ¥é€€å‡ºã€‚ ç”¨Command-Lineç®¡ç†ç³»ç»Ÿ ä½¿ç”¨suæ¥åˆ‡æ¢ç”¨æˆ·suå‘½ä»¤ä»£è¡¨â€œsubstitute user identityâ€ï¼Œå…è®¸ä½ åœ¨å‘½ä»¤è¡Œä¸­è½»æ¾åˆ‡æ¢åˆ°å¦ä¸€ä¸ªç”¨æˆ·è´¦æˆ·ã€‚è¯­æ³•ä¸ºsuåŽæŽ¥ç”¨æˆ·çš„çŸ­åç§°ã€‚ç„¶åŽä¼šè¦æ±‚ä½ è¾“å…¥å¯†ç ï¼ˆä½†æ˜¯è¾“å…¥çš„æ—¶å€™ä¸ä¼šæ˜¾ç¤ºï¼‰ã€‚æ‰§è¡Œå®Œæ¯•åŽï¼Œå‘½ä»¤çš„å‰ç¼€ä¼šæ”¹å˜ï¼Œè¡¨ç¤ºä½ æ‹¥æœ‰å…¶ä»–ç”¨æˆ·çš„æƒåˆ©ã€‚ä½ å¯ä»¥åˆ©ç”¨who -må‘½ä»¤æ¥éªŒè¯å½“å‰ç™»é™†çš„èº«ä»½ã€‚åˆ‡æ¢åŽï¼Œä½ ä¼šä¸€ç›´ä¿æŒè¯¥ç”¨æˆ·èº«ä»½ï¼Œç›´è‡³é€€å‡º Terminal æˆ–è€…è¾“å…¥exitå‘½ä»¤ã€‚ å…³äºŽsudoçš„ä½¿ç”¨sudoæ¦‚è¿°æ›´å¼ºå¤§çš„å‘½ä»¤å°±æ˜¯sudoï¼Œä»£è¡¨â€œsubstitute user doâ€ï¼Œæˆ–è€…ï¼Œæ›´æ°å½“åœ°ï¼Œâ€œsuper user doâ€ã€‚ç”¨sudoæ‰§è¡Œä¸€ä¸ªå‘½ä»¤ä¼šä½¿ç”¨ root è´¦æˆ·æƒé™ã€‚å½“ç„¶ï¼Œä½¿ç”¨ä¹‹å‰éœ€è¦ administrator è´¦æˆ·ï¼ˆç®¡ç†å‘˜è´¦æˆ·ï¼‰çš„æŽˆæƒï¼ˆå¦‚è¾“å…¥å¯†ç ï¼‰ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œä»»ä½•ç®¡ç†å‘˜è´¦æˆ·éƒ½å¯ä»¥ä½¿ç”¨sudoæ¥èŽ·å– root æƒé™ï¼Œç”šè‡³å½“ root è´¦æˆ·åœ¨å›¾å½¢ç•Œé¢è¢«ç¦ç”¨çš„æƒ…å†µä¸‹ï¼Œsudoä¾ç„¶æœ‰æ•ˆã€‚è¿™ä¸ªå‘½ä»¤æ˜¯å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬ä¸å¾—ä¸ä½¿ç”¨ Terminal çš„åŽŸå› ï¼Œâ€”â€”åŒæ ·ä¹Ÿæ˜¯ç»™æ¯ä¸ªç”¨æˆ·ç®¡ç†å‘˜èº«ä»½çš„å±é™©æ‰€åœ¨ã€‚ä¸è¿‡ï¼Œä½ å¯ä»¥è°ƒæ•´sudoçš„é…ç½®æ–‡ä»¶ï¼Œæ¥é™åˆ¶å®ƒçš„ä½¿ç”¨ã€‚ 12345bogon:~ renfei$ cat secret.txtcat: secret.txt: Permission deniedbogon:~ renfei$ sudo cat secret.txtPassword:This is the contents of the secret.txt text file that the user account renfei does not normally have access permissions to read. However, because he is an administrative user, she can use the sudo command to envoke root user access and read the contents of this file. æç¤ºï¼šå¦‚æžœç”±äºŽä½ å¿˜äº†ä½¿ç”¨sudoè€Œå¯¼è‡´å‘½ä»¤è¡Œè¿”å›žä¸€ä¸ªé”™è¯¯ï¼Œåªéœ€è¾“å…¥sudo !!å°±å¯ä»¥ç”¨sudoæ¥æ‰§è¡Œä¸Šä¸€æ¡æŒ‡ä»¤ã€‚ è®°ä½ï¼ŒæƒåŠ›è¶Šå¤§è´£ä»»è¶Šå¤§ã€‚ä¸æ°å½“åœ°ä½¿ç”¨sudoå¯ä»¥è½»æ˜“ç ´åä½ çš„ç³»ç»Ÿè®¾ç½®ã€‚å‘½ä»¤è¡Œåªä¼šåœ¨ä½ ç¬¬ä¸€æ¬¡æ‰§è¡Œä¸¥é‡ç ´åæ€§è¡Œä¸ºä¹‹å‰æç¤ºä½ ï¼Œä¹‹åŽï¼Œå®ƒå°±ä¼šå‡è®¾ä½ æ¸…æ¥šè‡ªå·±æ­£åœ¨å¹²ä»€ä¹ˆã€‚å¦‚æžœä½ åªæŽŒæ¡ä¸‰æ¡ä½¿ç”¨å‘½ä»¤è¡Œçš„å‡†åˆ™ï¼Œé‚£å°†æ˜¯ï¼šæ€»æ˜¯ä»”ç»†æ£€æŸ¥ä½ çš„å‘½ä»¤ï¼›æ€»æ˜¯ä½¿ç”¨Tab completionæ¥å¸®åŠ©ä½ é¿å…æ‹¼å†™é”™è¯¯ï¼›ä½¿ç”¨sudoä¹‹å‰ï¼Œæ€»æ˜¯ä»”ä»”ç»†ç»†æ£€æŸ¥ä½ çš„å‘½ä»¤ã€‚ ä½¿ç”¨ sudo åˆ‡æ¢ Shellå¦‚æžœä½ æ˜¯ä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ·ï¼Œä½ éœ€è¦æ‰§è¡Œå¾ˆå¤šæ¡éœ€è¦ root æƒé™çš„å‘½ä»¤ï¼Œä½ å¯ä»¥ä¸´æ—¶åˆ‡æ¢æ•´ä¸ªå‘½ä»¤è¡Œ shell æ¥å–å¾— root çº§åˆ«çš„è®¿é—®æƒé™ã€‚æ–¹æ³•å°±æ˜¯å…ˆè¾“å…¥sudo -sï¼Œå›žè½¦åŽå†é”®å…¥ä½ çš„å¯†ç ã€‚ å…¶ä»–Command-LineæŠ€å·§æç¤º è¾“å…¥å‘½ä»¤open .å¯ä»¥ç”¨ Finder æ‰“å¼€å½“å‰çš„ä½ç½®ã€‚ åœ¨ Terminal çš„åå¥½é‡Œé¢å¯ä»¥è®¾å®šå®ƒçš„å¤–è§‚å’Œé£Žæ ¼ã€‚ ä¸­æ­¢ä¸€ä¸ªé”™è¯¯çš„æˆ–è€…å‘ç–¯çš„å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨ç»„åˆé”®control + Cã€‚ ä½ å¯ä»¥åœ¨æ‰§è¡Œå‰ç¼–è¾‘å‘½ä»¤ï¼Œåªéœ€è¦ä½¿ç”¨ç®­å¤´å’Œé”®ç›˜ä¸Šçš„å…¶ä»–å­—æ¯ã€‚ æ²¡æœ‰è¾“å…¥ä»»ä½•å‘½ä»¤æ—¶ï¼Œä½ å¯ä»¥ç”¨â–²å’Œâ–¼æ¥æµè§ˆåŽ†å²å‘½ä»¤ã€‚åŒæ ·å¯ä»¥ç¼–è¾‘å’Œå†æ¬¡æ‰§è¡Œã€‚ ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨historyå‘½ä»¤æŸ¥çœ‹åŽ†å²è®°å½•ã€‚ ä½ å¯ä»¥ä½¿ç”¨ç»„åˆé”®control + Læ¸…å±ã€‚]]></content>
      <categories>
        <category>Tutorial</category>
      </categories>
      <tags>
        <tag>Terminal</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”¨çº¯ CSS ä¸º HTML checkbox æ·»åŠ è‡ªå®šä¹‰æ ·å¼åŠåŠ¨ç”»æ•ˆæžœ]]></title>
    <url>%2F2017%2F03%2F17%2FAdd%20custom%20style%20and%20animation%20effects%20to%20HTML%20checkbox%20with%20CSS%2F</url>
    <content type="text"><![CDATA[ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ`å…ƒç´ ï¼ˆä¹ŸåŒ…æ‹¬ä¸€éƒ¨åˆ†å…¶ä»–inputå…ƒç´ ï¼‰æ˜¯ç”±æ“ä½œç³»ç»Ÿï¼ˆè€Œéžæµè§ˆå™¨ï¼‰è¿›è¡Œæ¸²æŸ“çš„ã€‚åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸‹ï¼Œè¿™ç±»ç‰¹æ®Šå…ƒç´ çš„æ ·å¼å¾€å¾€å’Œç³»ç»Ÿæœ¬èº«çš„é£Žæ ¼ä¸€è‡´ï¼Œå’Œæµè§ˆå™¨æ— å…³ã€‚ä¹Ÿæ­£æ˜¯ç”±äºŽè¿™ç§æœºåˆ¶ï¼Œå¼€å‘è€…æ— æ³•åƒä¸€èˆ¬å…ƒç´ é‚£æ ·ä½¿ç”¨ CSS æ¥ä¿®é¥°è¿™ç±»å…ƒç´ ã€‚è¿™é‡Œä»‹ç»ä¸€ç§åˆ©ç”¨çº¯ CSS å®žçŽ°è‡ªå®šä¹‰ checkbox æ ·å¼çš„æ–¹æ³•ã€‚æ€è·¯å¾ˆç®€å•ï¼šç”±äºŽæŽ§ä»¶æ‰€å¯¹åº”çš„labelå…ƒç´ æ˜¯å¯ä»¥ç‚¹å‡»å¹¶åˆ‡æ¢æŽ§ä»¶çŠ¶æ€çš„ï¼Œè€Œlabelå…ƒç´ çš„æ ·å¼åˆå¯ä»¥è‡ªç”±è®¾å®šï¼Œå› æ­¤æˆ‘ä»¬å¯å°†inputå…ƒç´ éšè—ï¼Œé€šè¿‡label`å…ƒç´ å®žçŽ°äº¤äº’ã€‚ HTML ä»£ç å¦‚ä¸‹ï¼š 1234&lt;input type="checkbox" id="checkbox" class="checkbox"/&gt;&lt;div class="checkbox-wrapper"&gt; &lt;label for="checkbox" class="checkbox-label"&gt;&lt;/label&gt;&lt;/div&gt; æ ·å¼ä¸€ï¼šMetro UI é£Žæ ¼ æ•ˆæžœï¼š CSS ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445.checkbox-wrapper &#123; width: 80px; height: 32px; position: relative; display: inline-block; overflow: hidden;&#125;.checkbox &#123; display: none;&#125;.checkbox-label::before,.checkbox-label::after &#123; font-family: sans-serif; font-size: 13px; color: #ffffff; position: absolute; font-weight: bold; line-height: 32px; height: 32px; width: 40px; text-align: center;&#125;.checkbox-label::before &#123; content: 'ON'; left: -40px; background: #45b6af;&#125;.checkbox-label::after &#123; content: 'OFF'; right: -40px; background: #f3565d;&#125;.checkbox-label &#123; display: block; position: absolute; left: 0; width: 40px; height: 32px; transition: all .4s ease; cursor: pointer; background: #dddddd;&#125;.checkbox:checked + .checkbox-wrapper .checkbox-label &#123; left: 40px;&#125; æ ·å¼äºŒï¼šiOS 7 é£Žæ ¼ æ•ˆæžœï¼š CSSä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233.checkbox-wrapper &#123; width: 58px; height: 32px; position: relative; display: inline-block; background: #ffffff; border-radius: 16px; transition: all .3s ease-out; box-shadow: 0px 0px 0px 2px #ddd;&#125;.checkbox &#123; display: none;&#125;.checkbox-label &#123; display: block; position: absolute; left: 0px; top: 0px; width: 32px; height: 32px; cursor: pointer; background: #ffffff; border-radius: 16px; box-shadow: 0px 2px 3px rgba(0,0,0,0.2); transition: all .3s ease-out;&#125;.checkbox:checked + .checkbox-wrapper &#123; background: #0bd318; box-shadow: 0px 0px 0px 2px #0bd318;&#125;.checkbox:checked + .checkbox-wrapper .checkbox-label &#123; left: 26px;&#125; å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™ä¸ªä¾‹å­è™½ç„¶æ¯”è¾ƒå®Œç¾Žçš„è¿˜åŽŸäº† iOS 7 ä¸­ UISwitch æŽ§ä»¶çš„å¤–è§‚ï¼Œä½†æ˜¯åŠ¨ç”»æ›²çº¿å´è¿˜æœ‰äº›å·®è·ã€‚iOS 7 ä¸­ä½¿ç”¨çš„æ˜¯ä¸€ç§åä¸º String Animation çš„åŠ¨ç”»ï¼ˆè¯¥ API åœ¨ iOS 8 ä¸­å·²ç»å…¬å¼€ï¼‰ï¼Œä»”ç»†çœ‹çš„è¯å¯ä»¥å‘çŽ°å¼€å§‹æ»‘å—ç§»åŠ¨å¾ˆå¿«ï¼Œåˆ°åŽé¢é€æ¸å˜æ…¢ï¼Œå¹¶ä¸”ç»“æŸæ—¶è¿˜æœ‰å°å¹…åº¦çš„ã€Œåå¼¹ã€æ•ˆæžœã€‚è¿™é‡Œæˆ‘ä»¬ä¸ºäº†æ–¹ä¾¿ï¼Œä½¿ç”¨ ease-out æ¥æ¨¡æ‹Ÿã€‚ JSFiddle ç‚¹å‡»æ­¤å¤„æŸ¥çœ‹æœ¬æ•™ç¨‹åœ¨ JSFiddle çš„ç¤ºèŒƒä»£ç ã€‚]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>HTML</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++ string å­—ç¬¦ä¸²å‡½æ•°è¯¦è§£]]></title>
    <url>%2F2017%2F03%2F17%2FThe%20details%20of%20string%20function%20of%20Cpp%2F</url>
    <content type="text"><![CDATA[è¿ç®—ç¬¦é‡è½½ + å’Œ +=ï¼šè¿žæŽ¥å­—ç¬¦ä¸² =ï¼šå­—ç¬¦ä¸²èµ‹å€¼ >ã€&gt;=ã€&lt; å’Œ &lt;=ï¼šå­—ç¬¦ä¸²æ¯”è¾ƒï¼ˆä¾‹å¦‚a &lt; b, aa &lt; abï¼‰ ==ã€!=ï¼šæ¯”è¾ƒå­—ç¬¦ä¸² &lt;&lt;ã€&gt;&gt;ï¼šè¾“å‡ºã€è¾“å…¥å­—ç¬¦ä¸² 12345678#include &lt;iostream&gt;#include &lt;string&gt;int main()&#123; string str = "cat"; cout &lt;&lt; "apple" + "boy" + str; // illegal! return 0;&#125; æŸ¥æ‰¾ 123456789101112131415161718192021string str;cin &gt;&gt; str;str.find("ab");//è¿”å›žå­—ç¬¦ä¸² ab åœ¨ str çš„ä½ç½®str.find("ab", 2);//åœ¨ str[2]~str[n-1] èŒƒå›´å†…æŸ¥æ‰¾å¹¶è¿”å›žå­—ç¬¦ä¸² ab åœ¨ str çš„ä½ç½®str.rfind("ab", 2);//åœ¨ str[0]~str[2] èŒƒå›´å†…æŸ¥æ‰¾å¹¶è¿”å›žå­—ç¬¦ä¸² ab åœ¨ str çš„ä½ç½®//first ç³»åˆ—å‡½æ•°str.find_first_of("apple");//è¿”å›ž apple ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦é¦–æ¬¡åœ¨ str ä¸­å‡ºçŽ°çš„ä½ç½®str.find_first_of("apple", 2);//è¿”å›ž apple ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦é¦–æ¬¡åœ¨ str[2]~str[n-1] èŒƒå›´ä¸­å‡ºçŽ°çš„ä½ç½®str.find_first_not_of("apple");//è¿”å›žé™¤ apple ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦åœ¨ str ä¸­é¦–æ¬¡å‡ºçŽ°çš„ä½ç½®str.find_first_not_of("apple", 2);//è¿”å›žé™¤ apple ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦åœ¨ str[2]~str[n-1] èŒƒå›´ä¸­é¦–æ¬¡å‡ºçŽ°çš„ä½ç½®//last ç³»åˆ—å‡½æ•°str.find_last_of("apple");//è¿”å›ž apple ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦æœ€åŽä¸€æ¬¡åœ¨ str ä¸­å‡ºçŽ°çš„ä½ç½®str.find_last_of("apple", 2);//è¿”å›ž apple ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦æœ€åŽä¸€æ¬¡åœ¨ str[0]~str[2] èŒƒå›´ä¸­å‡ºçŽ°çš„ä½ç½®str.find_last_not_of("apple");//è¿”å›žé™¤ apple ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦åœ¨ str ä¸­æœ€åŽä¸€æ¬¡å‡ºçŽ°çš„ä½ç½®str.find_last_not_of("apple", 2);//è¿”å›žé™¤ apple ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦åœ¨ str[0]~str[2] èŒƒå›´ä¸­æœ€åŽä¸€æ¬¡å‡ºçŽ°çš„ä½ç½®//ä»¥ä¸Šå‡½æ•°å¦‚æžœæ²¡æœ‰æ‰¾åˆ°ï¼Œå‡è¿”å›žstring::nposcout &lt;&lt; string::npos; å­ä¸² 12str.substr(3); //è¿”å›ž [3] åŠä»¥åŽçš„å­ä¸²str.substr(2, 4); //è¿”å›ž str[2]~str[2+(4-1)] å­ä¸²(å³ä»Ž[2]å¼€å§‹4ä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²) æ›¿æ¢ 12str.replace(2, 4, "sz");//è¿”å›žæŠŠ [2]~[2+(4-1)] çš„å†…å®¹æ›¿æ¢ä¸º "sz" åŽçš„æ–°å­—ç¬¦ä¸²str.replace(2, 4, "abcd", 3);//è¿”å›žæŠŠ [2]~[2+(4-1)] çš„å†…å®¹æ›¿æ¢ä¸º "abcd" çš„å‰3ä¸ªå­—ç¬¦åŽçš„æ–°å­—ç¬¦ä¸² æ’å…¥ 123str.insert(2, "sz");//ä»Ž [2] ä½ç½®å¼€å§‹æ·»åŠ å­—ç¬¦ä¸² "sz"ï¼Œå¹¶è¿”å›žå½¢æˆçš„æ–°å­—ç¬¦ä¸²str.insert(2, "abcd", 3);//ä»Ž [2] ä½ç½®å¼€å§‹æ·»åŠ å­—ç¬¦ä¸² "abcd" çš„å‰ 3 ä¸ªå­—ç¬¦ï¼Œå¹¶è¿”å›žå½¢æˆçš„æ–°å­—ç¬¦ä¸²str.insert(2, "abcd", 1, 3);//ä»Ž [2] ä½ç½®å¼€å§‹æ·»åŠ å­—ç¬¦ä¸² "abcd" çš„å‰ [2]~[2+(3-1)] ä¸ªå­—ç¬¦ï¼Œå¹¶è¿”å›žå½¢æˆçš„æ–°å­—ç¬¦ä¸² è¿½åŠ  é™¤äº†ç”¨é‡è½½çš„ + æ“ä½œç¬¦ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å‡½æ•°æ¥å®Œæˆã€‚ 12str.push_back('a');//åœ¨ str æœ«å°¾æ·»åŠ å­—ç¬¦'a'str.append("abc");//åœ¨ str æœ«å°¾æ·»åŠ å­—ç¬¦ä¸²"abc" åˆ é™¤ 12str.erase(3);//åˆ é™¤ [3] åŠä»¥åŽçš„å­—ç¬¦ï¼Œå¹¶è¿”å›žæ–°å­—ç¬¦ä¸²str.erase(3, 5);//åˆ é™¤ä»Ž [3] å¼€å§‹çš„ 5 ä¸ªå­—ç¬¦ï¼Œå¹¶è¿”å›žæ–°å­—ç¬¦ä¸² äº¤æ¢ 1str1.swap(str2);//æŠŠ str1 ä¸Ž str2 äº¤æ¢ å…¶ä»– 12345str.size();//è¿”å›žå­—ç¬¦ä¸²é•¿åº¦str.length();//è¿”å›žå­—ç¬¦ä¸²é•¿åº¦str.empty();//æ£€æŸ¥ str æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¿”å›ž 1ï¼Œå¦åˆ™è¿”å›ž 0str[n];//å­˜å– str ç¬¬ n + 1 ä¸ªå­—ç¬¦str.at(n);//å­˜å– str ç¬¬ n + 1 ä¸ªå­—ç¬¦ï¼ˆå¦‚æžœæº¢å‡ºä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰ å®žä¾‹ æŸ¥æ‰¾ç»™å®šå­—ç¬¦ä¸²å¹¶æŠŠç›¸åº”å­ä¸²æ›¿æ¢ä¸ºå¦ä¸€ç»™å®šå­—ç¬¦ä¸²string å¹¶æ²¡æœ‰æä¾›è¿™æ ·çš„å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬è‡ªå·±æ¥å®žçŽ°ã€‚ç”±äºŽç»™å®šå­—ç¬¦ä¸²å¯èƒ½å‡ºçŽ°å¤šæ¬¡ï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ° find() æˆå‘˜å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ¯æ¬¡æŸ¥æ‰¾ä¹‹åŽï¼Œä»Žæ‰¾åˆ°ä½ç½®å¾€åŽç»§ç»­æœç´¢ã€‚ç›´æŽ¥çœ‹ä»£ç ï¼ˆè¿™ä¸ªå‡½æ•°è¿”å›žæ›¿æ¢çš„æ¬¡æ•°ï¼Œå¦‚æžœè¿”å›žå€¼æ˜¯ 0 è¯´æ˜Žæ²¡æœ‰æ›¿æ¢ï¼‰ï¼š 1234567891011int str_replace(string &amp;str, const string &amp;src, const string &amp;dest)&#123; int counter = 0; string::size_type pos = 0; while ((pos = str.find(src, pos)) != string::npos) &#123; str.replace(pos, src.size(), dest); ++counter; pos += dest.size(); &#125; return counter;&#125; ä»Žç»™å®šå­—ç¬¦ä¸²ä¸­åˆ é™¤ä¸€ç»™å®šå­—ä¸²æ–¹æ³•å’Œä¸Šé¢ç›¸ä¼¼ï¼Œå†…éƒ¨ä½¿ç”¨ erase() å®Œæˆã€‚ä»£ç ï¼š 12345678910int str_erase(string &amp;str, const string src)&#123; int counter = 0; string::size_type pos = 0; while ((pos = str.find(src, pos)) != string::npos) &#123; str.erase(pos, src.size()); ++counter; &#125; return counter;&#125; ç»™å®šä¸€å­—ç¬¦ä¸²å’Œä¸€å­—ç¬¦é›†ï¼Œä»Žå­—ç¬¦ä¸²å‰”é™¤å­—ç¬¦é›†ä¸­çš„ä»»æ„å­—ç¬¦12345678910int str_wash(string &amp;str, const string src)&#123; int counter = 0; string::size_type pos = 0; while ((pos = str.find_first_of(src, pos)) != string::npos) &#123; str.erase(pos, 1); ++counter; &#125; return counter;&#125;]]></content>
      <categories>
        <category>Note</category>
      </categories>
      <tags>
        <tag>C++</tag>
      </tags>
  </entry>
</search>
