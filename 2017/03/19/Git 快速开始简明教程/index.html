<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>  · Gavin's Blog</title><meta name="description" content=" - Richard Gavin"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="Gavin's Blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/wanguy" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title"></h1><div class="post-info">Mar 19, 2017</div><div class="post-content"><h1 id="Git-快速开始简明教程"><a href="#Git-快速开始简明教程" class="headerlink" title="Git 快速开始简明教程"></a>Git 快速开始简明教程</h1><p>Git 是一个分布式版本管理系统，即每个终端都有一套完整的项目代码（包括历史文件）。为了使用 Git，先要安装 Git。可以在 Command Line 或者 Terminal 中输入<code>git</code>命令检查是否已经安装。</p>
<a id="more"></a>
<blockquote>
<h2 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h2></blockquote>
<h3 id="创建本地工作目录"><a href="#创建本地工作目录" class="headerlink" title="创建本地工作目录"></a>创建本地工作目录</h3><p>先要创建一个文件夹来保存项目代码。例如我使用如下目录：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/Users/renfei/Sites/project</div></pre></td></tr></table></figure>
<p>命令行中<code>cd</code>到这个目录，然后执行<code>git init</code> 命令来初始化：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">bogon:~ renfei$ cd /Users/renfei/Sites/project </div><div class="line">bogon:project renfei$ git init</div><div class="line">Initialized empty Git repository in /Users/renfei/Sites/project/.git/</div></pre></td></tr></table></figure>
<h3 id="添加远程仓库"><a href="#添加远程仓库" class="headerlink" title="添加远程仓库"></a>添加远程仓库</h3><p>使用<code>git remote add</code>命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bogon:buaa-weixin renfei$ git remote add proj https://renfeisong@bitbucket.org/developers/proj.git</div></pre></td></tr></table></figure>
<p>上面的 proj 是一个本地别名，可以起得短一些，以便以后使用。后面的地址则是远程仓库得地址。添加之后，可以使用<code>git remote</code>命令查看当前已有的远程仓库。</p>
<h3 id="从远程仓库得到数据"><a href="#从远程仓库得到数据" class="headerlink" title="从远程仓库得到数据"></a>从远程仓库得到数据</h3><p>使用 <code>git fetch</code> 命令。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bogon:project renfei$ git fetch proj</div><div class="line">remote: Counting objects: 39, done.</div><div class="line">remote: Compressing objects: 100% (34/34), done.</div><div class="line">remote: Total 39 (delta 5), reused 0 (delta 0)</div><div class="line">Unpacking objects: 100% (39/39), done.</div><div class="line">From https://bitbucket.org/renfeisong/project</div><div class="line"> * [new branch]      develop    -&gt; proj/develop</div><div class="line"> * [new branch]      master     -&gt; proj/master</div></pre></td></tr></table></figure>
<p>会看到得到了服务器上的文件，以及两个分支，develop 和 master。这里得到得分支数目取决于远程仓库的内容。虽然得到了这些东西，但是现在这些文件还没有出现在你的工作目录中。</p>
<p>这是因为，我们需要利用<code>git checkout</code>命令「检出」（实际就是把工作目录切换到某个分支），才可以看到对应分支下的那些文件。</p>
<h3 id="切换分支"><a href="#切换分支" class="headerlink" title="切换分支"></a>切换分支</h3><p>使用 <code>checkout</code> 命令。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">bogon:project renfei$ git checkout develop</div><div class="line">Branch develop set up to track remote branch develop from proj.</div><div class="line">Switched to a new branch 'develop'</div></pre></td></tr></table></figure>
<p>例子中我们切换到了 develop 分支，其中对应的文件就都出现了（如果有的话）。</p>
<h2 id="再说分支"><a href="#再说分支" class="headerlink" title="再说分支"></a>再说分支</h2><p>分支是 Git 的一个很重要的功能，因此有必要解释一下。如果把随着时间的推移，代码的变化想象成前进的路线，那么分支就是从路线上的某一点衍生出来的一条支线，在这条支线上的开发不会对原先路线的代码造成任何影响。例如，现在我们有一个 master 分支和一个 develop 分支，master 分支发布稳定版本的应用，而 develop 分支则进行日常开发。一旦达到某个进度节点，develop 分支上的代码足够稳定可以发布，就把 develop 分支合并（merge）到 master 分支，同时继续 develop 分支的开发。</p>
<p>再如，develop 分支开发的过程中出现了某个 bug，一个开发人员想解决这个 bug，那么为了不影响其他人的工作，他可以从 develop 分支再创建一个新的分支 hotfix，然后在这个分支下修改，完成后把它合并回 develop 分支，并删除 hotfix 分支（它的历史使命已经完成）。</p>
<p>可以看出，每个分支都有一套代码。每个开发人员本地都保存了全部分支的全部代码（这些代码连同其他信息被 git 有序地组织在了工作目录下 .git 目录中，这个目录应当是隐藏的），当通过<code>checkout branch_name</code>切换分支时，工作目录下可见的文件也会被切换成当前分支下的文件。而其他分支的文件也并没有丢失，所以非常方便，你可以根据需要切换分支进行不同的工作。</p>
<blockquote>
<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2></blockquote>
<h3 id="添加新文件"><a href="#添加新文件" class="headerlink" title="添加新文件"></a>添加新文件</h3><p>在工作目录中创建的新文件处于 untracked 状态，即没有被 git 跟踪。新文件不会自动被 git 跟踪，因为许多临时文件、日志文件不需要保存到仓库中。如果要往仓库中添加文件，使用 <code>git add</code> 命令。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bogon:project renfei$ git add *</div></pre></td></tr></table></figure>
<p>上述做法添加所有文件。如果包含文件夹，则会递归地添加里面的文件。也可以添加单独的文件或者在文件名中使用通配符。</p>
<p>要查看当前状态（哪些文件 untracked，哪些文件处于其他状态等）可以使用 <code>git status</code> 命令。</p>
<p>执行 <code>git add</code> 后，新添加的文件状态（可通过<code>git status</code>查看）变为 change to be committed，或者称为 staged，暂存。意思就是，只要把它 commit 上去就可以了。</p>
<h3 id="修改文件"><a href="#修改文件" class="headerlink" title="修改文件"></a>修改文件</h3><p>如果修改了某个已跟踪的文件，那么这个文件会变为 modified，not staged，未暂存。此时必须再次 <code>git add</code> 这个文件使它变成 staged 状态，才能够被 commit 上去。</p>
<h3 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h3><p>当有文件状态为暂存的（staged）时，就可以执行 <code>git commit</code> 命令。这个命令会提交暂存的文件。git 要求为每次提交添加一个说明，因此一般使用一个<code>-m</code>选项来添加说明。例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">bogon:project renfei$ git commit -m "background admin site (backend) added"</div><div class="line">[develop 7d17136] background admin site (backend) added</div><div class="line"> 16 files changed, 10372 insertions(+)</div><div class="line"> create mode 100644 bootstrap/v2/css/bootstrap-responsive.css</div><div class="line"> create mode 100644 bootstrap/v2/css/bootstrap-responsive.min.css</div><div class="line"> create mode 100644 bootstrap/v2/css/bootstrap.css</div><div class="line"> create mode 100644 bootstrap/v2/css/bootstrap.min.css</div><div class="line"> create mode 100644 bootstrap/v2/img/glyphicons-halflings-white.png</div><div class="line"> create mode 100644 bootstrap/v2/img/glyphicons-halflings.png</div><div class="line"> create mode 100644 bootstrap/v2/js/bootstrap.js</div><div class="line"> create mode 100644 bootstrap/v2/js/bootstrap.min.js</div><div class="line"> create mode 100644 define.php</div><div class="line"> create mode 100644 index.php</div><div class="line"> create mode 100644 jquery/jquery-1.10.2.min.js</div><div class="line"> create mode 100644 login.php</div><div class="line"> create mode 100644 logout.php</div><div class="line"> create mode 100644 pref.php</div><div class="line"> create mode 100644 signup.php</div><div class="line"> create mode 100644 util.php</div></pre></td></tr></table></figure>
<p>这个操作完成后，代码就被提交到了本地仓库。每次进行 commit 后都会对整个项目做一个快照，以后可以随时回滚到某个快照中。</p>
<p>如果希望省略 add 过程而直接提交所有跟踪的文件，可以给 <code>commit</code> 命令加上<code>-a</code>选项。如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bogon:project renfei$ git commit -a -m "background admin site (backend) added"</div></pre></td></tr></table></figure>
<h3 id="推送到远程仓库"><a href="#推送到远程仓库" class="headerlink" title="推送到远程仓库"></a>推送到远程仓库</h3><p><code>commit</code>仅仅把更改提交到了本地仓库。如果想推送到远程仓库，需要使用 <code>git push</code> 命令。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bogon:project renfei$ git push proj develop</div><div class="line">Counting objects: 25, done.</div><div class="line">Delta compression using up to 8 threads.</div><div class="line">Compressing objects: 100% (22/22), done.</div><div class="line">Writing objects: 100% (24/24), 122.16 KiB | 0 bytes/s, done.</div><div class="line">Total 24 (delta 1), reused 0 (delta 0)</div><div class="line">To https://renfeisong@bitbucket.org/renfeisong/project.git</div><div class="line">   d4eeb86..7d17136  develop -&gt; develop</div></pre></td></tr></table></figure>
<p>其中 <code>proj</code> 是之前设定的代号，而 <code>develop</code> 表示推送本地仓库的 <code>develop</code> 分支。</p>
<h3 id="更新本地仓库"><a href="#更新本地仓库" class="headerlink" title="更新本地仓库"></a>更新本地仓库</h3><p>此时，可以随时使用 <code>git pull</code> 命令来从远程仓库拉取更新。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">bogon:project renfei$ git pull</div><div class="line">Already up-to-date.</div></pre></td></tr></table></figure>
<p>如果没有更新，就会显示 <code>Already up-to-date</code>.</p>
<blockquote>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2></blockquote>
<p>Git 还有很多很多功能，比如从仓库移除文件、重命名、比较等。可以参考 Pro Git 这本书，是基于 CC 协议发布的。地址：<a href="http://git-scm.com/book/zh" target="_blank" rel="external">http://git-scm.com/book/zh</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/09/05/hello-world/" class="prev">PREV</a><a href="/2017/03/17/Ubuntu 配置 Apache, MySQL, PHP 以及 phpMyAdmin 过程记录/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'seansun';
var disqus_identifier = '2017/03/19/Git 快速开始简明教程/';
var disqus_title = '';
var disqus_url = 'http://yoursite.com/2017/03/19/Git 快速开始简明教程/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//seansun.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2017 <a href="http://yoursite.com">Richard Gavin</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>